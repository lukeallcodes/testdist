var $v=Object.create;var rd=Object.defineProperty,Yv=Object.defineProperties,Zv=Object.getOwnPropertyDescriptor,Xv=Object.getOwnPropertyDescriptors,qv=Object.getOwnPropertyNames,Xa=Object.getOwnPropertySymbols,Qv=Object.getPrototypeOf,id=Object.prototype.hasOwnProperty,Jg=Object.prototype.propertyIsEnumerable;var Kg=(t,e,r)=>e in t?rd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ee=(t,e)=>{for(var r in e||={})id.call(e,r)&&Kg(t,r,e[r]);if(Xa)for(var r of Xa(e))Jg.call(e,r)&&Kg(t,r,e[r]);return t},nt=(t,e)=>Yv(t,Xv(e));var e0=(t,e)=>{var r={};for(var n in t)id.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Xa)for(var n of Xa(t))e.indexOf(n)<0&&Jg.call(t,n)&&(r[n]=t[n]);return r};var Kv=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Jv=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of qv(e))!id.call(t,i)&&i!==r&&rd(t,i,{get:()=>e[i],enumerable:!(n=Zv(e,i))||n.enumerable});return t};var eE=(t,e,r)=>(r=t!=null?$v(Qv(t)):{},Jv(e||!t||!t.__esModule?rd(r,"default",{value:t,enumerable:!0}):r,t));var Ss=(t,e,r)=>new Promise((n,i)=>{var c=x=>{try{p(r.next(x))}catch(m){i(m)}},f=x=>{try{p(r.throw(x))}catch(m){i(m)}},p=x=>x.done?n(x.value):Promise.resolve(x.value).then(c,f);p((r=r.apply(t,e)).next())});var Ow=Kv((Nu,Nw)=>{"use strict";(function(t,e){typeof Nu=="object"&&typeof Nw<"u"?e(Nu):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.ZXing={}))})(Nu,function(t){"use strict";function e(C){return C==null}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,o){C.__proto__=o}||function(C,o){for(var s in o)o.hasOwnProperty(s)&&(C[s]=o[s])};function n(C,o){r(C,o);function s(){this.constructor=C}C.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}function i(C,o){var s=Object.setPrototypeOf;s?s(C,o):C.__proto__=o}function c(C,o){o===void 0&&(o=C.constructor);var s=Error.captureStackTrace;s&&s(C,o)}var f=function(C){n(o,C);function o(s){var a=this.constructor,l=C.call(this,s)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1}),i(l,a.prototype),c(l),l}return o}(Error);let p=(()=>{class C extends f{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}return C.kind="Exception",C})(),x=(()=>{class C extends p{}return C.kind="ArgumentException",C})(),m=(()=>{class C extends p{}return C.kind="IllegalArgumentException",C})();class E{constructor(o){if(this.binarizer=o,o===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,s){return this.binarizer.getBlackRow(o,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,s,a,l){let u=this.binarizer.getLuminanceSource().crop(o,s,a,l);return new E(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){let o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){let o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let D=(()=>{class C extends p{static getChecksumInstance(){return new C}}return C.kind="ChecksumException",C})();class T{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(o,s,a,l,u){for(;u--;)a[l++]=o[s++]}static currentTimeMillis(){return Date.now()}}let H=(()=>{class C extends p{}return C.kind="IndexOutOfBoundsException",C})(),J=(()=>{class C extends H{constructor(s=void 0,a=void 0){super(a),this.index=s,this.message=a}}return C.kind="ArrayIndexOutOfBoundsException",C})();class Y{static fill(o,s){for(let a=0,l=o.length;a<l;a++)o[a]=s}static fillWithin(o,s,a,l){Y.rangeCheck(o.length,s,a);for(let u=s;u<a;u++)o[u]=l}static rangeCheck(o,s,a){if(s>a)throw new m("fromIndex("+s+") > toIndex("+a+")");if(s<0)throw new J(s);if(a>o)throw new J(a)}static asList(...o){return o}static create(o,s,a){return Array.from({length:o}).map(u=>Array.from({length:s}).fill(a))}static createInt32Array(o,s,a){return Array.from({length:o}).map(u=>Int32Array.from({length:s}).fill(a))}static equals(o,s){if(!o||!s||!o.length||!s.length||o.length!==s.length)return!1;for(let a=0,l=o.length;a<l;a++)if(o[a]!==s[a])return!1;return!0}static hashCode(o){if(o===null)return 0;let s=1;for(let a of o)s=31*s+a;return s}static fillUint8Array(o,s){for(let a=0;a!==o.length;a++)o[a]=s}static copyOf(o,s){return o.slice(0,s)}static copyOfUint8Array(o,s){if(o.length<=s){let a=new Uint8Array(s);return a.set(o),a}return o.slice(0,s)}static copyOfRange(o,s,a){let l=a-s,u=new Int32Array(l);return N.arraycopy(o,s,u,0,l),u}static binarySearch(o,s,a){a===void 0&&(a=Y.numberComparator);let l=0,u=o.length-1;for(;l<=u;){let d=u+l>>1,h=a(s,o[d]);if(h>0)l=d+1;else if(h<0)u=d-1;else return d}return-l-1}static numberComparator(o,s){return o-s}}class V{static numberOfTrailingZeros(o){let s;if(o===0)return 32;let a=31;return s=o<<16,s!==0&&(a-=16,o=s),s=o<<8,s!==0&&(a-=8,o=s),s=o<<4,s!==0&&(a-=4,o=s),s=o<<2,s!==0&&(a-=2,o=s),a-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let s=1;return o>>>16||(s+=16,o<<=16),o>>>24||(s+=8,o<<=8),o>>>28||(s+=4,o<<=4),o>>>30||(s+=2,o<<=2),s-=o>>>31,s}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,s){return Math.trunc(o/s)}static parseInt(o,s=void 0){return parseInt(o,s)}}V.MIN_VALUE_32_BITS=-2147483648,V.MAX_VALUE=Number.MAX_SAFE_INTEGER;class se{constructor(o,s){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,s==null?this.bits=se.makeArray(o):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){let s=se.makeArray(o);N.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){let s=this.size;if(o>=s)return s;let a=this.bits,l=Math.floor(o/32),u=a[l];u&=~((1<<(o&31))-1);let d=a.length;for(;u===0;){if(++l===d)return s;u=a[l]}let h=l*32+V.numberOfTrailingZeros(u);return h>s?s:h}getNextUnset(o){let s=this.size;if(o>=s)return s;let a=this.bits,l=Math.floor(o/32),u=~a[l];u&=~((1<<(o&31))-1);let d=a.length;for(;u===0;){if(++l===d)return s;u=~a[l]}let h=l*32+V.numberOfTrailingZeros(u);return h>s?s:h}setBulk(o,s){this.bits[Math.floor(o/32)]=s}setRange(o,s){if(s<o||o<0||s>this.size)throw new m;if(s===o)return;s--;let a=Math.floor(o/32),l=Math.floor(s/32),u=this.bits;for(let d=a;d<=l;d++){let h=d>a?0:o&31,y=(2<<(d<l?31:s&31))-(1<<h);u[d]|=y}}clear(){let o=this.bits.length,s=this.bits;for(let a=0;a<o;a++)s[a]=0}isRange(o,s,a){if(s<o||o<0||s>this.size)throw new m;if(s===o)return!0;s--;let l=Math.floor(o/32),u=Math.floor(s/32),d=this.bits;for(let h=l;h<=u;h++){let g=h>l?0:o&31,w=(2<<(h<u?31:s&31))-(1<<g)&4294967295;if((d[h]&w)!==(a?w:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,s){if(s<0||s>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let a=s;a>0;a--)this.appendBit((o>>a-1&1)===1)}appendBitArray(o){let s=o.size;this.ensureCapacity(this.size+s);for(let a=0;a<s;a++)this.appendBit(o.get(a))}xor(o){if(this.size!==o.size)throw new m("Sizes don't match");let s=this.bits;for(let a=0,l=s.length;a<l;a++)s[a]^=o.bits[a]}toBytes(o,s,a,l){for(let u=0;u<l;u++){let d=0;for(let h=0;h<8;h++)this.get(o)&&(d|=1<<7-h),o++;s[a+u]=d}}getBitArray(){return this.bits}reverse(){let o=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),a=s+1,l=this.bits;for(let u=0;u<a;u++){let d=l[u];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,o[s-u]=d}if(this.size!==a*32){let u=a*32-this.size,d=o[0]>>>u;for(let h=1;h<a;h++){let g=o[h];d|=g<<32-u,o[h-1]=d,d=g>>>u}o[a-1]=d}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof se))return!1;let s=o;return this.size===s.size&&Y.equals(this.bits,s.bits)}hashCode(){return 31*this.size+Y.hashCode(this.bits)}toString(){let o="";for(let s=0,a=this.size;s<a;s++)s&7||(o+=" "),o+=this.get(s)?"X":".";return o}clone(){return new se(this.size,this.bits.slice())}}var Ke=function(C){return C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",C}(Ke||{}),re=Ke;let j=(()=>{class C extends p{static getFormatInstance(){return new C}}return C.kind="FormatException",C})();var me=function(C){return C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR",C}(me||{});class W{constructor(o,s,a,...l){this.valueIdentifier=o,this.name=a,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=l,W.VALUE_IDENTIFIER_TO_ECI.set(o,this),W.NAME_TO_ECI.set(a,this);let u=this.values;for(let d=0,h=u.length;d!==h;d++){let g=u[d];W.VALUES_TO_ECI.set(g,this)}for(let d of l)W.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new j("incorect value");let s=W.VALUES_TO_ECI.get(o);if(s===void 0)throw new j("incorect value");return s}static getCharacterSetECIByName(o){let s=W.NAME_TO_ECI.get(o);if(s===void 0)throw new j("incorect value");return s}equals(o){if(!(o instanceof W))return!1;let s=o;return this.getName()===s.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(me.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(me.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(me.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(me.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(me.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(me.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(me.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(me.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(me.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(me.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(me.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(me.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(me.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(me.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(me.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(me.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(me.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(me.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(me.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(me.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(me.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(me.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(me.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(me.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(me.Big5,28,"Big5"),W.GB18030=new W(me.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(me.EUC_KR,30,"EUC_KR","EUC-KR");let ur=(()=>{class C extends p{}return C.kind="UnsupportedOperationException",C})();class Zt{static decode(o,s){let a=this.encodingName(s);return this.customDecoder?this.customDecoder(o,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(o,a):new TextDecoder(a).decode(o)}static shouldDecodeOnFallback(o){return!Zt.isBrowser()&&o==="ISO-8859-1"}static encode(o,s){let a=this.encodingName(s);return this.customEncoder?this.customEncoder(o,a):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof W?o:W.getCharacterSetECIByName(o)}static decodeFallback(o,s){let a=this.encodingCharacterSet(s);if(Zt.isDecodeFallbackSupported(a)){let l="";for(let u=0,d=o.length;u<d;u++){let h=o[u].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(a.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new ur(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(W.UTF8)||o.equals(W.ISO8859_1)||o.equals(W.ASCII)}static encodeFallback(o){let a=btoa(unescape(encodeURIComponent(o))).split(""),l=[];for(let u=0;u<a.length;u++)l.push(a[u].charCodeAt(0));return new Uint8Array(l)}}class xe{static castAsNonUtf8Char(o,s=null){let a=s?s.getName():this.ISO88591;return Zt.decode(new Uint8Array([o]),a)}static guessEncoding(o,s){if(s!=null&&s.get(re.CHARACTER_SET)!==void 0)return s.get(re.CHARACTER_SET).toString();let a=o.length,l=!0,u=!0,d=!0,h=0,g=0,y=0,w=0,v=0,I=0,b=0,S=0,_=0,M=0,R=0,z=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let q=0;q<a&&(l||u||d);q++){let k=o[q]&255;d&&(h>0?k&128?h--:d=!1:k&128&&(k&64?(h++,k&32?(h++,k&16?(h++,k&8?d=!1:w++):y++):g++):d=!1)),l&&(k>127&&k<160?l=!1:k>159&&(k<192||k===215||k===247)&&R++),u&&(v>0?k<64||k===127||k>252?u=!1:v--:k===128||k===160||k>239?u=!1:k>160&&k<224?(I++,S=0,b++,b>_&&(_=b)):k>127?(v++,b=0,S++,S>M&&(M=S)):(b=0,S=0))}return d&&h>0&&(d=!1),u&&v>0&&(u=!1),d&&(z||g+y+w>0)?xe.UTF8:u&&(xe.ASSUME_SHIFT_JIS||_>=3||M>=3)?xe.SHIFT_JIS:l&&u?_===2&&I===2||R*10>=a?xe.SHIFT_JIS:xe.ISO88591:l?xe.ISO88591:u?xe.SHIFT_JIS:d?xe.UTF8:xe.PLATFORM_DEFAULT_ENCODING}static format(o,...s){let a=-1;function l(d,h,g,y,w,v){if(d==="%%")return"%";if(s[++a]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let I=w?parseInt(w.substr(1)):void 0,b;switch(v){case"s":b=s[a];break;case"c":b=s[a][0];break;case"f":b=parseFloat(s[a]).toFixed(d);break;case"p":b=parseFloat(s[a]).toPrecision(d);break;case"e":b=parseFloat(s[a]).toExponential(d);break;case"x":b=parseInt(s[a]).toString(I||16);break;case"d":b=parseFloat(parseInt(s[a],I||10).toPrecision(d)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(I);let S=parseInt(g),_=g&&g[0]+""=="0"?"0":" ";for(;b.length<S;)b=h!==void 0?b+_:_+b;return b}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(u,l)}static getBytes(o,s){return Zt.encode(o,s)}static getCharCode(o,s=0){return o.charCodeAt(s)}static getCharAt(o){return String.fromCharCode(o)}}xe.SHIFT_JIS=W.SJIS.getName(),xe.GB2312="GB2312",xe.ISO88591=W.ISO8859_1.getName(),xe.EUC_JP="EUC_JP",xe.UTF8=W.UTF8.getName(),xe.PLATFORM_DEFAULT_ENCODING=xe.UTF8,xe.ASSUME_SHIFT_JIS=!1;class Qe{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=xe.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,s,a){for(let l=s;s<s+a;l++)this.append(o[l]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,s){this.value=this.value.substr(0,o)+s+this.value.substr(o+1)}substring(o,s){return this.value.substring(o,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,s){this.value=this.value.substr(0,o)+s+this.value.substr(o+s.length)}}class Mt{constructor(o,s,a,l){if(this.width=o,this.height=s,this.rowSize=a,this.bits=l,s==null&&(s=o),this.height=s,o<1||s<1)throw new m("Both dimensions must be greater than 0");a==null&&(a=Math.floor((o+31)/32)),this.rowSize=a,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){let s=o.length,a=o[0].length,l=new Mt(a,s);for(let u=0;u<s;u++){let d=o[u];for(let h=0;h<a;h++)d[h]&&l.set(h,u)}return l}static parseFromString(o,s,a){if(o===null)throw new m("stringRepresentation cannot be null");let l=new Array(o.length),u=0,d=0,h=-1,g=0,y=0;for(;y<o.length;)if(o.charAt(y)===`
`||o.charAt(y)==="\r"){if(u>d){if(h===-1)h=u-d;else if(u-d!==h)throw new m("row lengths do not match");d=u,g++}y++}else if(o.substring(y,y+s.length)===s)y+=s.length,l[u]=!0,u++;else if(o.substring(y,y+a.length)===a)y+=a.length,l[u]=!1,u++;else throw new m("illegal character encountered: "+o.substring(y));if(u>d){if(h===-1)h=u-d;else if(u-d!==h)throw new m("row lengths do not match");g++}let w=new Mt(h,g);for(let v=0;v<u;v++)l[v]&&w.set(Math.floor(v%h),Math.floor(v/h));return w}get(o,s){let a=s*this.rowSize+Math.floor(o/32);return(this.bits[a]>>>(o&31)&1)!==0}set(o,s){let a=s*this.rowSize+Math.floor(o/32);this.bits[a]|=1<<(o&31)&4294967295}unset(o,s){let a=s*this.rowSize+Math.floor(o/32);this.bits[a]&=~(1<<(o&31)&4294967295)}flip(o,s){let a=s*this.rowSize+Math.floor(o/32);this.bits[a]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new m("input matrix dimensions do not match");let s=new se(Math.floor(this.width/32)+1),a=this.rowSize,l=this.bits;for(let u=0,d=this.height;u<d;u++){let h=u*a,g=o.getRow(u,s).getBitArray();for(let y=0;y<a;y++)l[h+y]^=g[y]}}clear(){let o=this.bits,s=o.length;for(let a=0;a<s;a++)o[a]=0}setRegion(o,s,a,l){if(s<0||o<0)throw new m("Left and top must be nonnegative");if(l<1||a<1)throw new m("Height and width must be at least 1");let u=o+a,d=s+l;if(d>this.height||u>this.width)throw new m("The region must fit inside the matrix");let h=this.rowSize,g=this.bits;for(let y=s;y<d;y++){let w=y*h;for(let v=o;v<u;v++)g[w+Math.floor(v/32)]|=1<<(v&31)&4294967295}}getRow(o,s){s==null||s.getSize()<this.width?s=new se(this.width):s.clear();let a=this.rowSize,l=this.bits,u=o*a;for(let d=0;d<a;d++)s.setBulk(d*32,l[u+d]);return s}setRow(o,s){N.arraycopy(s.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){let o=this.getWidth(),s=this.getHeight(),a=new se(o),l=new se(o);for(let u=0,d=Math.floor((s+1)/2);u<d;u++)a=this.getRow(u,a),l=this.getRow(s-1-u,l),a.reverse(),l.reverse(),this.setRow(u,l),this.setRow(s-1-u,a)}getEnclosingRectangle(){let o=this.width,s=this.height,a=this.rowSize,l=this.bits,u=o,d=s,h=-1,g=-1;for(let y=0;y<s;y++)for(let w=0;w<a;w++){let v=l[y*a+w];if(v!==0){if(y<d&&(d=y),y>g&&(g=y),w*32<u){let I=0;for(;!(v<<31-I&4294967295);)I++;w*32+I<u&&(u=w*32+I)}if(w*32+31>h){let I=31;for(;!(v>>>I);)I--;w*32+I>h&&(h=w*32+I)}}}return h<u||g<d?null:Int32Array.from([u,d,h-u+1,g-d+1])}getTopLeftOnBit(){let o=this.rowSize,s=this.bits,a=0;for(;a<s.length&&s[a]===0;)a++;if(a===s.length)return null;let l=a/o,u=a%o*32,d=s[a],h=0;for(;!(d<<31-h&4294967295);)h++;return u+=h,Int32Array.from([u,l])}getBottomRightOnBit(){let o=this.rowSize,s=this.bits,a=s.length-1;for(;a>=0&&s[a]===0;)a--;if(a<0)return null;let l=Math.floor(a/o),u=Math.floor(a%o)*32,d=s[a],h=31;for(;!(d>>>h);)h--;return u+=h,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof Mt))return!1;let s=o;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&Y.equals(this.bits,s.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+Y.hashCode(this.bits),o}toString(o="X ",s="  ",a=`
`){return this.buildToString(o,s,a)}buildToString(o,s,a){let l=new Qe;for(let u=0,d=this.height;u<d;u++){for(let h=0,g=this.width;h<g;h++)l.append(this.get(h,u)?o:s);l.append(a)}return l.toString()}clone(){return new Mt(this.width,this.height,this.rowSize,this.bits.slice())}}let B=(()=>{class C extends p{static getNotFoundInstance(){return new C}}return C.kind="NotFoundException",C})();class Nt extends T{constructor(o){super(o),this.luminances=Nt.EMPTY,this.buckets=new Int32Array(Nt.LUMINANCE_BUCKETS)}getBlackRow(o,s){let a=this.getLuminanceSource(),l=a.getWidth();s==null||s.getSize()<l?s=new se(l):s.clear(),this.initArrays(l);let u=a.getRow(o,this.luminances),d=this.buckets;for(let g=0;g<l;g++)d[(u[g]&255)>>Nt.LUMINANCE_SHIFT]++;let h=Nt.estimateBlackPoint(d);if(l<3)for(let g=0;g<l;g++)(u[g]&255)<h&&s.set(g);else{let g=u[0]&255,y=u[1]&255;for(let w=1;w<l-1;w++){let v=u[w+1]&255;(y*4-g-v)/2<h&&s.set(w),g=y,y=v}}return s}getBlackMatrix(){let o=this.getLuminanceSource(),s=o.getWidth(),a=o.getHeight(),l=new Mt(s,a);this.initArrays(s);let u=this.buckets;for(let g=1;g<5;g++){let y=Math.floor(a*g/5),w=o.getRow(y,this.luminances),v=Math.floor(s*4/5);for(let I=Math.floor(s/5);I<v;I++){let b=w[I]&255;u[b>>Nt.LUMINANCE_SHIFT]++}}let d=Nt.estimateBlackPoint(u),h=o.getMatrix();for(let g=0;g<a;g++){let y=g*s;for(let w=0;w<s;w++)(h[y+w]&255)<d&&l.set(w,g)}return l}createBinarizer(o){return new Nt(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));let s=this.buckets;for(let a=0;a<Nt.LUMINANCE_BUCKETS;a++)s[a]=0}static estimateBlackPoint(o){let s=o.length,a=0,l=0,u=0;for(let w=0;w<s;w++)o[w]>u&&(l=w,u=o[w]),o[w]>a&&(a=o[w]);let d=0,h=0;for(let w=0;w<s;w++){let v=w-l,I=o[w]*v*v;I>h&&(d=w,h=I)}if(l>d){let w=l;l=d,d=w}if(d-l<=s/16)throw new B;let g=d-1,y=-1;for(let w=d-1;w>l;w--){let v=w-l,I=v*v*(d-w)*(a-o[w]);I>y&&(g=w,y=I)}return g<<Nt.LUMINANCE_SHIFT}}Nt.LUMINANCE_BITS=5,Nt.LUMINANCE_SHIFT=8-Nt.LUMINANCE_BITS,Nt.LUMINANCE_BUCKETS=1<<Nt.LUMINANCE_BITS,Nt.EMPTY=Uint8ClampedArray.from([0]);class Se extends Nt{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;let o=this.getLuminanceSource(),s=o.getWidth(),a=o.getHeight();if(s>=Se.MINIMUM_DIMENSION&&a>=Se.MINIMUM_DIMENSION){let l=o.getMatrix(),u=s>>Se.BLOCK_SIZE_POWER;s&Se.BLOCK_SIZE_MASK&&u++;let d=a>>Se.BLOCK_SIZE_POWER;a&Se.BLOCK_SIZE_MASK&&d++;let h=Se.calculateBlackPoints(l,u,d,s,a),g=new Mt(s,a);Se.calculateThresholdForBlock(l,u,d,s,a,h,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new Se(o)}static calculateThresholdForBlock(o,s,a,l,u,d,h){let g=u-Se.BLOCK_SIZE,y=l-Se.BLOCK_SIZE;for(let w=0;w<a;w++){let v=w<<Se.BLOCK_SIZE_POWER;v>g&&(v=g);let I=Se.cap(w,2,a-3);for(let b=0;b<s;b++){let S=b<<Se.BLOCK_SIZE_POWER;S>y&&(S=y);let _=Se.cap(b,2,s-3),M=0;for(let z=-2;z<=2;z++){let q=d[I+z];M+=q[_-2]+q[_-1]+q[_]+q[_+1]+q[_+2]}let R=M/25;Se.thresholdBlock(o,S,v,R,l,h)}}}static cap(o,s,a){return o<s?s:o>a?a:o}static thresholdBlock(o,s,a,l,u,d){for(let h=0,g=a*u+s;h<Se.BLOCK_SIZE;h++,g+=u)for(let y=0;y<Se.BLOCK_SIZE;y++)(o[g+y]&255)<=l&&d.set(s+y,a+h)}static calculateBlackPoints(o,s,a,l,u){let d=u-Se.BLOCK_SIZE,h=l-Se.BLOCK_SIZE,g=new Array(a);for(let y=0;y<a;y++){g[y]=new Int32Array(s);let w=y<<Se.BLOCK_SIZE_POWER;w>d&&(w=d);for(let v=0;v<s;v++){let I=v<<Se.BLOCK_SIZE_POWER;I>h&&(I=h);let b=0,S=255,_=0;for(let R=0,z=w*l+I;R<Se.BLOCK_SIZE;R++,z+=l){for(let q=0;q<Se.BLOCK_SIZE;q++){let k=o[z+q]&255;b+=k,k<S&&(S=k),k>_&&(_=k)}if(_-S>Se.MIN_DYNAMIC_RANGE)for(R++,z+=l;R<Se.BLOCK_SIZE;R++,z+=l)for(let q=0;q<Se.BLOCK_SIZE;q++)b+=o[z+q]&255}let M=b>>Se.BLOCK_SIZE_POWER*2;if(_-S<=Se.MIN_DYNAMIC_RANGE&&(M=S/2,y>0&&v>0)){let R=(g[y-1][v]+2*g[y][v-1]+g[y-1][v-1])/4;S<R&&(M=R)}g[y][v]=M}}return g}}Se.BLOCK_SIZE_POWER=3,Se.BLOCK_SIZE=1<<Se.BLOCK_SIZE_POWER,Se.BLOCK_SIZE_MASK=Se.BLOCK_SIZE-1,Se.MINIMUM_DIMENSION=Se.BLOCK_SIZE*5,Se.MIN_DYNAMIC_RANGE=24;class ps{constructor(o,s){this.width=o,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,s,a,l){throw new ur("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ur("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ur("This luminance source does not support rotation by 45 degrees.")}toString(){let o=new Uint8ClampedArray(this.width),s=new Qe;for(let a=0;a<this.height;a++){let l=this.getRow(a,o);for(let u=0;u<this.width;u++){let d=l[u]&255,h;d<64?h="#":d<128?h="+":d<192?h=".":h=" ",s.append(h)}s.append(`
`)}return s.toString()}}class Zr extends ps{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,s){let a=this.delegate.getRow(o,s),l=this.getWidth();for(let u=0;u<l;u++)a[u]=255-(a[u]&255);return a}getMatrix(){let o=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(s);for(let l=0;l<s;l++)a[l]=255-(o[l]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(o,s,a,l){return new Zr(this.delegate.crop(o,s,a,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Zr(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Zr(this.delegate.rotateCounterClockwise45())}}class Xr extends ps{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Xr.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){let s=o.getContext("2d").getImageData(0,0,o.width,o.height);return Xr.toGrayscaleBuffer(s.data,o.width,o.height)}static toGrayscaleBuffer(o,s,a){let l=new Uint8ClampedArray(s*a);for(let u=0,d=0,h=o.length;u<h;u+=4,d++){let g;if(o[u+3]===0)g=255;else{let w=o[u],v=o[u+1],I=o[u+2];g=306*w+601*v+117*I+512>>10}l[d]=g}return l}getRow(o,s){if(o<0||o>=this.getHeight())throw new m("Requested row is outside the image: "+o);let a=this.getWidth(),l=o*a;return s===null?s=this.buffer.slice(l,l+a):(s.length<a&&(s=new Uint8ClampedArray(a)),s.set(this.buffer.slice(l,l+a))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,s,a,l){return super.crop(o,s,a,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){let o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){let s=this.getTempCanvasElement(),a=s.getContext("2d"),l=o*Xr.DEGREE_TO_RADIANS,u=this.canvas.width,d=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*d),g=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*d);return s.width=h,s.height=g,a.translate(h/2,g/2),a.rotate(l),a.drawImage(this.canvas,u/-2,d/-2),this.buffer=Xr.makeBufferFromCanvasImageData(s),this}invert(){return new Zr(this)}}Xr.DEGREE_TO_RADIANS=Math.PI/180;class Ag{constructor(o,s,a){this.deviceId=o,this.label=s,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Jt=(globalThis||global||self||window||void 0)&&(globalThis||global||self||window||void 0).__awaiter||function(C,o,s,a){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function h(w){try{y(a.next(w))}catch(v){d(v)}}function g(w){try{y(a.throw(w))}catch(v){d(v)}}function y(w){w.done?u(w.value):l(w.value).then(h,g)}y((a=a.apply(C,o||[])).next())})};class Pi{constructor(o,s=500,a){this.reader=o,this.timeBetweenScansMillis=s,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Jt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");let o=yield navigator.mediaDevices.enumerateDevices(),s=[];for(let a of o){let l=a.kind==="video"?"videoinput":a.kind;if(l!=="videoinput")continue;let u=a.deviceId||a.id,d=a.label||`Video device ${s.length+1}`,h=a.groupId,g={deviceId:u,label:d,kind:l,groupId:h};s.push(g)}return s})}getVideoInputDevices(){return Jt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new Ag(s.deviceId,s.label))})}findDeviceById(o){return Jt(this,void 0,void 0,function*(){let s=yield this.listVideoInputDevices();return s?s.find(a=>a.deviceId===o):null})}decodeFromInputVideoDevice(o,s){return Jt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,s)})}decodeOnceFromVideoDevice(o,s){return Jt(this,void 0,void 0,function*(){this.reset();let a;o?a={deviceId:{exact:o}}:a={facingMode:"environment"};let l={video:a};return yield this.decodeOnceFromConstraints(l,s)})}decodeOnceFromConstraints(o,s){return Jt(this,void 0,void 0,function*(){let a=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(a,s)})}decodeOnceFromStream(o,s){return Jt(this,void 0,void 0,function*(){this.reset();let a=yield this.attachStreamToVideo(o,s);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(o,s,a){return Jt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,s,a)})}decodeFromVideoDevice(o,s,a){return Jt(this,void 0,void 0,function*(){let l;o?l={deviceId:{exact:o}}:l={facingMode:"environment"};let u={video:l};return yield this.decodeFromConstraints(u,s,a)})}decodeFromConstraints(o,s,a){return Jt(this,void 0,void 0,function*(){let l=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(l,s,a)})}decodeFromStream(o,s,a){return Jt(this,void 0,void 0,function*(){this.reset();let l=yield this.attachStreamToVideo(o,s);return yield this.decodeContinuously(l,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,s){return Jt(this,void 0,void 0,function*(){let a=this.prepareVideoElement(s);return this.addVideoSource(a,o),this.videoElement=a,this.stream=o,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(o){return new Promise((s,a)=>this.playVideoOnLoad(o,()=>s()))}playVideoOnLoad(o,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",s),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Jt(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,s){let a=document.getElementById(o);if(!a)throw new x(`element with id '${o}' not found`);if(a.nodeName.toLowerCase()!==s.toLowerCase())throw new x(`element with id '${o}' must be an ${s} element`);return a}decodeFromImage(o,s){if(!o&&!s)throw new x("either imageElement with a src set or an url must be provided");return s&&!o?this.decodeFromImageUrl(s):this.decodeFromImageElement(o)}decodeFromVideo(o,s){if(!o&&!s)throw new x("Either an element with a src set or an URL must be provided");return s&&!o?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,s,a){if(o===void 0&&s===void 0)throw new x("Either an element with a src set or an URL must be provided");return s&&!o?this.decodeFromVideoUrlContinuously(s,a):this.decodeFromVideoElementContinuously(o,a)}decodeFromImageElement(o){if(!o)throw new x("An image element must be provided.");this.reset();let s=this.prepareImageElement(o);this.imageElement=s;let a;return this.isImageLoaded(s)?a=this.decodeOnce(s,!1,!0):a=this._decodeOnLoadImage(s),a}decodeFromVideoElement(o){let s=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(o,s){let a=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(a,s)}_decodeFromVideoElementSetup(o){if(!o)throw new x("A video element must be provided.");this.reset();let s=this.prepareVideoElement(o);return this.videoElement=s,s}decodeFromImageUrl(o){if(!o)throw new x("An URL must be provided.");this.reset();let s=this.prepareImageElement();this.imageElement=s;let a=this._decodeOnLoadImage(s);return s.src=o,a}decodeFromVideoUrl(o){if(!o)throw new x("An URL must be provided.");this.reset();let s=this.prepareVideoElement(),a=this.decodeFromVideoElement(s);return s.src=o,a}decodeFromVideoUrlContinuously(o,s){if(!o)throw new x("An URL must be provided.");this.reset();let a=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(a,s);return a.src=o,l}_decodeOnLoadImage(o){return new Promise((s,a)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(s,a),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Jt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,s){return Jt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,s)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let s;return typeof o>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof o=="string"&&(s=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(s=o),s}prepareVideoElement(o){let s;return!o&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof o=="string"&&(s=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(s=o),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(o,s=!0,a=!0){this._stopAsyncDecode=!1;let l=(u,d)=>{if(this._stopAsyncDecode){d(new B("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{let h=this.decode(o);u(h)}catch(h){let g=s&&h instanceof B,w=(h instanceof D||h instanceof j)&&a;if(g||w)return setTimeout(l,this._timeBetweenDecodingAttempts,u,d);d(h)}};return new Promise((u,d)=>l(u,d))}decodeContinuously(o,s){this._stopContinuousDecode=!1;let a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{let l=this.decode(o);s(l,null),setTimeout(a,this.timeBetweenScansMillis)}catch(l){s(null,l);let u=l instanceof D||l instanceof j,d=l instanceof B;(u||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(o){let s=this.createBinaryBitmap(o);return this.decodeBitmap(s)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,s,a){s||(s={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(o,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(o,s,a=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(o,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(o){let s=this.getCaptureCanvasContext(o);this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);let a=this.getCaptureCanvas(o),l=new Xr(a),u=new Se(l);return new E(u)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){let a=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){let s=this.createCaptureCanvas(o);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;let s=document.createElement("canvas"),a,l;return typeof o<"u"&&(o instanceof HTMLVideoElement?(a=o.videoWidth,l=o.videoHeight):o instanceof HTMLImageElement&&(a=o.naturalWidth||o.width,l=o.naturalHeight||o.height)),s.style.width=a+"px",s.style.height=l+"px",s.width=a,s.height=l,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,s){try{o.srcObject=s}catch{o.src=URL.createObjectURL(s)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class en{constructor(o,s,a=s==null?0:8*s.length,l,u,d=N.currentTimeMillis()){this.text=o,this.rawBytes=s,this.numBits=a,this.resultPoints=l,this.format=u,this.timestamp=d,this.text=o,this.rawBytes=s,a==null?this.numBits=s==null?0:8*s.length:this.numBits=a,this.resultPoints=l,this.format=u,this.resultMetadata=null,d==null?this.timestamp=N.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,s)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){let s=this.resultPoints;if(s===null)this.resultPoints=o;else if(o!==null&&o.length>0){let a=new Array(s.length+o.length);N.arraycopy(s,0,a,0,s.length),N.arraycopy(o,0,a,s.length,o.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var bg=function(C){return C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",C}(bg||{}),pe=bg,Sg=function(C){return C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",C}(Sg||{}),Ot=Sg;class gs{constructor(o,s,a,l,u=-1,d=-1){this.rawBytes=o,this.text=s,this.byteSegments=a,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=d,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ms{exp(o){return this.expTable[o]}log(o){if(o===0)throw new m;return this.logTable[o]}static addOrSubtract(o,s){return o^s}}class dn{constructor(o,s){if(s.length===0)throw new m;this.field=o;let a=s.length;if(a>1&&s[0]===0){let l=1;for(;l<a&&s[l]===0;)l++;l===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-l),N.arraycopy(s,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);let s=this.coefficients,a;if(o===1){a=0;for(let d=0,h=s.length;d!==h;d++){let g=s[d];a=ms.addOrSubtract(a,g)}return a}a=s[0];let l=s.length,u=this.field;for(let d=1;d<l;d++)a=ms.addOrSubtract(u.multiply(o,a),s[d]);return a}addOrSubtract(o){if(!this.field.equals(o.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let s=this.coefficients,a=o.coefficients;if(s.length>a.length){let d=s;s=a,a=d}let l=new Int32Array(a.length),u=a.length-s.length;N.arraycopy(a,0,l,0,u);for(let d=u;d<a.length;d++)l[d]=ms.addOrSubtract(s[d-u],a[d]);return new dn(this.field,l)}multiply(o){if(!this.field.equals(o.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();let s=this.coefficients,a=s.length,l=o.coefficients,u=l.length,d=new Int32Array(a+u-1),h=this.field;for(let g=0;g<a;g++){let y=s[g];for(let w=0;w<u;w++)d[g+w]=ms.addOrSubtract(d[g+w],h.multiply(y,l[w]))}return new dn(h,d)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;let s=this.coefficients.length,a=this.field,l=new Int32Array(s),u=this.coefficients;for(let d=0;d<s;d++)l[d]=a.multiply(u[d],o);return new dn(a,l)}multiplyByMonomial(o,s){if(o<0)throw new m;if(s===0)return this.field.getZero();let a=this.coefficients,l=a.length,u=new Int32Array(l+o),d=this.field;for(let h=0;h<l;h++)u[h]=d.multiply(a[h],s);return new dn(d,u)}divide(o){if(!this.field.equals(o.field))throw new m("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new m("Divide by 0");let s=this.field,a=s.getZero(),l=this,u=o.getCoefficient(o.getDegree()),d=s.inverse(u);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let h=l.getDegree()-o.getDegree(),g=s.multiply(l.getCoefficient(l.getDegree()),d),y=o.multiplyByMonomial(h,g),w=s.buildMonomial(h,g);a=a.addOrSubtract(w),l=l.addOrSubtract(y)}return[a,l]}toString(){let o="";for(let s=this.getDegree();s>=0;s--){let a=this.getCoefficient(s);if(a!==0){if(a<0?(o+=" - ",a=-a):o.length>0&&(o+=" + "),s===0||a!==1){let l=this.field.log(a);l===0?o+="1":l===1?o+="a":(o+="a^",o+=l)}s!==0&&(s===1?o+="x":(o+="x^",o+=s))}}return o}}let Fu=(()=>{class C extends p{}return C.kind="ArithmeticException",C})();class je extends ms{constructor(o,s,a){super(),this.primitive=o,this.size=s,this.generatorBase=a;let l=new Int32Array(s),u=1;for(let h=0;h<s;h++)l[h]=u,u*=2,u>=s&&(u^=o,u&=s-1);this.expTable=l;let d=new Int32Array(s);for(let h=0;h<s-1;h++)d[l[h]]=h;this.logTable=d,this.zero=new dn(this,Int32Array.from([0])),this.one=new dn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,s){if(o<0)throw new m;if(s===0)return this.zero;let a=new Int32Array(o+1);return a[0]=s,new dn(this,a)}inverse(o){if(o===0)throw new Fu;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,s){return o===0||s===0?0:this.expTable[(this.logTable[o]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+V.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}je.AZTEC_DATA_12=new je(4201,4096,1),je.AZTEC_DATA_10=new je(1033,1024,1),je.AZTEC_DATA_6=new je(67,64,1),je.AZTEC_PARAM=new je(19,16,1),je.QR_CODE_FIELD_256=new je(285,256,0),je.DATA_MATRIX_FIELD_256=new je(301,256,1),je.AZTEC_DATA_8=je.DATA_MATRIX_FIELD_256,je.MAXICODE_FIELD_64=je.AZTEC_DATA_6;let ys=(()=>{class C extends p{}return C.kind="ReedSolomonException",C})(),Nr=(()=>{class C extends p{}return C.kind="IllegalStateException",C})();class Cs{constructor(o){this.field=o}decode(o,s){let a=this.field,l=new dn(a,o),u=new Int32Array(s),d=!0;for(let b=0;b<s;b++){let S=l.evaluateAt(a.exp(b+a.getGeneratorBase()));u[u.length-1-b]=S,S!==0&&(d=!1)}if(d)return;let h=new dn(a,u),g=this.runEuclideanAlgorithm(a.buildMonomial(s,1),h,s),y=g[0],w=g[1],v=this.findErrorLocations(y),I=this.findErrorMagnitudes(w,v);for(let b=0;b<v.length;b++){let S=o.length-1-a.log(v[b]);if(S<0)throw new ys("Bad error location");o[S]=je.addOrSubtract(o[S],I[b])}}runEuclideanAlgorithm(o,s,a){if(o.getDegree()<s.getDegree()){let b=o;o=s,s=b}let l=this.field,u=o,d=s,h=l.getZero(),g=l.getOne();for(;d.getDegree()>=(a/2|0);){let b=u,S=h;if(u=d,h=g,u.isZero())throw new ys("r_{i-1} was zero");d=b;let _=l.getZero(),M=u.getCoefficient(u.getDegree()),R=l.inverse(M);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let z=d.getDegree()-u.getDegree(),q=l.multiply(d.getCoefficient(d.getDegree()),R);_=_.addOrSubtract(l.buildMonomial(z,q)),d=d.addOrSubtract(u.multiplyByMonomial(z,q))}if(g=_.multiply(h).addOrSubtract(S),d.getDegree()>=u.getDegree())throw new Nr("Division algorithm failed to reduce polynomial?")}let y=g.getCoefficient(0);if(y===0)throw new ys("sigmaTilde(0) was zero");let w=l.inverse(y),v=g.multiplyScalar(w),I=d.multiplyScalar(w);return[v,I]}findErrorLocations(o){let s=o.getDegree();if(s===1)return Int32Array.from([o.getCoefficient(1)]);let a=new Int32Array(s),l=0,u=this.field;for(let d=1;d<u.getSize()&&l<s;d++)o.evaluateAt(d)===0&&(a[l]=u.inverse(d),l++);if(l!==s)throw new ys("Error locator degree does not match number of roots");return a}findErrorMagnitudes(o,s){let a=s.length,l=new Int32Array(a),u=this.field;for(let d=0;d<a;d++){let h=u.inverse(s[d]),g=1;for(let y=0;y<a;y++)if(d!==y){let w=u.multiply(s[y],h),v=w&1?w&-2:w|1;g=u.multiply(g,v)}l[d]=u.multiply(o.evaluateAt(h),u.inverse(g)),u.getGeneratorBase()!==0&&(l[d]=u.multiply(l[d],h))}return l}}var Xt=function(C){return C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY",C}(Xt||{});let Pu=(()=>{class C{decode(s){this.ddata=s;let a=s.getBits(),l=this.extractBits(a),u=this.correctBits(l),d=C.convertBoolArrayToByteArray(u),h=C.getEncodedData(u),g=new gs(d,h,null,null);return g.setNumBits(u.length),g}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let a=s.length,l=Xt.UPPER,u=Xt.UPPER,d="",h=0;for(;h<a;)if(u===Xt.BINARY){if(a-h<5)break;let g=C.readCode(s,h,5);if(h+=5,g===0){if(a-h<11)break;g=C.readCode(s,h,11)+31,h+=11}for(let y=0;y<g;y++){if(a-h<8){h=a;break}let w=C.readCode(s,h,8);d+=xe.castAsNonUtf8Char(w),h+=8}u=l}else{let g=u===Xt.DIGIT?4:5;if(a-h<g)break;let y=C.readCode(s,h,g);h+=g;let w=C.getCharacter(u,y);w.startsWith("CTRL_")?(l=u,u=C.getTable(w.charAt(5)),w.charAt(6)==="L"&&(l=u)):(d+=w,u=l)}return d}static getTable(s){switch(s){case"L":return Xt.LOWER;case"P":return Xt.PUNCT;case"M":return Xt.MIXED;case"D":return Xt.DIGIT;case"B":return Xt.BINARY;case"U":default:return Xt.UPPER}}static getCharacter(s,a){switch(s){case Xt.UPPER:return C.UPPER_TABLE[a];case Xt.LOWER:return C.LOWER_TABLE[a];case Xt.MIXED:return C.MIXED_TABLE[a];case Xt.PUNCT:return C.PUNCT_TABLE[a];case Xt.DIGIT:return C.DIGIT_TABLE[a];default:throw new Nr("Bad table")}}correctBits(s){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=je.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=je.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=je.AZTEC_DATA_10):(l=12,a=je.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),d=s.length/l;if(d<u)throw new j;let h=s.length%l,g=new Int32Array(d);for(let b=0;b<d;b++,h+=l)g[b]=C.readCode(s,h,l);try{new Cs(a).decode(g,d-u)}catch(b){throw new j(b)}let y=(1<<l)-1,w=0;for(let b=0;b<u;b++){let S=g[b];if(S===0||S===y)throw new j;(S===1||S===y-1)&&w++}let v=new Array(u*l-w),I=0;for(let b=0;b<u;b++){let S=g[b];if(S===1||S===y-1)v.fill(S>1,I,I+l-1),I+=l-1;else for(let _=l-1;_>=0;--_)v[I++]=(S&1<<_)!==0}return v}extractBits(s){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(a?11:14)+l*4,d=new Int32Array(u),h=new Array(this.totalBitsInLayer(l,a));if(a)for(let g=0;g<d.length;g++)d[g]=g;else{let g=u+1+2*V.truncDivision(V.truncDivision(u,2)-1,15),y=u/2,w=V.truncDivision(g,2);for(let v=0;v<y;v++){let I=v+V.truncDivision(v,15);d[y-v-1]=w-I-1,d[y+v]=w+I+1}}for(let g=0,y=0;g<l;g++){let w=(l-g)*4+(a?9:12),v=g*2,I=u-1-v;for(let b=0;b<w;b++){let S=b*2;for(let _=0;_<2;_++)h[y+S+_]=s.get(d[v+_],d[v+b]),h[y+2*w+S+_]=s.get(d[v+b],d[I-_]),h[y+4*w+S+_]=s.get(d[I-_],d[I-b]),h[y+6*w+S+_]=s.get(d[I-b],d[v+_])}y+=w*8}return h}static readCode(s,a,l){let u=0;for(let d=a;d<a+l;d++)u<<=1,s[d]&&(u|=1);return u}static readByte(s,a){let l=s.length-a;return l>=8?C.readCode(s,a,8):C.readCode(s,a,l)<<8-l}static convertBoolArrayToByteArray(s){let a=new Uint8Array((s.length+7)/8);for(let l=0;l<a.length;l++)a[l]=C.readByte(s,8*l);return a}totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}return C.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],C.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],C.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],C.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],C.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],C})();class Be{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,s,a,l){let u=o-a,d=s-l;return Math.sqrt(u*u+d*d)}static sum(o){let s=0;for(let a=0,l=o.length;a!==l;a++){let u=o[a];s+=u}return s}}class Pa{static floatToIntBits(o){return o}}Pa.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(o,s){this.x=o,this.y=s}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof oe){let s=o;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*Pa.floatToIntBits(this.x)+Pa.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){let s=this.distance(o[0],o[1]),a=this.distance(o[1],o[2]),l=this.distance(o[0],o[2]),u,d,h;if(a>=s&&a>=l?(d=o[0],u=o[1],h=o[2]):l>=a&&l>=s?(d=o[1],u=o[0],h=o[2]):(d=o[2],u=o[0],h=o[1]),this.crossProductZ(u,d,h)<0){let g=u;u=h,h=g}o[0]=u,o[1]=d,o[2]=h}static distance(o,s){return Be.distance(o.x,o.y,s.x,s.y)}static crossProductZ(o,s,a){let l=s.x,u=s.y;return(a.x-l)*(o.y-u)-(a.y-u)*(o.x-l)}}class La{constructor(o,s){this.bits=o,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class _g extends La{constructor(o,s,a,l,u){super(o,s),this.compact=a,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let ka=(()=>{class C{constructor(s,a,l,u){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),a==null&&(a=C.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),u==null&&(u=s.getHeight()/2|0);let d=a/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=u-d,this.downInit=u+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new B}detect(){let s=this.leftInit,a=this.rightInit,l=this.upInit,u=this.downInit,d=!1,h=!0,g=!1,y=!1,w=!1,v=!1,I=!1,b=this.width,S=this.height;for(;h;){h=!1;let _=!0;for(;(_||!y)&&a<b;)_=this.containsBlackPoint(l,u,a,!1),_?(a++,h=!0,y=!0):y||a++;if(a>=b){d=!0;break}let M=!0;for(;(M||!w)&&u<S;)M=this.containsBlackPoint(s,a,u,!0),M?(u++,h=!0,w=!0):w||u++;if(u>=S){d=!0;break}let R=!0;for(;(R||!v)&&s>=0;)R=this.containsBlackPoint(l,u,s,!1),R?(s--,h=!0,v=!0):v||s--;if(s<0){d=!0;break}let z=!0;for(;(z||!I)&&l>=0;)z=this.containsBlackPoint(s,a,l,!0),z?(l--,h=!0,I=!0):I||l--;if(l<0){d=!0;break}h&&(g=!0)}if(!d&&g){let _=a-s,M=null;for(let k=1;M===null&&k<_;k++)M=this.getBlackPointOnSegment(s,u-k,s+k,u);if(M==null)throw new B;let R=null;for(let k=1;R===null&&k<_;k++)R=this.getBlackPointOnSegment(s,l+k,s+k,l);if(R==null)throw new B;let z=null;for(let k=1;z===null&&k<_;k++)z=this.getBlackPointOnSegment(a,l+k,a-k,l);if(z==null)throw new B;let q=null;for(let k=1;q===null&&k<_;k++)q=this.getBlackPointOnSegment(a,u-k,a-k,u);if(q==null)throw new B;return this.centerEdges(q,M,z,R)}else throw new B}getBlackPointOnSegment(s,a,l,u){let d=Be.round(Be.distance(s,a,l,u)),h=(l-s)/d,g=(u-a)/d,y=this.image;for(let w=0;w<d;w++){let v=Be.round(s+w*h),I=Be.round(a+w*g);if(y.get(v,I))return new oe(v,I)}return null}centerEdges(s,a,l,u){let d=s.getX(),h=s.getY(),g=a.getX(),y=a.getY(),w=l.getX(),v=l.getY(),I=u.getX(),b=u.getY(),S=C.CORR;return d<this.width/2?[new oe(I-S,b+S),new oe(g+S,y+S),new oe(w-S,v-S),new oe(d+S,h-S)]:[new oe(I+S,b+S),new oe(g+S,y-S),new oe(w-S,v+S),new oe(d-S,h-S)]}containsBlackPoint(s,a,l,u){let d=this.image;if(u){for(let h=s;h<=a;h++)if(d.get(h,l))return!0}else for(let h=s;h<=a;h++)if(d.get(l,h))return!0;return!1}}return C.INIT_SIZE=10,C.CORR=1,C})();class Lu{static checkAndNudgePoints(o,s){let a=o.getWidth(),l=o.getHeight(),u=!0;for(let d=0;d<s.length&&u;d+=2){let h=Math.floor(s[d]),g=Math.floor(s[d+1]);if(h<-1||h>a||g<-1||g>l)throw new B;u=!1,h===-1?(s[d]=0,u=!0):h===a&&(s[d]=a-1,u=!0),g===-1?(s[d+1]=0,u=!0):g===l&&(s[d+1]=l-1,u=!0)}u=!0;for(let d=s.length-2;d>=0&&u;d-=2){let h=Math.floor(s[d]),g=Math.floor(s[d+1]);if(h<-1||h>a||g<-1||g>l)throw new B;u=!1,h===-1?(s[d]=0,u=!0):h===a&&(s[d]=a-1,u=!0),g===-1?(s[d+1]=0,u=!0):g===l&&(s[d+1]=l-1,u=!0)}}}class Gn{constructor(o,s,a,l,u,d,h,g,y){this.a11=o,this.a21=s,this.a31=a,this.a12=l,this.a22=u,this.a32=d,this.a13=h,this.a23=g,this.a33=y}static quadrilateralToQuadrilateral(o,s,a,l,u,d,h,g,y,w,v,I,b,S,_,M){let R=Gn.quadrilateralToSquare(o,s,a,l,u,d,h,g);return Gn.squareToQuadrilateral(y,w,v,I,b,S,_,M).times(R)}transformPoints(o){let s=o.length,a=this.a11,l=this.a12,u=this.a13,d=this.a21,h=this.a22,g=this.a23,y=this.a31,w=this.a32,v=this.a33;for(let I=0;I<s;I+=2){let b=o[I],S=o[I+1],_=u*b+g*S+v;o[I]=(a*b+d*S+y)/_,o[I+1]=(l*b+h*S+w)/_}}transformPointsWithValues(o,s){let a=this.a11,l=this.a12,u=this.a13,d=this.a21,h=this.a22,g=this.a23,y=this.a31,w=this.a32,v=this.a33,I=o.length;for(let b=0;b<I;b++){let S=o[b],_=s[b],M=u*S+g*_+v;o[b]=(a*S+d*_+y)/M,s[b]=(l*S+h*_+w)/M}}static squareToQuadrilateral(o,s,a,l,u,d,h,g){let y=o-a+u-h,w=s-l+d-g;if(y===0&&w===0)return new Gn(a-o,u-a,o,l-s,d-l,s,0,0,1);{let v=a-u,I=h-u,b=l-d,S=g-d,_=v*S-I*b,M=(y*S-I*w)/_,R=(v*w-y*b)/_;return new Gn(a-o+M*a,h-o+R*h,o,l-s+M*l,g-s+R*g,s,M,R,1)}}static quadrilateralToSquare(o,s,a,l,u,d,h,g){return Gn.squareToQuadrilateral(o,s,a,l,u,d,h,g).buildAdjoint()}buildAdjoint(){return new Gn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new Gn(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Tg extends Lu{sampleGrid(o,s,a,l,u,d,h,g,y,w,v,I,b,S,_,M,R,z,q){let k=Gn.quadrilateralToQuadrilateral(l,u,d,h,g,y,w,v,I,b,S,_,M,R,z,q);return this.sampleGridWithTransform(o,s,a,k)}sampleGridWithTransform(o,s,a,l){if(s<=0||a<=0)throw new B;let u=new Mt(s,a),d=new Float32Array(2*s);for(let h=0;h<a;h++){let g=d.length,y=h+.5;for(let w=0;w<g;w+=2)d[w]=w/2+.5,d[w+1]=y;l.transformPoints(d),Lu.checkAndNudgePoints(o,d);try{for(let w=0;w<g;w+=2)o.get(Math.floor(d[w]),Math.floor(d[w+1]))&&u.set(w/2,h)}catch{throw new B}}return u}}class qr{static setGridSampler(o){qr.gridSampler=o}static getInstance(){return qr.gridSampler}}qr.gridSampler=new Tg;class tn{constructor(o,s){this.x=o,this.y=s}toResultPoint(){return new oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Mg{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let s=this.getMatrixCenter(),a=this.getBullsEyeCorners(s);if(o){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let l=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new _g(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new B;let s=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(o[0],o[1],s),this.sampleLine(o[1],o[2],s),this.sampleLine(o[2],o[3],s),this.sampleLine(o[3],o[0],s)]);this.shift=this.getRotation(a,s);let l=0;for(let d=0;d<4;d++){let h=a[(this.shift+d)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(o,s){let a=0;o.forEach((l,u,d)=>{let h=(l>>s-2<<1)+(l&1);a=(a<<3)+h}),a=((a&1)<<11)+(a>>1);for(let l=0;l<4;l++)if(V.bitCount(a^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new B}getCorrectedParameterData(o,s){let a,l;s?(a=7,l=2):(a=10,l=4);let u=a-l,d=new Int32Array(a);for(let g=a-1;g>=0;--g)d[g]=o&15,o>>=4;try{new Cs(je.AZTEC_PARAM).decode(d,u)}catch{throw new B}let h=0;for(let g=0;g<l;g++)h=(h<<4)+d[g];return h}getBullsEyeCorners(o){let s=o,a=o,l=o,u=o,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let v=this.getFirstDifferent(s,d,1,-1),I=this.getFirstDifferent(a,d,1,1),b=this.getFirstDifferent(l,d,-1,1),S=this.getFirstDifferent(u,d,-1,-1);if(this.nbCenterLayers>2){let _=this.distancePoint(S,v)*this.nbCenterLayers/(this.distancePoint(u,s)*(this.nbCenterLayers+2));if(_<.75||_>1.25||!this.isWhiteOrBlackRectangle(v,I,b,S))break}s=v,a=I,l=b,u=S,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new B;this.compact=this.nbCenterLayers===5;let h=new oe(s.getX()+.5,s.getY()-.5),g=new oe(a.getX()+.5,a.getY()+.5),y=new oe(l.getX()-.5,l.getY()+.5),w=new oe(u.getX()-.5,u.getY()-.5);return this.expandSquare([h,g,y,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,s,a,l;try{let h=new ka(this.image).detect();o=h[0],s=h[1],a=h[2],l=h[3]}catch{let g=this.image.getWidth()/2,y=this.image.getHeight()/2;o=this.getFirstDifferent(new tn(g+7,y-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new tn(g+7,y+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new tn(g-7,y+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new tn(g-7,y-7),!1,-1,-1).toResultPoint()}let u=Be.round((o.getX()+l.getX()+s.getX()+a.getX())/4),d=Be.round((o.getY()+l.getY()+s.getY()+a.getY())/4);try{let h=new ka(this.image,15,u,d).detect();o=h[0],s=h[1],a=h[2],l=h[3]}catch{o=this.getFirstDifferent(new tn(u+7,d-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new tn(u+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new tn(u-7,d+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new tn(u-7,d-7),!1,-1,-1).toResultPoint()}return u=Be.round((o.getX()+l.getX()+s.getX()+a.getX())/4),d=Be.round((o.getY()+l.getY()+s.getY()+a.getY())/4),new tn(u,d)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,s,a,l,u){let d=qr.getInstance(),h=this.getDimension(),g=h/2-this.nbCenterLayers,y=h/2+this.nbCenterLayers;return d.sampleGrid(o,h,h,g,g,y,g,y,y,g,y,s.getX(),s.getY(),a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(o,s,a){let l=0,u=this.distanceResultPoint(o,s),d=u/a,h=o.getX(),g=o.getY(),y=d*(s.getX()-o.getX())/u,w=d*(s.getY()-o.getY())/u;for(let v=0;v<a;v++)this.image.get(Be.round(h+v*y),Be.round(g+v*w))&&(l|=1<<a-v-1);return l}isWhiteOrBlackRectangle(o,s,a,l){let u=3;o=new tn(o.getX()-u,o.getY()+u),s=new tn(s.getX()-u,s.getY()-u),a=new tn(a.getX()+u,a.getY()-u),l=new tn(l.getX()+u,l.getY()+u);let d=this.getColor(l,o);if(d===0)return!1;let h=this.getColor(o,s);return h!==d||(h=this.getColor(s,a),h!==d)?!1:(h=this.getColor(a,l),h===d)}getColor(o,s){let a=this.distancePoint(o,s),l=(s.getX()-o.getX())/a,u=(s.getY()-o.getY())/a,d=0,h=o.getX(),g=o.getY(),y=this.image.get(o.getX(),o.getY()),w=Math.ceil(a);for(let I=0;I<w;I++)h+=l,g+=u,this.image.get(Be.round(h),Be.round(g))!==y&&d++;let v=d/a;return v>.1&&v<.9?0:v<=.1===y?1:-1}getFirstDifferent(o,s,a,l){let u=o.getX()+a,d=o.getY()+l;for(;this.isValid(u,d)&&this.image.get(u,d)===s;)u+=a,d+=l;for(u-=a,d-=l;this.isValid(u,d)&&this.image.get(u,d)===s;)u+=a;for(u-=a;this.isValid(u,d)&&this.image.get(u,d)===s;)d+=l;return d-=l,new tn(u,d)}expandSquare(o,s,a){let l=a/(2*s),u=o[0].getX()-o[2].getX(),d=o[0].getY()-o[2].getY(),h=(o[0].getX()+o[2].getX())/2,g=(o[0].getY()+o[2].getY())/2,y=new oe(h+l*u,g+l*d),w=new oe(h-l*u,g-l*d);u=o[1].getX()-o[3].getX(),d=o[1].getY()-o[3].getY(),h=(o[1].getX()+o[3].getX())/2,g=(o[1].getY()+o[3].getY())/2;let v=new oe(h+l*u,g+l*d),I=new oe(h-l*u,g-l*d);return[y,v,w,I]}isValid(o,s){return o>=0&&o<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(o){let s=Be.round(o.getX()),a=Be.round(o.getY());return this.isValid(s,a)}distancePoint(o,s){return Be.distance(o.getX(),o.getY(),s.getX(),s.getY())}distanceResultPoint(o,s){return Be.distance(o.getX(),o.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(V.truncDivision(this.nbLayers-4,8)+1)+15}}class Ba{decode(o,s=null){let a=null,l=new Mg(o.getBlackMatrix()),u=null,d=null;try{let w=l.detectMirror(!1);u=w.getPoints(),this.reportFoundResultPoints(s,u),d=new Pu().decode(w)}catch(w){a=w}if(d==null)try{let w=l.detectMirror(!0);u=w.getPoints(),this.reportFoundResultPoints(s,u),d=new Pu().decode(w)}catch(w){throw a??w}let h=new en(d.getText(),d.getRawBytes(),d.getNumBits(),u,pe.AZTEC,N.currentTimeMillis()),g=d.getByteSegments();g!=null&&h.putMetadata(Ot.BYTE_SEGMENTS,g);let y=d.getECLevel();return y!=null&&h.putMetadata(Ot.ERROR_CORRECTION_LEVEL,y),h}reportFoundResultPoints(o,s){if(o!=null){let a=o.get(re.NEED_RESULT_POINT_CALLBACK);a!=null&&s.forEach((l,u,d)=>{a.foundPossibleResultPoint(l)})}}reset(){}}class sv extends Pi{constructor(o=500){super(new Ba,o)}}class Dt{decode(o,s){try{return this.doDecode(o,s)}catch{if(s&&s.get(re.TRY_HARDER)===!0&&o.isRotateSupported()){let u=o.rotateCounterClockwise(),d=this.doDecode(u,s),h=d.getResultMetadata(),g=270;h!==null&&h.get(Ot.ORIENTATION)===!0&&(g=g+h.get(Ot.ORIENTATION)%360),d.putMetadata(Ot.ORIENTATION,g);let y=d.getResultPoints();if(y!==null){let w=u.getHeight();for(let v=0;v<y.length;v++)y[v]=new oe(w-y[v].getY()-1,y[v].getX())}return d}else throw new B}}reset(){}doDecode(o,s){let a=o.getWidth(),l=o.getHeight(),u=new se(a),d=s&&s.get(re.TRY_HARDER)===!0,h=Math.max(1,l>>(d?8:5)),g;d?g=l:g=15;let y=Math.trunc(l/2);for(let w=0;w<g;w++){let v=Math.trunc((w+1)/2),I=(w&1)===0,b=y+h*(I?v:-v);if(b<0||b>=l)break;try{u=o.getBlackRow(b,u)}catch{continue}for(let S=0;S<2;S++){if(S===1&&(u.reverse(),s&&s.get(re.NEED_RESULT_POINT_CALLBACK)===!0)){let _=new Map;s.forEach((M,R)=>_.set(R,M)),_.delete(re.NEED_RESULT_POINT_CALLBACK),s=_}try{let _=this.decodeRow(b,u,s);if(S===1){_.putMetadata(Ot.ORIENTATION,180);let M=_.getResultPoints();M!==null&&(M[0]=new oe(a-M[0].getX()-1,M[0].getY()),M[1]=new oe(a-M[1].getX()-1,M[1].getY()))}return _}catch{}}}throw new B}static recordPattern(o,s,a){let l=a.length;for(let y=0;y<l;y++)a[y]=0;let u=o.getSize();if(s>=u)throw new B;let d=!o.get(s),h=0,g=s;for(;g<u;){if(o.get(g)!==d)a[h]++;else{if(++h===l)break;a[h]=1,d=!d}g++}if(!(h===l||h===l-1&&g===u))throw new B}static recordPatternInReverse(o,s,a){let l=a.length,u=o.get(s);for(;s>0&&l>=0;)o.get(--s)!==u&&(l--,u=!u);if(l>=0)throw new B;Dt.recordPattern(o,s+1,a)}static patternMatchVariance(o,s,a){let l=o.length,u=0,d=0;for(let y=0;y<l;y++)u+=o[y],d+=s[y];if(u<d)return Number.POSITIVE_INFINITY;let h=u/d;a*=h;let g=0;for(let y=0;y<l;y++){let w=o[y],v=s[y]*h,I=w>v?w-v:v-w;if(I>a)return Number.POSITIVE_INFINITY;g+=I}return g/u}}class X extends Dt{static findStartPattern(o){let s=o.getSize(),a=o.getNextSet(0),l=0,u=Int32Array.from([0,0,0,0,0,0]),d=a,h=!1,g=6;for(let y=a;y<s;y++)if(o.get(y)!==h)u[l]++;else{if(l===g-1){let w=X.MAX_AVG_VARIANCE,v=-1;for(let I=X.CODE_START_A;I<=X.CODE_START_C;I++){let b=Dt.patternMatchVariance(u,X.CODE_PATTERNS[I],X.MAX_INDIVIDUAL_VARIANCE);b<w&&(w=b,v=I)}if(v>=0&&o.isRange(Math.max(0,d-(y-d)/2),d,!1))return Int32Array.from([d,y,v]);d+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,h=!h}throw new B}static decodeCode(o,s,a){Dt.recordPattern(o,a,s);let l=X.MAX_AVG_VARIANCE,u=-1;for(let d=0;d<X.CODE_PATTERNS.length;d++){let h=X.CODE_PATTERNS[d],g=this.patternMatchVariance(s,h,X.MAX_INDIVIDUAL_VARIANCE);g<l&&(l=g,u=d)}if(u>=0)return u;throw new B}decodeRow(o,s,a){let l=a&&a.get(re.ASSUME_GS1)===!0,u=X.findStartPattern(s),d=u[2],h=0,g=new Uint8Array(20);g[h++]=d;let y;switch(d){case X.CODE_START_A:y=X.CODE_CODE_A;break;case X.CODE_START_B:y=X.CODE_CODE_B;break;case X.CODE_START_C:y=X.CODE_CODE_C;break;default:throw new j}let w=!1,v=!1,I="",b=u[0],S=u[1],_=Int32Array.from([0,0,0,0,0,0]),M=0,R=0,z=d,q=0,k=!0,Me=!1,Ee=!1;for(;!w;){let vo=v;switch(v=!1,M=R,R=X.decodeCode(s,_,S),g[h++]=R,R!==X.CODE_STOP&&(k=!0),R!==X.CODE_STOP&&(q++,z+=q*R),b=S,S+=_.reduce((Gv,Wv)=>Gv+Wv,0),R){case X.CODE_START_A:case X.CODE_START_B:case X.CODE_START_C:throw new j}switch(y){case X.CODE_CODE_A:if(R<64)Ee===Me?I+=String.fromCharCode(" ".charCodeAt(0)+R):I+=String.fromCharCode(" ".charCodeAt(0)+R+128),Ee=!1;else if(R<96)Ee===Me?I+=String.fromCharCode(R-64):I+=String.fromCharCode(R+64),Ee=!1;else switch(R!==X.CODE_STOP&&(k=!1),R){case X.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+=String.fromCharCode(29));break;case X.CODE_FNC_2:case X.CODE_FNC_3:break;case X.CODE_FNC_4_A:!Me&&Ee?(Me=!0,Ee=!1):Me&&Ee?(Me=!1,Ee=!1):Ee=!0;break;case X.CODE_SHIFT:v=!0,y=X.CODE_CODE_B;break;case X.CODE_CODE_B:y=X.CODE_CODE_B;break;case X.CODE_CODE_C:y=X.CODE_CODE_C;break;case X.CODE_STOP:w=!0;break}break;case X.CODE_CODE_B:if(R<96)Ee===Me?I+=String.fromCharCode(" ".charCodeAt(0)+R):I+=String.fromCharCode(" ".charCodeAt(0)+R+128),Ee=!1;else switch(R!==X.CODE_STOP&&(k=!1),R){case X.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+=String.fromCharCode(29));break;case X.CODE_FNC_2:case X.CODE_FNC_3:break;case X.CODE_FNC_4_B:!Me&&Ee?(Me=!0,Ee=!1):Me&&Ee?(Me=!1,Ee=!1):Ee=!0;break;case X.CODE_SHIFT:v=!0,y=X.CODE_CODE_A;break;case X.CODE_CODE_A:y=X.CODE_CODE_A;break;case X.CODE_CODE_C:y=X.CODE_CODE_C;break;case X.CODE_STOP:w=!0;break}break;case X.CODE_CODE_C:if(R<100)R<10&&(I+="0"),I+=R;else switch(R!==X.CODE_STOP&&(k=!1),R){case X.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+=String.fromCharCode(29));break;case X.CODE_CODE_A:y=X.CODE_CODE_A;break;case X.CODE_CODE_B:y=X.CODE_CODE_B;break;case X.CODE_STOP:w=!0;break}break}vo&&(y=y===X.CODE_CODE_A?X.CODE_CODE_B:X.CODE_CODE_A)}let hn=S-b;if(S=s.getNextUnset(S),!s.isRange(S,Math.min(s.getSize(),S+(S-b)/2),!1))throw new B;if(z-=q*M,z%103!==M)throw new D;let Xn=I.length;if(Xn===0)throw new B;Xn>0&&k&&(y===X.CODE_CODE_C?I=I.substring(0,Xn-2):I=I.substring(0,Xn-1));let pn=(u[1]+u[0])/2,tt=b+hn/2,zt=g.length,Dn=new Uint8Array(zt);for(let vo=0;vo<zt;vo++)Dn[vo]=g[vo];let wo=[new oe(pn,o),new oe(tt,o)];return new en(I,Dn,0,wo,pe.CODE_128,new Date().getTime())}}X.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],X.MAX_AVG_VARIANCE=.25,X.MAX_INDIVIDUAL_VARIANCE=.7,X.CODE_SHIFT=98,X.CODE_CODE_C=99,X.CODE_CODE_B=100,X.CODE_CODE_A=101,X.CODE_FNC_1=102,X.CODE_FNC_2=97,X.CODE_FNC_3=96,X.CODE_FNC_4_A=101,X.CODE_FNC_4_B=100,X.CODE_START_A=103,X.CODE_START_B=104,X.CODE_START_C=105,X.CODE_STOP=106;let ku=(()=>{class C extends Dt{constructor(s=!1,a=!1){super(),this.usingCheckDigit=s,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,a,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let d=C.findAsteriskPattern(a,u),h=a.getNextSet(d[1]),g=a.getSize(),y,w;do{C.recordPattern(a,h,u);let M=C.toNarrowWidePattern(u);if(M<0)throw new B;y=C.patternToChar(M),this.decodeRowResult+=y,w=h;for(let R of u)h+=R;h=a.getNextSet(h)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let v=0;for(let M of u)v+=M;let I=h-w-v;if(h!==g&&I*2<v)throw new B;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,R=0;for(let z=0;z<M;z++)R+=C.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(z));if(this.decodeRowResult.charAt(M)!==C.ALPHABET_STRING.charAt(R%43))throw new D;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new B;let b;this.extendedMode?b=C.decodeExtended(this.decodeRowResult):b=this.decodeRowResult;let S=(d[1]+d[0])/2,_=w+v/2;return new en(b,null,0,[new oe(S,s),new oe(_,s)],pe.CODE_39,new Date().getTime())}static findAsteriskPattern(s,a){let l=s.getSize(),u=s.getNextSet(0),d=0,h=u,g=!1,y=a.length;for(let w=u;w<l;w++)if(s.get(w)!==g)a[d]++;else{if(d===y-1){if(this.toNarrowWidePattern(a)===C.ASTERISK_ENCODING&&s.isRange(Math.max(0,h-Math.floor((w-h)/2)),h,!1))return[h,w];h+=a[0]+a[1],a.copyWithin(0,2,2+d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,g=!g}throw new B}static toNarrowWidePattern(s){let a=s.length,l=0,u;do{let d=2147483647;for(let y of s)y<d&&y>l&&(d=y);l=d,u=0;let h=0,g=0;for(let y=0;y<a;y++){let w=s[y];w>l&&(g|=1<<a-1-y,u++,h+=w)}if(u===3){for(let y=0;y<a&&u>0;y++){let w=s[y];if(w>l&&(u--,w*2>=h))return-1}return g}}while(u>3);return-1}static patternToChar(s){for(let a=0;a<C.CHARACTER_ENCODINGS.length;a++)if(C.CHARACTER_ENCODINGS[a]===s)return C.ALPHABET_STRING.charAt(a);if(s===C.ASTERISK_ENCODING)return"*";throw new B}static decodeExtended(s){let a=s.length,l="";for(let u=0;u<a;u++){let d=s.charAt(u);if(d==="+"||d==="$"||d==="%"||d==="/"){let h=s.charAt(u+1),g="\0";switch(d){case"+":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)+32);else throw new j;break;case"$":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)-64);else throw new j;break;case"%":if(h>="A"&&h<="E")g=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")g=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")g=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")g="\0";else if(h==="V")g="@";else if(h==="W")g="`";else if(h==="X"||h==="Y"||h==="Z")g="\x7F";else throw new j;break;case"/":if(h>="A"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")g=":";else throw new j;break}l+=g,u++}else l+=d}return l}}return C.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",C.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],C.ASTERISK_ENCODING=148,C})();class Je extends Dt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,s,a){let l=this.decodeStart(s),u=this.decodeEnd(s),d=new Qe;Je.decodeMiddle(s,l[1],u[0],d);let h=d.toString(),g=null;a!=null&&(g=a.get(re.ALLOWED_LENGTHS)),g==null&&(g=Je.DEFAULT_ALLOWED_LENGTHS);let y=h.length,w=!1,v=0;for(let S of g){if(y===S){w=!0;break}S>v&&(v=S)}if(!w&&y>v&&(w=!0),!w)throw new j;let I=[new oe(l[1],o),new oe(u[0],o)];return new en(h,null,0,I,pe.ITF,new Date().getTime())}static decodeMiddle(o,s,a,l){let u=new Int32Array(10),d=new Int32Array(5),h=new Int32Array(5);for(u.fill(0),d.fill(0),h.fill(0);s<a;){Dt.recordPattern(o,s,u);for(let y=0;y<5;y++){let w=2*y;d[y]=u[w],h[y]=u[w+1]}let g=Je.decodeDigit(d);l.append(g.toString()),g=this.decodeDigit(h),l.append(g.toString()),u.forEach(function(y){s+=y})}}decodeStart(o){let s=Je.skipWhiteSpace(o),a=Je.findGuardPattern(o,s,Je.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(o,a[0]),a}validateQuietZone(o,s){let a=this.narrowLineWidth*10;a=a<s?a:s;for(let l=s-1;a>0&&l>=0&&!o.get(l);l--)a--;if(a!==0)throw new B}static skipWhiteSpace(o){let s=o.getSize(),a=o.getNextSet(0);if(a===s)throw new B;return a}decodeEnd(o){o.reverse();try{let s=Je.skipWhiteSpace(o),a;try{a=Je.findGuardPattern(o,s,Je.END_PATTERN_REVERSED[0])}catch(u){u instanceof B&&(a=Je.findGuardPattern(o,s,Je.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,a[0]);let l=a[0];return a[0]=o.getSize()-a[1],a[1]=o.getSize()-l,a}finally{o.reverse()}}static findGuardPattern(o,s,a){let l=a.length,u=new Int32Array(l),d=o.getSize(),h=!1,g=0,y=s;u.fill(0);for(let w=s;w<d;w++)if(o.get(w)!==h)u[g]++;else{if(g===l-1){if(Dt.patternMatchVariance(u,a,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE)return[y,w];y+=u[0]+u[1],N.arraycopy(u,2,u,0,g-1),u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,h=!h}throw new B}static decodeDigit(o){let s=Je.MAX_AVG_VARIANCE,a=-1,l=Je.PATTERNS.length;for(let u=0;u<l;u++){let d=Je.PATTERNS[u],h=Dt.patternMatchVariance(o,d,Je.MAX_INDIVIDUAL_VARIANCE);h<s?(s=h,a=u):h===s&&(a=-1)}if(a>=0)return a%10;throw new B}}Je.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Je.MAX_AVG_VARIANCE=.38,Je.MAX_INDIVIDUAL_VARIANCE=.5,Je.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Je.START_PATTERN=Int32Array.from([1,1,1,1]),Je.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class pt extends Dt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let s=!1,a,l=0,u=Int32Array.from([0,0,0]);for(;!s;){u=Int32Array.from([0,0,0]),a=pt.findGuardPattern(o,l,!1,this.START_END_PATTERN,u);let d=a[0];l=a[1];let h=d-(l-d);h>=0&&(s=o.isRange(h,d,!1))}return a}static checkChecksum(o){return pt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let s=o.length;if(s===0)return!1;let a=parseInt(o.charAt(s-1),10);return pt.getStandardUPCEANChecksum(o.substring(0,s-1))===a}static getStandardUPCEANChecksum(o){let s=o.length,a=0;for(let l=s-1;l>=0;l-=2){let u=o.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new j;a+=u}a*=3;for(let l=s-2;l>=0;l-=2){let u=o.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new j;a+=u}return(1e3-a)%10}static decodeEnd(o,s){return pt.findGuardPattern(o,s,!1,pt.START_END_PATTERN,new Int32Array(pt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,s,a,l){return this.findGuardPattern(o,s,a,l,new Int32Array(l.length))}static findGuardPattern(o,s,a,l,u){let d=o.getSize();s=a?o.getNextUnset(s):o.getNextSet(s);let h=0,g=s,y=l.length,w=a;for(let v=s;v<d;v++)if(o.get(v)!==w)u[h]++;else{if(h===y-1){if(Dt.patternMatchVariance(u,l,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE)return Int32Array.from([g,v]);g+=u[0]+u[1];let I=u.slice(2,u.length-1);for(let b=0;b<h-1;b++)u[b]=I[b];u[h-1]=0,u[h]=0,h--}else h++;u[h]=1,w=!w}throw new B}static decodeDigit(o,s,a,l){this.recordPattern(o,a,s);let u=this.MAX_AVG_VARIANCE,d=-1,h=l.length;for(let g=0;g<h;g++){let y=l[g],w=Dt.patternMatchVariance(s,y,pt.MAX_INDIVIDUAL_VARIANCE);w<u&&(u=w,d=g)}if(d>=0)return d;throw new B}}pt.MAX_AVG_VARIANCE=.48,pt.MAX_INDIVIDUAL_VARIANCE=.7,pt.START_END_PATTERN=Int32Array.from([1,1,1]),pt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),pt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),pt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class xs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,s,a){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(s,a,l),d=l.toString(),h=xs.parseExtensionString(d),g=[new oe((a[0]+a[1])/2,o),new oe(u,o)],y=new en(d,null,0,g,pe.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(o,s,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=o.getSize(),d=s[1],h=0;for(let y=0;y<5&&d<u;y++){let w=pt.decodeDigit(o,l,d,pt.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let v of l)d+=v;w>=10&&(h|=1<<4-y),y!==4&&(d=o.getNextSet(d),d=o.getNextUnset(d))}if(a.length!==5)throw new B;let g=this.determineCheckDigit(h);if(xs.extensionChecksum(a.toString())!==g)throw new B;return d}static extensionChecksum(o){let s=o.length,a=0;for(let l=s-2;l>=0;l-=2)a+=o.charAt(l).charCodeAt(0)-"0".charCodeAt(0);a*=3;for(let l=s-1;l>=0;l-=2)a+=o.charAt(l).charCodeAt(0)-"0".charCodeAt(0);return a*=3,a%10}determineCheckDigit(o){for(let s=0;s<10;s++)if(o===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new B}static parseExtensionString(o){if(o.length!==5)return null;let s=xs.parseExtension5String(o);return s==null?null:new Map([[Ot.SUGGESTED_PRICE,s]])}static parseExtension5String(o){let s;switch(o.charAt(0)){case"0":s="\xA3";break;case"5":s="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let a=parseInt(o.substring(1)),l=(a/100).toString(),u=a%100,d=u<10?"0"+u:u.toString();return s+l+"."+d}}class Bu{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,s,a){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(s,a,l),d=l.toString(),h=Bu.parseExtensionString(d),g=[new oe((a[0]+a[1])/2,o),new oe(u,o)],y=new en(d,null,0,g,pe.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(o,s,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=o.getSize(),d=s[1],h=0;for(let g=0;g<2&&d<u;g++){let y=pt.decodeDigit(o,l,d,pt.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+y%10);for(let w of l)d+=w;y>=10&&(h|=1<<1-g),g!==1&&(d=o.getNextSet(d),d=o.getNextUnset(d))}if(a.length!==2)throw new B;if(parseInt(a.toString())%4!==h)throw new B;return d}static parseExtensionString(o){return o.length!==2?null:new Map([[Ot.ISSUE_NUMBER,parseInt(o)]])}}class Ng{static decodeRow(o,s,a){let l=pt.findGuardPattern(s,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new xs().decodeRow(o,s,l)}catch{return new Bu().decodeRow(o,s,l)}}}Ng.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class He extends pt{constructor(){super(),this.decodeRowStringBuffer="",He.L_AND_G_PATTERNS=He.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let s=He.L_PATTERNS[o-10],a=new Int32Array(s.length);for(let l=0;l<s.length;l++)a[l]=s[s.length-l-1];He.L_AND_G_PATTERNS[o]=a}}decodeRow(o,s,a){let l=He.findStartGuardPattern(s),u=a==null?null:a.get(re.NEED_RESULT_POINT_CALLBACK);if(u!=null){let k=new oe((l[0]+l[1])/2,o);u.foundPossibleResultPoint(k)}let d=this.decodeMiddle(s,l,this.decodeRowStringBuffer),h=d.rowOffset,g=d.resultString;if(u!=null){let k=new oe(h,o);u.foundPossibleResultPoint(k)}let y=this.decodeEnd(s,h);if(u!=null){let k=new oe((y[0]+y[1])/2,o);u.foundPossibleResultPoint(k)}let w=y[1],v=w+(w-y[0]);if(v>=s.getSize()||!s.isRange(w,v,!1))throw new B;let I=g.toString();if(I.length<8)throw new j;if(!He.checkChecksum(I))throw new D;let b=(l[1]+l[0])/2,S=(y[1]+y[0])/2,_=this.getBarcodeFormat(),M=[new oe(b,o),new oe(S,o)],R=new en(I,null,0,M,_,new Date().getTime()),z=0;try{let k=Ng.decodeRow(o,s,y[1]);R.putMetadata(Ot.UPC_EAN_EXTENSION,k.getText()),R.putAllMetadata(k.getResultMetadata()),R.addResultPoints(k.getResultPoints()),z=k.getText().length}catch{}let q=a==null?null:a.get(re.ALLOWED_EAN_EXTENSIONS);if(q!=null){let k=!1;for(let Me in q)if(z.toString()===Me){k=!0;break}if(!k)throw new B}return R}decodeEnd(o,s){return He.findGuardPattern(o,s,!1,He.START_END_PATTERN,new Int32Array(He.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return He.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let s=o.length;if(s===0)return!1;let a=parseInt(o.charAt(s-1),10);return He.getStandardUPCEANChecksum(o.substring(0,s-1))===a}static getStandardUPCEANChecksum(o){let s=o.length,a=0;for(let l=s-1;l>=0;l-=2){let u=o.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new j;a+=u}a*=3;for(let l=s-2;l>=0;l-=2){let u=o.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new j;a+=u}return(1e3-a)%10}}let Va=(()=>{class C extends He{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),h=a[1],g=0;for(let w=0;w<6&&h<d;w++){let v=He.decodeDigit(s,u,h,He.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+v%10);for(let I of u)h+=I;v>=10&&(g|=1<<5-w)}l=C.determineFirstDigit(l,g),h=He.findGuardPattern(s,h,!0,He.MIDDLE_PATTERN,new Int32Array(He.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&h<d;w++){let v=He.decodeDigit(s,u,h,He.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+v);for(let I of u)h+=I}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return pe.EAN_13}static determineFirstDigit(s,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode("0".charCodeAt(0)+l)+s,s;throw new B}}return C.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],C})();class Og extends He{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,s,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=o.getSize(),d=s[1];for(let g=0;g<4&&d<u;g++){let y=He.decodeDigit(o,l,d,He.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+y);for(let w of l)d+=w}d=He.findGuardPattern(o,d,!0,He.MIDDLE_PATTERN,new Int32Array(He.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&d<u;g++){let y=He.decodeDigit(o,l,d,He.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+y);for(let w of l)d+=w}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return pe.EAN_8}}class Rg extends He{constructor(){super(...arguments),this.ean13Reader=new Va}getBarcodeFormat(){return pe.UPC_A}decode(o,s){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,s,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,s,a))}decodeMiddle(o,s,a){return this.ean13Reader.decodeMiddle(o,s,a)}maybeReturnResult(o){let s=o.getText();if(s.charAt(0)==="0"){let a=new en(s.substring(1),null,null,o.getResultPoints(),pe.UPC_A);return o.getResultMetadata()!=null&&a.putAllMetadata(o.getResultMetadata()),a}else throw new B}reset(){this.ean13Reader.reset()}}class Wn extends He{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,s,a){let l=this.decodeMiddleCounters.map(y=>y);l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=o.getSize(),d=s[1],h=0;for(let y=0;y<6&&d<u;y++){let w=Wn.decodeDigit(o,l,d,Wn.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let v of l)d+=v;w>=10&&(h|=1<<5-y)}let g=Wn.determineNumSysAndCheckDigit(a,h);return{rowOffset:d,resultString:g}}decodeEnd(o,s){return Wn.findGuardPatternWithoutCounters(o,s,!0,Wn.MIDDLE_END_PATTERN)}checkChecksum(o){return He.checkChecksum(Wn.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,s){for(let a=0;a<=1;a++)for(let l=0;l<10;l++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][l]){let u=String.fromCharCode("0".charCodeAt(0)+a),d=String.fromCharCode("0".charCodeAt(0)+l);return u+o+d}throw B.getNotFoundInstance()}getBarcodeFormat(){return pe.UPC_E}static convertUPCEtoUPCA(o){let s=o.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new Qe;a.append(o.charAt(0));let l=s[5];switch(l){case 0:case 1:case 2:a.appendChars(s,0,2),a.append(l),a.append("0000"),a.appendChars(s,2,3);break;case 3:a.appendChars(s,0,3),a.append("00000"),a.appendChars(s,3,2);break;case 4:a.appendChars(s,0,4),a.append("00000"),a.append(s[4]);break;default:a.appendChars(s,0,5),a.append("0000"),a.append(l);break}return o.length>=8&&a.append(o.charAt(7)),a.toString()}}Wn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Wn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Vu extends Dt{constructor(o){super();let s=o==null?null:o.get(re.POSSIBLE_FORMATS),a=[];e(s)?(a.push(new Va),a.push(new Rg),a.push(new Og),a.push(new Wn)):(s.indexOf(pe.EAN_13)>-1&&a.push(new Va),s.indexOf(pe.UPC_A)>-1&&a.push(new Rg),s.indexOf(pe.EAN_8)>-1&&a.push(new Og),s.indexOf(pe.UPC_E)>-1&&a.push(new Wn)),this.readers=a}decodeRow(o,s,a){for(let l of this.readers)try{let u=l.decodeRow(o,s,a),d=u.getBarcodeFormat()===pe.EAN_13&&u.getText().charAt(0)==="0",h=a==null?null:a.get(re.POSSIBLE_FORMATS),g=h==null||h.includes(pe.UPC_A);if(d&&g){let y=u.getRawBytes(),w=new en(u.getText().substring(1),y,y?y.length:null,u.getResultPoints(),pe.UPC_A);return w.putAllMetadata(u.getResultMetadata()),w}return u}catch{}throw new B}reset(){for(let o of this.readers)o.reset()}}let Li=(()=>{class C extends Dt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,a){for(let l=0;l<a.length;l++)if(Dt.patternMatchVariance(s,a[l],C.MAX_INDIVIDUAL_VARIANCE)<C.MAX_AVG_VARIANCE)return l;throw new B}static count(s){return Be.sum(new Int32Array(s))}static increment(s,a){let l=0,u=a[0];for(let d=1;d<s.length;d++)a[d]>u&&(u=a[d],l=d);s[l]++}static decrement(s,a){let l=0,u=a[0];for(let d=1;d<s.length;d++)a[d]<u&&(u=a[d],l=d);s[l]--}static isFinderPattern(s){let a=s[0]+s[1],l=a+s[2]+s[3],u=a/l;if(u>=C.MIN_FINDER_PATTERN_RATIO&&u<=C.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let g of s)g>h&&(h=g),g<d&&(d=g);return h<10*d}return!1}}return C.MAX_AVG_VARIANCE=.2,C.MAX_INDIVIDUAL_VARIANCE=.45,C.MIN_FINDER_PATTERN_RATIO=9.5/12,C.MAX_FINDER_PATTERN_RATIO=12.5/14,C})();class po{constructor(o,s){this.value=o,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof po))return!1;let s=o;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ua{constructor(o,s,a,l,u){this.value=o,this.startEnd=s,this.value=o,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new oe(a,u)),this.resultPoints.push(new oe(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof Ua))return!1;let s=o;return this.value===s.value}hashCode(){return this.value}}class dr{constructor(){}static getRSSvalue(o,s,a){let l=0;for(let g of o)l+=g;let u=0,d=0,h=o.length;for(let g=0;g<h-1;g++){let y;for(y=1,d|=1<<g;y<o[g];y++,d&=~(1<<g)){let w=dr.combins(l-y-1,h-g-2);if(a&&d===0&&l-y-(h-g-1)>=h-g-1&&(w-=dr.combins(l-y-(h-g),h-g-2)),h-g-1>1){let v=0;for(let I=l-y-(h-g-2);I>s;I--)v+=dr.combins(l-y-I-1,h-g-3);w-=v*(h-1-g)}else l-y>s&&w--;u+=w}l-=y}return u}static combins(o,s){let a,l;o-s>s?(l=s,a=o-s):(l=o-s,a=s);let u=1,d=1;for(let h=o;h>a;h--)u*=h,d<=l&&(u/=d,d++);for(;d<=l;)u/=d,d++;return u}}class av{static buildBitArray(o){let s=o.length*2-1;o[o.length-1].getRightChar()==null&&(s-=1);let a=12*s,l=new se(a),u=0,h=o[0].getRightChar().getValue();for(let g=11;g>=0;--g)h&1<<g&&l.set(u),u++;for(let g=1;g<o.length;++g){let y=o[g],w=y.getLeftChar().getValue();for(let v=11;v>=0;--v)w&1<<v&&l.set(u),u++;if(y.getRightChar()!=null){let v=y.getRightChar().getValue();for(let I=11;I>=0;--I)v&1<<I&&l.set(u),u++}}return l}}class ki{constructor(o,s){s?this.decodedInformation=null:(this.finished=o,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Uu{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}let $n=(()=>{class C extends Uu{constructor(s,a){super(s),this.value=a}getValue(){return this.value}isFNC1(){return this.value===C.FNC1}}return C.FNC1="$",C})();class Bi extends Uu{constructor(o,s,a){super(o),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let go=(()=>{class C extends Uu{constructor(s,a,l){if(super(s),a<0||a>10||l<0||l>10)throw new j;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===C.FNC1}isSecondDigitFNC1(){return this.secondDigit===C.FNC1}isAnyFNC1(){return this.firstDigit===C.FNC1||this.secondDigit===C.FNC1}}return C.FNC1=10,C})();class te{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new B;let s=o.substring(0,2);for(let u of te.TWO_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===te.VARIABLE_LENGTH?te.processVariableAI(2,u[2],o):te.processFixedAI(2,u[1],o);if(o.length<3)throw new B;let a=o.substring(0,3);for(let u of te.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===te.VARIABLE_LENGTH?te.processVariableAI(3,u[2],o):te.processFixedAI(3,u[1],o);for(let u of te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===te.VARIABLE_LENGTH?te.processVariableAI(4,u[2],o):te.processFixedAI(4,u[1],o);if(o.length<4)throw new B;let l=o.substring(0,4);for(let u of te.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===te.VARIABLE_LENGTH?te.processVariableAI(4,u[2],o):te.processFixedAI(4,u[1],o);throw new B}static processFixedAI(o,s,a){if(a.length<o)throw new B;let l=a.substring(0,o);if(a.length<o+s)throw new B;let u=a.substring(o,o+s),d=a.substring(o+s),h="("+l+")"+u,g=te.parseFieldsInGeneralPurpose(d);return g==null?h:h+g}static processVariableAI(o,s,a){let l=a.substring(0,o),u;a.length<o+s?u=a.length:u=o+s;let d=a.substring(o,u),h=a.substring(u),g="("+l+")"+d,y=te.parseFieldsInGeneralPurpose(h);return y==null?g:g+y}}te.VARIABLE_LENGTH=[],te.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",te.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",te.VARIABLE_LENGTH,20],["22",te.VARIABLE_LENGTH,29],["30",te.VARIABLE_LENGTH,8],["37",te.VARIABLE_LENGTH,8],["90",te.VARIABLE_LENGTH,30],["91",te.VARIABLE_LENGTH,30],["92",te.VARIABLE_LENGTH,30],["93",te.VARIABLE_LENGTH,30],["94",te.VARIABLE_LENGTH,30],["95",te.VARIABLE_LENGTH,30],["96",te.VARIABLE_LENGTH,30],["97",te.VARIABLE_LENGTH,3],["98",te.VARIABLE_LENGTH,30],["99",te.VARIABLE_LENGTH,30]],te.THREE_DIGIT_DATA_LENGTH=[["240",te.VARIABLE_LENGTH,30],["241",te.VARIABLE_LENGTH,30],["242",te.VARIABLE_LENGTH,6],["250",te.VARIABLE_LENGTH,30],["251",te.VARIABLE_LENGTH,30],["253",te.VARIABLE_LENGTH,17],["254",te.VARIABLE_LENGTH,20],["400",te.VARIABLE_LENGTH,30],["401",te.VARIABLE_LENGTH,30],["402",17],["403",te.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",te.VARIABLE_LENGTH,20],["421",te.VARIABLE_LENGTH,15],["422",3],["423",te.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",te.VARIABLE_LENGTH,15],["391",te.VARIABLE_LENGTH,18],["392",te.VARIABLE_LENGTH,15],["393",te.VARIABLE_LENGTH,18],["703",te.VARIABLE_LENGTH,30]],te.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",te.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",te.VARIABLE_LENGTH,20],["8003",te.VARIABLE_LENGTH,30],["8004",te.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",te.VARIABLE_LENGTH,30],["8008",te.VARIABLE_LENGTH,12],["8018",18],["8020",te.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",te.VARIABLE_LENGTH,70],["8200",te.VARIABLE_LENGTH,70]];class mo{constructor(o){this.buffer=new Qe,this.information=o}decodeAllCodes(o,s){let a=s,l=null;do{let u=this.decodeGeneralPurposeField(a,l),d=te.parseFieldsInGeneralPurpose(u.getNewString());if(d!=null&&o.append(d),u.isRemaining()?l=""+u.getRemainingValue():l=null,a===u.getNewPosition())break;a=u.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let s=o;s<o+3;++s)if(this.information.get(s))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(o,4);return u===0?new go(this.information.getSize(),go.FNC1,go.FNC1):new go(this.information.getSize(),u-1,go.FNC1)}let s=this.extractNumericValueFromBitArray(o,7),a=(s-8)/11,l=(s-8)%11;return new go(o+7,a,l)}extractNumericValueFromBitArray(o,s){return mo.extractNumericValueFromBitArray(this.information,o,s)}static extractNumericValueFromBitArray(o,s,a){let l=0;for(let u=0;u<a;++u)o.get(s+u)&&(l|=1<<a-u-1);return l}decodeGeneralPurposeField(o,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(o);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Bi(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Bi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,s;do{let a=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),o=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),o=s.isFinished()):(s=this.parseNumericBlock(),o=s.isFinished()),!(a!==this.current.getPosition())&&!o)break}while(!o);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let s;return o.isSecondDigitFNC1()?s=new Bi(this.current.getPosition(),this.buffer.toString()):s=new Bi(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new ki(!0,s)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let s=new Bi(this.current.getPosition(),this.buffer.toString());return new ki(!0,s)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ki(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let s=new Bi(this.current.getPosition(),this.buffer.toString());return new ki(!0,s)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ki(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let s=new Bi(this.current.getPosition(),this.buffer.toString());return new ki(!0,s)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ki(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(o,5);if(s>=5&&s<16)return!0;if(o+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(o,7);if(a>=64&&a<116)return!0;if(o+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,8);return l>=232&&l<253}decodeIsoIec646(o){let s=this.extractNumericValueFromBitArray(o,5);if(s===15)return new $n(o+5,$n.FNC1);if(s>=5&&s<15)return new $n(o+5,"0"+(s-5));let a=this.extractNumericValueFromBitArray(o,7);if(a>=64&&a<90)return new $n(o+7,""+(a+1));if(a>=90&&a<116)return new $n(o+7,""+(a+7));let l=this.extractNumericValueFromBitArray(o,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new j}return new $n(o+8,u)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(o,5);if(s>=5&&s<16)return!0;if(o+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(o,6);return a>=16&&a<63}decodeAlphanumeric(o){let s=this.extractNumericValueFromBitArray(o,5);if(s===15)return new $n(o+5,$n.FNC1);if(s>=5&&s<15)return new $n(o+5,"0"+(s-5));let a=this.extractNumericValueFromBitArray(o,6);if(a>=32&&a<58)return new $n(o+6,""+(a+33));let l;switch(a){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Nr("Decoding invalid alphanumeric value: "+a)}return new $n(o+6,l)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let s=0;s<5&&s+o<this.information.getSize();++s)if(s===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+s))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let s=o;s<o+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let s=0;s<4&&s+o<this.information.getSize();++s)if(this.information.get(o+s))return!1;return!0}}class ju{constructor(o){this.information=o,this.generalDecoder=new mo(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let Yn=(()=>{class C extends ju{constructor(s){super(s)}encodeCompressedGtin(s,a){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,a,l)}encodeCompressedGtinWithoutAI(s,a,l){for(let u=0;u<4;++u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*u,10);d/100===0&&s.append("0"),d/10===0&&s.append("0"),s.append(d)}C.appendCheckDigit(s,l)}static appendCheckDigit(s,a){let l=0;for(let u=0;u<13;u++){let d=s.charAt(u+a).charCodeAt(0)-"0".charCodeAt(0);l+=u&1?d:3*d}l=10-l%10,l===10&&(l=0),s.append(l)}}return C.GTIN_SIZE=40,C})(),cv=(()=>{class C extends Yn{constructor(s){super(s)}parseInformation(){let s=new Qe;s.append("(01)");let a=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(C.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,C.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(s,C.HEADER_SIZE+44)}}return C.HEADER_SIZE=1+1+2,C})(),lv=(()=>{class C extends ju{constructor(s){super(s)}parseInformation(){let s=new Qe;return this.getGeneralDecoder().decodeAllCodes(s,C.HEADER_SIZE)}}return C.HEADER_SIZE=2+1+2,C})();class ja extends Yn{constructor(o){super(o)}encodeCompressedWeight(o,s,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(s,a);this.addWeightCode(o,l);let u=this.checkWeight(l),d=1e5;for(let h=0;h<5;++h)u/d===0&&o.append("0"),d/=10;o.append(u)}}let Fg=(()=>{class C extends ja{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=C.HEADER_SIZE+ja.GTIN_SIZE+C.WEIGHT_SIZE)throw new B;let s=new Qe;return this.encodeCompressedGtin(s,C.HEADER_SIZE),this.encodeCompressedWeight(s,C.HEADER_SIZE+ja.GTIN_SIZE,C.WEIGHT_SIZE),s.toString()}}return C.HEADER_SIZE=4+1,C.WEIGHT_SIZE=15,C})();class uv extends Fg{constructor(o){super(o)}addWeightCode(o,s){o.append("(3103)")}checkWeight(o){return o}}class dv extends Fg{constructor(o){super(o)}addWeightCode(o,s){s<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}let fv=(()=>{class C extends Yn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<C.HEADER_SIZE+Yn.GTIN_SIZE)throw new B;let s=new Qe;this.encodeCompressedGtin(s,C.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(C.HEADER_SIZE+Yn.GTIN_SIZE,C.LAST_DIGIT_SIZE);s.append("(392"),s.append(a),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(C.HEADER_SIZE+Yn.GTIN_SIZE+C.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}return C.HEADER_SIZE=5+1+2,C.LAST_DIGIT_SIZE=2,C})(),hv=(()=>{class C extends Yn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<C.HEADER_SIZE+Yn.GTIN_SIZE)throw new B;let s=new Qe;this.encodeCompressedGtin(s,C.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(C.HEADER_SIZE+Yn.GTIN_SIZE,C.LAST_DIGIT_SIZE);s.append("(393"),s.append(a),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(C.HEADER_SIZE+Yn.GTIN_SIZE+C.LAST_DIGIT_SIZE,C.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(C.HEADER_SIZE+Yn.GTIN_SIZE+C.LAST_DIGIT_SIZE+C.FIRST_THREE_DIGITS_SIZE,null);return s.append(u.getNewString()),s.toString()}}return C.HEADER_SIZE=5+1+2,C.LAST_DIGIT_SIZE=2,C.FIRST_THREE_DIGITS_SIZE=10,C})(),Qr=(()=>{class C extends ja{constructor(s,a,l){super(s),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=C.HEADER_SIZE+C.GTIN_SIZE+C.WEIGHT_SIZE+C.DATE_SIZE)throw new B;let s=new Qe;return this.encodeCompressedGtin(s,C.HEADER_SIZE),this.encodeCompressedWeight(s,C.HEADER_SIZE+C.GTIN_SIZE,C.WEIGHT_SIZE),this.encodeCompressedDate(s,C.HEADER_SIZE+C.GTIN_SIZE+C.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,C.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let u=l%32;l/=32;let d=l%12+1;l/=12;let h=l;h/10==0&&s.append("0"),s.append(h),d/10==0&&s.append("0"),s.append(d),u/10==0&&s.append("0"),s.append(u)}addWeightCode(s,a){s.append("("),s.append(this.firstAIdigits),s.append(a/1e5),s.append(")")}checkWeight(s){return s%1e5}}return C.HEADER_SIZE=7+1,C.WEIGHT_SIZE=20,C.DATE_SIZE=16,C})();function Pg(C){try{if(C.get(1))return new cv(C);if(!C.get(2))return new lv(C);switch(mo.extractNumericValueFromBitArray(C,1,4)){case 4:return new uv(C);case 5:return new dv(C)}switch(mo.extractNumericValueFromBitArray(C,1,5)){case 12:return new fv(C);case 13:return new hv(C)}switch(mo.extractNumericValueFromBitArray(C,1,7)){case 56:return new Qr(C,"310","11");case 57:return new Qr(C,"320","11");case 58:return new Qr(C,"310","13");case 59:return new Qr(C,"320","13");case 60:return new Qr(C,"310","15");case 61:return new Qr(C,"320","15");case 62:return new Qr(C,"310","17");case 63:return new Qr(C,"320","17")}}catch(o){throw console.log(o),new Nr("unknown decoder: "+C)}}class Kr{constructor(o,s,a,l){this.leftchar=o,this.rightchar=s,this.finderpattern=a,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,s){return o instanceof Kr?Kr.equalsOrNull(o.leftchar,s.leftchar)&&Kr.equalsOrNull(o.rightchar,s.rightchar)&&Kr.equalsOrNull(o.finderpattern,s.finderpattern):!1}static equalsOrNull(o,s){return o===null?s===null:Kr.equals(o,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Hu{constructor(o,s,a){this.pairs=o,this.rowNumber=s,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,s){return o instanceof Hu?this.checkEqualitity(o,s)&&o.wasReversed===s.wasReversed:!1}checkEqualitity(o,s){if(!o||!s)return;let a;return o.forEach((l,u)=>{s.forEach(d=>{l.getLeftChar().getValue()===d.getLeftChar().getValue()&&l.getRightChar().getValue()===d.getRightChar().getValue()&&l.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class U extends Li{constructor(o){super(...arguments),this.pairs=new Array(U.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,s,a){this.pairs.length=0,this.startFromEven=!1;try{return U.constructResult(this.decodeRow2pairs(o,s))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,U.constructResult(this.decodeRow2pairs(o,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,s){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,o))}catch(u){if(u instanceof B){if(!this.pairs.length)throw new B;a=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(o,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new B}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return o&&(this.rows=this.rows.reverse()),s}checkRows(o,s){for(let a=s;a<this.rows.length;a++){let l=this.rows[a];this.pairs.length=0;for(let d of o)this.pairs.push(d.getPairs());if(this.pairs.push(l.getPairs()),!U.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(o);u.push(l);try{return this.checkRows(u,a+1)}catch(d){this.verbose&&console.log(d)}}throw new B}static isValidSequence(o){for(let s of U.FINDER_PATTERN_SEQUENCES){if(o.length>s.length)continue;let a=!0;for(let l=0;l<o.length;l++)if(o[l].getFinderPattern().getValue()!=s[l]){a=!1;break}if(a)return!0}return!1}storeRow(o,s){let a=0,l=!1,u=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>o){u=d.isEquivalent(this.pairs);break}l=d.isEquivalent(this.pairs),a++}u||l||U.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Hu(this.pairs,o,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,s){for(let a of s)if(a.getPairs().length!==o.length){for(let l of a.getPairs())for(let u of o)if(Kr.equals(l,u))break}}static isPartialRow(o,s){for(let a of s){let l=!0;for(let u of o){let d=!1;for(let h of a.getPairs())if(u.equals(h)){d=!0;break}if(!d){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(o){let s=av.buildBitArray(o),l=Pg(s).parseInformation(),u=o[0].getFinderPattern().getResultPoints(),d=o[o.length-1].getFinderPattern().getResultPoints(),h=[u[0],u[1],d[0],d[1]];return new en(l,null,null,h,pe.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),s=o.getLeftChar(),a=o.getRightChar();if(a==null)return!1;let l=a.getChecksumPortion(),u=2;for(let h=1;h<this.pairs.size();++h){let g=this.pairs.get(h);l+=g.getLeftChar().getChecksumPortion(),u++;let y=g.getRightChar();y!=null&&(l+=y.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==s.getValue()}static getNextSecondBar(o,s){let a;return o.get(s)?(a=o.getNextUnset(s),a=o.getNextSet(a)):(a=o.getNextSet(s),a=o.getNextUnset(a)),a}retrieveNextPair(o,s,a){let l=s.length%2==0;this.startFromEven&&(l=!l);let u,d=!0,h=-1;do this.findNextPair(o,s,h),u=this.parseFoundFinderPattern(o,a,l),u==null?h=U.getNextSecondBar(o,this.startEnd[0]):d=!1;while(d);let g=this.decodeDataCharacter(o,u,l,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new B;let y;try{y=this.decodeDataCharacter(o,u,l,!1)}catch(w){y=null,this.verbose&&console.log(w)}return new Kr(g,y,u,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,s,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=o.getSize(),d;a>=0?d=a:this.isEmptyPair(s)?d=0:d=s[s.length-1].getFinderPattern().getStartEnd()[1];let h=s.length%2!=0;this.startFromEven&&(h=!h);let g=!1;for(;d<u&&(g=!o.get(d),!!g);)d++;let y=0,w=d;for(let v=d;v<u;v++)if(o.get(v)!=g)l[y]++;else{if(y==3){if(h&&U.reverseCounters(l),U.isFinderPattern(l)){this.startEnd[0]=w,this.startEnd[1]=v;return}h&&U.reverseCounters(l),w+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,y--}else y++;l[y]=1,g=!g}throw new B}static reverseCounters(o){let s=o.length;for(let a=0;a<s/2;++a){let l=o[a];o[a]=o[s-a-1],o[s-a-1]=l}}parseFoundFinderPattern(o,s,a){let l,u,d;if(a){let y=this.startEnd[0]-1;for(;y>=0&&!o.get(y);)y--;y++,l=this.startEnd[0]-y,u=y,d=this.startEnd[1]}else u=this.startEnd[0],d=o.getNextUnset(this.startEnd[1]+1),l=d-this.startEnd[1];let h=this.getDecodeFinderCounters();N.arraycopy(h,0,h,1,h.length-1),h[0]=l;let g;try{g=this.parseFinderValue(h,U.FINDER_PATTERNS)}catch{return null}return new Ua(g,[u,d],u,d,s)}decodeDataCharacter(o,s,a,l){let u=this.getDataCharacterCounters();for(let tt=0;tt<u.length;tt++)u[tt]=0;if(l)U.recordPatternInReverse(o,s.getStartEnd()[0],u);else{U.recordPattern(o,s.getStartEnd()[1],u);for(let tt=0,zt=u.length-1;tt<zt;tt++,zt--){let Dn=u[tt];u[tt]=u[zt],u[zt]=Dn}}let d=17,h=Be.sum(new Int32Array(u))/d,g=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(h-g)/g>.3)throw new B;let y=this.getOddCounts(),w=this.getEvenCounts(),v=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let tt=0;tt<u.length;tt++){let zt=1*u[tt]/h,Dn=zt+.5;if(Dn<1){if(zt<.3)throw new B;Dn=1}else if(Dn>8){if(zt>8.7)throw new B;Dn=8}let wo=tt/2;tt&1?(w[wo]=Dn,I[wo]=zt-Dn):(y[wo]=Dn,v[wo]=zt-Dn)}this.adjustOddEvenCounts(d);let b=4*s.getValue()+(a?0:2)+(l?0:1)-1,S=0,_=0;for(let tt=y.length-1;tt>=0;tt--){if(U.isNotA1left(s,a,l)){let zt=U.WEIGHTS[b][2*tt];_+=y[tt]*zt}S+=y[tt]}let M=0;for(let tt=w.length-1;tt>=0;tt--)if(U.isNotA1left(s,a,l)){let zt=U.WEIGHTS[b][2*tt+1];M+=w[tt]*zt}let R=_+M;if(S&1||S>13||S<4)throw new B;let z=(13-S)/2,q=U.SYMBOL_WIDEST[z],k=9-q,Me=dr.getRSSvalue(y,q,!0),Ee=dr.getRSSvalue(w,k,!1),hn=U.EVEN_TOTAL_SUBSET[z],Xn=U.GSUM[z],pn=Me*hn+Ee+Xn;return new po(pn,R)}static isNotA1left(o,s,a){return!(o.getValue()==0&&s&&a)}adjustOddEvenCounts(o){let s=Be.sum(new Int32Array(this.getOddCounts())),a=Be.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;s>13?u=!0:s<4&&(l=!0);let d=!1,h=!1;a>13?h=!0:a<4&&(d=!0);let g=s+a-o,y=(s&1)==1,w=(a&1)==0;if(g==1)if(y){if(w)throw new B;u=!0}else{if(!w)throw new B;h=!0}else if(g==-1)if(y){if(w)throw new B;l=!0}else{if(!w)throw new B;d=!0}else if(g==0){if(y){if(!w)throw new B;s<a?(l=!0,h=!0):(u=!0,d=!0)}else if(w)throw new B}else throw new B;if(l){if(u)throw new B;U.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&U.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new B;U.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&U.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}U.SYMBOL_WIDEST=[7,5,4,3,1],U.EVEN_TOTAL_SUBSET=[4,20,52,104,204],U.GSUM=[0,348,1388,2948,3988],U.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],U.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],U.FINDER_PAT_A=0,U.FINDER_PAT_B=1,U.FINDER_PAT_C=2,U.FINDER_PAT_D=3,U.FINDER_PAT_E=4,U.FINDER_PAT_F=5,U.FINDER_PATTERN_SEQUENCES=[[U.FINDER_PAT_A,U.FINDER_PAT_A],[U.FINDER_PAT_A,U.FINDER_PAT_B,U.FINDER_PAT_B],[U.FINDER_PAT_A,U.FINDER_PAT_C,U.FINDER_PAT_B,U.FINDER_PAT_D],[U.FINDER_PAT_A,U.FINDER_PAT_E,U.FINDER_PAT_B,U.FINDER_PAT_D,U.FINDER_PAT_C],[U.FINDER_PAT_A,U.FINDER_PAT_E,U.FINDER_PAT_B,U.FINDER_PAT_D,U.FINDER_PAT_D,U.FINDER_PAT_F],[U.FINDER_PAT_A,U.FINDER_PAT_E,U.FINDER_PAT_B,U.FINDER_PAT_D,U.FINDER_PAT_E,U.FINDER_PAT_F,U.FINDER_PAT_F],[U.FINDER_PAT_A,U.FINDER_PAT_A,U.FINDER_PAT_B,U.FINDER_PAT_B,U.FINDER_PAT_C,U.FINDER_PAT_C,U.FINDER_PAT_D,U.FINDER_PAT_D],[U.FINDER_PAT_A,U.FINDER_PAT_A,U.FINDER_PAT_B,U.FINDER_PAT_B,U.FINDER_PAT_C,U.FINDER_PAT_C,U.FINDER_PAT_D,U.FINDER_PAT_E,U.FINDER_PAT_E],[U.FINDER_PAT_A,U.FINDER_PAT_A,U.FINDER_PAT_B,U.FINDER_PAT_B,U.FINDER_PAT_C,U.FINDER_PAT_C,U.FINDER_PAT_D,U.FINDER_PAT_E,U.FINDER_PAT_F,U.FINDER_PAT_F],[U.FINDER_PAT_A,U.FINDER_PAT_A,U.FINDER_PAT_B,U.FINDER_PAT_B,U.FINDER_PAT_C,U.FINDER_PAT_D,U.FINDER_PAT_D,U.FINDER_PAT_E,U.FINDER_PAT_E,U.FINDER_PAT_F,U.FINDER_PAT_F]],U.MAX_PAIRS=11;class pv extends po{constructor(o,s,a){super(o,s),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class gt extends Li{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,s,a){let l=this.decodePair(s,!1,o,a);gt.addOrTally(this.possibleLeftPairs,l),s.reverse();let u=this.decodePair(s,!0,o,a);gt.addOrTally(this.possibleRightPairs,u),s.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&gt.checkChecksum(d,h))return gt.constructResult(d,h)}throw new B}static addOrTally(o,s){if(s==null)return;let a=!1;for(let l of o)if(l.getValue()===s.getValue()){l.incrementCount(),a=!0;break}a||o.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,s){let a=4537077*o.getValue()+s.getValue(),l=new String(a).toString(),u=new Qe;for(let y=13-l.length;y>0;y--)u.append("0");u.append(l);let d=0;for(let y=0;y<13;y++){let w=u.charAt(y).charCodeAt(0)-"0".charCodeAt(0);d+=y&1?w:3*w}d=10-d%10,d===10&&(d=0),u.append(d.toString());let h=o.getFinderPattern().getResultPoints(),g=s.getFinderPattern().getResultPoints();return new en(u.toString(),null,0,[h[0],h[1],g[0],g[1]],pe.RSS_14,new Date().getTime())}static checkChecksum(o,s){let a=(o.getChecksumPortion()+16*s.getChecksumPortion())%79,l=9*o.getFinderPattern().getValue()+s.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,a===l}decodePair(o,s,a,l){try{let u=this.findFinderPattern(o,s),d=this.parseFoundFinderPattern(o,a,s,u),h=l==null?null:l.get(re.NEED_RESULT_POINT_CALLBACK);if(h!=null){let w=(u[0]+u[1])/2;s&&(w=o.getSize()-1-w),h.foundPossibleResultPoint(new oe(w,a))}let g=this.decodeDataCharacter(o,d,!0),y=this.decodeDataCharacter(o,d,!1);return new pv(1597*g.getValue()+y.getValue(),g.getChecksumPortion()+4*y.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(o,s,a){let l=this.getDataCharacterCounters();for(let M=0;M<l.length;M++)l[M]=0;if(a)Dt.recordPatternInReverse(o,s.getStartEnd()[0],l);else{Dt.recordPattern(o,s.getStartEnd()[1]+1,l);for(let M=0,R=l.length-1;M<R;M++,R--){let z=l[M];l[M]=l[R],l[R]=z}}let u=a?16:15,d=Be.sum(new Int32Array(l))/u,h=this.getOddCounts(),g=this.getEvenCounts(),y=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let M=0;M<l.length;M++){let R=l[M]/d,z=Math.floor(R+.5);z<1?z=1:z>8&&(z=8);let q=Math.floor(M/2);M&1?(g[q]=z,w[q]=R-z):(h[q]=z,y[q]=R-z)}this.adjustOddEvenCounts(a,u);let v=0,I=0;for(let M=h.length-1;M>=0;M--)I*=9,I+=h[M],v+=h[M];let b=0,S=0;for(let M=g.length-1;M>=0;M--)b*=9,b+=g[M],S+=g[M];let _=I+3*b;if(a){if(v&1||v>12||v<4)throw new B;let M=(12-v)/2,R=gt.OUTSIDE_ODD_WIDEST[M],z=9-R,q=dr.getRSSvalue(h,R,!1),k=dr.getRSSvalue(g,z,!0),Me=gt.OUTSIDE_EVEN_TOTAL_SUBSET[M],Ee=gt.OUTSIDE_GSUM[M];return new po(q*Me+k+Ee,_)}else{if(S&1||S>10||S<4)throw new B;let M=(10-S)/2,R=gt.INSIDE_ODD_WIDEST[M],z=9-R,q=dr.getRSSvalue(h,R,!0),k=dr.getRSSvalue(g,z,!1),Me=gt.INSIDE_ODD_TOTAL_SUBSET[M],Ee=gt.INSIDE_GSUM[M];return new po(k*Me+q+Ee,_)}}findFinderPattern(o,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=o.getSize(),u=!1,d=0;for(;d<l&&(u=!o.get(d),s!==u);)d++;let h=0,g=d;for(let y=d;y<l;y++)if(o.get(y)!==u)a[h]++;else{if(h===3){if(Li.isFinderPattern(a))return[g,y];g+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,h--}else h++;a[h]=1,u=!u}throw new B}parseFoundFinderPattern(o,s,a,l){let u=o.get(l[0]),d=l[0]-1;for(;d>=0&&u!==o.get(d);)d--;d++;let h=l[0]-d,g=this.getDecodeFinderCounters(),y=new Int32Array(g.length);N.arraycopy(g,0,y,1,g.length-1),y[0]=h;let w=this.parseFinderValue(y,gt.FINDER_PATTERNS),v=d,I=l[1];return a&&(v=o.getSize()-1-v,I=o.getSize()-1-I),new Ua(w,[d,l[1]],v,I,s)}adjustOddEvenCounts(o,s){let a=Be.sum(new Int32Array(this.getOddCounts())),l=Be.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1,h=!1,g=!1;o?(a>12?d=!0:a<4&&(u=!0),l>12?g=!0:l<4&&(h=!0)):(a>11?d=!0:a<5&&(u=!0),l>10?g=!0:l<4&&(h=!0));let y=a+l-s,w=(a&1)===(o?1:0),v=(l&1)===1;if(y===1)if(w){if(v)throw new B;d=!0}else{if(!v)throw new B;g=!0}else if(y===-1)if(w){if(v)throw new B;u=!0}else{if(!v)throw new B;h=!0}else if(y===0){if(w){if(!v)throw new B;a<l?(u=!0,g=!0):(d=!0,h=!0)}else if(v)throw new B}else throw new B;if(u){if(d)throw new B;Li.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&Li.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new B;Li.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&Li.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],gt.OUTSIDE_GSUM=[0,161,961,2015,2715],gt.INSIDE_GSUM=[0,336,1036,1516],gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],gt.INSIDE_ODD_WIDEST=[2,4,6,8],gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class yo extends Dt{constructor(o,s){super(),this.readers=[],this.verbose=s===!0;let a=o?o.get(re.POSSIBLE_FORMATS):null,l=o&&o.get(re.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(pe.EAN_13)||a.includes(pe.UPC_A)||a.includes(pe.EAN_8)||a.includes(pe.UPC_E))&&this.readers.push(new Vu(o)),a.includes(pe.CODE_39)&&this.readers.push(new ku(l)),a.includes(pe.CODE_128)&&this.readers.push(new X),a.includes(pe.ITF)&&this.readers.push(new Je),a.includes(pe.RSS_14)&&this.readers.push(new gt),a.includes(pe.RSS_EXPANDED)&&this.readers.push(new U(this.verbose))):(this.readers.push(new Vu(o)),this.readers.push(new ku),this.readers.push(new Vu(o)),this.readers.push(new X),this.readers.push(new Je),this.readers.push(new gt),this.readers.push(new U(this.verbose)))}decodeRow(o,s,a){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(o,s,a)}catch{}throw new B}reset(){this.readers.forEach(o=>o.reset())}}class gv extends Pi{constructor(o=500,s){super(new yo(s),o,s)}}class Ze{constructor(o,s,a){this.ecCodewords=o,this.ecBlocks=[s],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ze{constructor(o,s){this.count=o,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Pe{constructor(o,s,a,l,u,d){this.versionNumber=o,this.symbolSizeRows=s,this.symbolSizeColumns=a,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=d;let h=0,g=d.getECCodewords(),y=d.getECBlocks();for(let w of y)h+=w.getCount()*(w.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,s){if(o&1||s&1)throw new j;for(let a of Pe.VERSIONS)if(a.symbolSizeRows===o&&a.symbolSizeColumns===s)return a;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new Pe(1,10,10,8,8,new Ze(5,new ze(1,3))),new Pe(2,12,12,10,10,new Ze(7,new ze(1,5))),new Pe(3,14,14,12,12,new Ze(10,new ze(1,8))),new Pe(4,16,16,14,14,new Ze(12,new ze(1,12))),new Pe(5,18,18,16,16,new Ze(14,new ze(1,18))),new Pe(6,20,20,18,18,new Ze(18,new ze(1,22))),new Pe(7,22,22,20,20,new Ze(20,new ze(1,30))),new Pe(8,24,24,22,22,new Ze(24,new ze(1,36))),new Pe(9,26,26,24,24,new Ze(28,new ze(1,44))),new Pe(10,32,32,14,14,new Ze(36,new ze(1,62))),new Pe(11,36,36,16,16,new Ze(42,new ze(1,86))),new Pe(12,40,40,18,18,new Ze(48,new ze(1,114))),new Pe(13,44,44,20,20,new Ze(56,new ze(1,144))),new Pe(14,48,48,22,22,new Ze(68,new ze(1,174))),new Pe(15,52,52,24,24,new Ze(42,new ze(2,102))),new Pe(16,64,64,14,14,new Ze(56,new ze(2,140))),new Pe(17,72,72,16,16,new Ze(36,new ze(4,92))),new Pe(18,80,80,18,18,new Ze(48,new ze(4,114))),new Pe(19,88,88,20,20,new Ze(56,new ze(4,144))),new Pe(20,96,96,22,22,new Ze(68,new ze(4,174))),new Pe(21,104,104,24,24,new Ze(56,new ze(6,136))),new Pe(22,120,120,18,18,new Ze(68,new ze(6,175))),new Pe(23,132,132,20,20,new Ze(62,new ze(8,163))),new Pe(24,144,144,22,22,new Ze(62,new ze(8,156),new ze(2,155))),new Pe(25,8,18,6,16,new Ze(7,new ze(1,5))),new Pe(26,8,32,6,14,new Ze(11,new ze(1,10))),new Pe(27,12,26,10,24,new Ze(14,new ze(1,16))),new Pe(28,12,36,10,16,new Ze(18,new ze(1,22))),new Pe(29,16,36,14,16,new Ze(24,new ze(1,32))),new Pe(30,16,48,14,22,new Ze(28,new ze(1,49)))]}}Pe.VERSIONS=Pe.buildVersions();class zu{constructor(o){let s=o.getHeight();if(s<8||s>144||s&1)throw new j;this.version=zu.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new Mt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){let s=o.getHeight(),a=o.getWidth();return Pe.getVersionForDimensions(s,a)}readCodewords(){let o=new Int8Array(this.version.getTotalCodewords()),s=0,a=4,l=0,u=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth(),h=!1,g=!1,y=!1,w=!1;do if(a===u&&l===0&&!h)o[s++]=this.readCorner1(u,d)&255,a-=2,l+=2,h=!0;else if(a===u-2&&l===0&&d&3&&!g)o[s++]=this.readCorner2(u,d)&255,a-=2,l+=2,g=!0;else if(a===u+4&&l===2&&!(d&7)&&!y)o[s++]=this.readCorner3(u,d)&255,a-=2,l+=2,y=!0;else if(a===u-2&&l===0&&(d&7)===4&&!w)o[s++]=this.readCorner4(u,d)&255,a-=2,l+=2,w=!0;else{do a<u&&l>=0&&!this.readMappingMatrix.get(l,a)&&(o[s++]=this.readUtah(a,l,u,d)&255),a-=2,l+=2;while(a>=0&&l<d);a+=1,l+=3;do a>=0&&l<d&&!this.readMappingMatrix.get(l,a)&&(o[s++]=this.readUtah(a,l,u,d)&255),a+=2,l-=2;while(a<u&&l>=0);a+=3,l+=1}while(a<u||l<d);if(s!==this.version.getTotalCodewords())throw new j;return o}readModule(o,s,a,l){return o<0&&(o+=a,s+=4-(a+4&7)),s<0&&(s+=l,o+=4-(l+4&7)),this.readMappingMatrix.set(s,o),this.mappingBitMatrix.get(s,o)}readUtah(o,s,a,l){let u=0;return this.readModule(o-2,s-2,a,l)&&(u|=1),u<<=1,this.readModule(o-2,s-1,a,l)&&(u|=1),u<<=1,this.readModule(o-1,s-2,a,l)&&(u|=1),u<<=1,this.readModule(o-1,s-1,a,l)&&(u|=1),u<<=1,this.readModule(o-1,s,a,l)&&(u|=1),u<<=1,this.readModule(o,s-2,a,l)&&(u|=1),u<<=1,this.readModule(o,s-1,a,l)&&(u|=1),u<<=1,this.readModule(o,s,a,l)&&(u|=1),u}readCorner1(o,s){let a=0;return this.readModule(o-1,0,o,s)&&(a|=1),a<<=1,this.readModule(o-1,1,o,s)&&(a|=1),a<<=1,this.readModule(o-1,2,o,s)&&(a|=1),a<<=1,this.readModule(0,s-2,o,s)&&(a|=1),a<<=1,this.readModule(0,s-1,o,s)&&(a|=1),a<<=1,this.readModule(1,s-1,o,s)&&(a|=1),a<<=1,this.readModule(2,s-1,o,s)&&(a|=1),a<<=1,this.readModule(3,s-1,o,s)&&(a|=1),a}readCorner2(o,s){let a=0;return this.readModule(o-3,0,o,s)&&(a|=1),a<<=1,this.readModule(o-2,0,o,s)&&(a|=1),a<<=1,this.readModule(o-1,0,o,s)&&(a|=1),a<<=1,this.readModule(0,s-4,o,s)&&(a|=1),a<<=1,this.readModule(0,s-3,o,s)&&(a|=1),a<<=1,this.readModule(0,s-2,o,s)&&(a|=1),a<<=1,this.readModule(0,s-1,o,s)&&(a|=1),a<<=1,this.readModule(1,s-1,o,s)&&(a|=1),a}readCorner3(o,s){let a=0;return this.readModule(o-1,0,o,s)&&(a|=1),a<<=1,this.readModule(o-1,s-1,o,s)&&(a|=1),a<<=1,this.readModule(0,s-3,o,s)&&(a|=1),a<<=1,this.readModule(0,s-2,o,s)&&(a|=1),a<<=1,this.readModule(0,s-1,o,s)&&(a|=1),a<<=1,this.readModule(1,s-3,o,s)&&(a|=1),a<<=1,this.readModule(1,s-2,o,s)&&(a|=1),a<<=1,this.readModule(1,s-1,o,s)&&(a|=1),a}readCorner4(o,s){let a=0;return this.readModule(o-3,0,o,s)&&(a|=1),a<<=1,this.readModule(o-2,0,o,s)&&(a|=1),a<<=1,this.readModule(o-1,0,o,s)&&(a|=1),a<<=1,this.readModule(0,s-2,o,s)&&(a|=1),a<<=1,this.readModule(0,s-1,o,s)&&(a|=1),a<<=1,this.readModule(1,s-1,o,s)&&(a|=1),a<<=1,this.readModule(2,s-1,o,s)&&(a|=1),a<<=1,this.readModule(3,s-1,o,s)&&(a|=1),a}extractDataRegion(o){let s=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(o.getHeight()!==s)throw new m("Dimension of bitMatrix must match the version size");let l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),d=s/l|0,h=a/u|0,g=d*l,y=h*u,w=new Mt(y,g);for(let v=0;v<d;++v){let I=v*l;for(let b=0;b<h;++b){let S=b*u;for(let _=0;_<l;++_){let M=v*(l+2)+1+_,R=I+_;for(let z=0;z<u;++z){let q=b*(u+2)+1+z;if(o.get(q,M)){let k=S+z;w.set(k,R)}}}}}return w}}class Gu{constructor(o,s){this.numDataCodewords=o,this.codewords=s}static getDataBlocks(o,s){let a=s.getECBlocks(),l=0,u=a.getECBlocks();for(let _ of u)l+=_.getCount();let d=new Array(l),h=0;for(let _ of u)for(let M=0;M<_.getCount();M++){let R=_.getDataCodewords(),z=a.getECCodewords()+R;d[h++]=new Gu(R,new Uint8Array(z))}let y=d[0].codewords.length-a.getECCodewords(),w=y-1,v=0;for(let _=0;_<w;_++)for(let M=0;M<h;M++)d[M].codewords[_]=o[v++];let I=s.getVersionNumber()===24,b=I?8:h;for(let _=0;_<b;_++)d[_].codewords[y-1]=o[v++];let S=d[0].codewords.length;for(let _=y;_<S;_++)for(let M=0;M<h;M++){let R=I?(M+8)%h:M,z=I&&R>7?_-1:_;d[R].codewords[z]=o[v++]}if(v!==o.length)throw new m;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Wu{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new m(""+o);let s=0,a=this.bitOffset,l=this.byteOffset,u=this.bytes;if(a>0){let d=8-a,h=o<d?o:d,g=d-h,y=255>>8-h<<g;s=(u[l]&y)>>g,o-=h,a+=h,a===8&&(a=0,l++)}if(o>0){for(;o>=8;)s=s<<8|u[l]&255,l++,o-=8;if(o>0){let d=8-o,h=255>>d<<d;s=s<<o|(u[l]&h)>>d,a+=o}}return this.bitOffset=a,this.byteOffset=l,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Rt=function(C){return C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE",C}(Rt||{});class Jr{static decode(o){let s=new Wu(o),a=new Qe,l=new Qe,u=new Array,d=Rt.ASCII_ENCODE;do if(d===Rt.ASCII_ENCODE)d=this.decodeAsciiSegment(s,a,l);else{switch(d){case Rt.C40_ENCODE:this.decodeC40Segment(s,a);break;case Rt.TEXT_ENCODE:this.decodeTextSegment(s,a);break;case Rt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,a);break;case Rt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,a);break;case Rt.BASE256_ENCODE:this.decodeBase256Segment(s,a,u);break;default:throw new j}d=Rt.ASCII_ENCODE}while(d!==Rt.PAD_ENCODE&&s.available()>0);return l.length()>0&&a.append(l.toString()),new gs(o,a.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(o,s,a){let l=!1;do{let u=o.readBits(8);if(u===0)throw new j;if(u<=128)return l&&(u+=128),s.append(String.fromCharCode(u-1)),Rt.ASCII_ENCODE;if(u===129)return Rt.PAD_ENCODE;if(u<=229){let d=u-130;d<10&&s.append("0"),s.append(""+d)}else switch(u){case 230:return Rt.C40_ENCODE;case 231:return Rt.BASE256_ENCODE;case 232:s.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:l=!0;break;case 236:s.append("[)>05"),a.insert(0,"");break;case 237:s.append("[)>06"),a.insert(0,"");break;case 238:return Rt.ANSIX12_ENCODE;case 239:return Rt.TEXT_ENCODE;case 240:return Rt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||o.available()!==0)throw new j;break}}while(o.available()>0);return Rt.ASCII_ENCODE}static decodeC40Segment(o,s){let a=!1,l=[],u=0;do{if(o.available()===8)return;let d=o.readBits(8);if(d===254)return;this.parseTwoBytes(d,o.readBits(8),l);for(let h=0;h<3;h++){let g=l[h];switch(u){case 0:if(g<3)u=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){let y=this.C40_BASIC_SET_CHARS[g];a?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):s.append(y)}else throw new j;break;case 1:a?(s.append(String.fromCharCode(g+128)),a=!1):s.append(String.fromCharCode(g)),u=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){let y=this.C40_SHIFT2_SET_CHARS[g];a?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):s.append(y)}else switch(g){case 27:s.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new j}u=0;break;case 3:a?(s.append(String.fromCharCode(g+224)),a=!1):s.append(String.fromCharCode(g+96)),u=0;break;default:throw new j}}}while(o.available()>0)}static decodeTextSegment(o,s){let a=!1,l=[],u=0;do{if(o.available()===8)return;let d=o.readBits(8);if(d===254)return;this.parseTwoBytes(d,o.readBits(8),l);for(let h=0;h<3;h++){let g=l[h];switch(u){case 0:if(g<3)u=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){let y=this.TEXT_BASIC_SET_CHARS[g];a?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):s.append(y)}else throw new j;break;case 1:a?(s.append(String.fromCharCode(g+128)),a=!1):s.append(String.fromCharCode(g)),u=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){let y=this.TEXT_SHIFT2_SET_CHARS[g];a?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):s.append(y)}else switch(g){case 27:s.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new j}u=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){let y=this.TEXT_SHIFT3_SET_CHARS[g];a?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):s.append(y),u=0}else throw new j;break;default:throw new j}}}while(o.available()>0)}static decodeAnsiX12Segment(o,s){let a=[];do{if(o.available()===8)return;let l=o.readBits(8);if(l===254)return;this.parseTwoBytes(l,o.readBits(8),a);for(let u=0;u<3;u++){let d=a[u];switch(d){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(d<14)s.append(String.fromCharCode(d+44));else if(d<40)s.append(String.fromCharCode(d+51));else throw new j;break}}}while(o.available()>0)}static parseTwoBytes(o,s,a){let l=(o<<8)+s-1,u=Math.floor(l/1600);a[0]=u,l-=u*1600,u=Math.floor(l/40),a[1]=u,a[2]=l-u*40}static decodeEdifactSegment(o,s){do{if(o.available()<=16)return;for(let a=0;a<4;a++){let l=o.readBits(6);if(l===31){let u=8-o.getBitOffset();u!==8&&o.readBits(u);return}l&32||(l|=64),s.append(String.fromCharCode(l))}}while(o.available()>0)}static decodeBase256Segment(o,s,a){let l=1+o.getByteOffset(),u=this.unrandomize255State(o.readBits(8),l++),d;if(u===0?d=o.available()/8|0:u<250?d=u:d=250*(u-249)+this.unrandomize255State(o.readBits(8),l++),d<0)throw new j;let h=new Uint8Array(d);for(let g=0;g<d;g++){if(o.available()<8)throw new j;h[g]=this.unrandomize255State(o.readBits(8),l++)}a.push(h);try{s.append(Zt.decode(h,xe.ISO88591))}catch(g){throw new Nr("Platform does not support required encoding: "+g.message)}}static unrandomize255State(o,s){let a=149*s%255+1,l=o-a;return l>=0?l:l+256}}Jr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Jr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Jr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Jr.TEXT_SHIFT2_SET_CHARS=Jr.C40_SHIFT2_SET_CHARS,Jr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class mv{constructor(){this.rsDecoder=new Cs(je.DATA_MATRIX_FIELD_256)}decode(o){let s=new zu(o),a=s.getVersion(),l=s.readCodewords(),u=Gu.getDataBlocks(l,a),d=0;for(let y of u)d+=y.getNumDataCodewords();let h=new Uint8Array(d),g=u.length;for(let y=0;y<g;y++){let w=u[y],v=w.getCodewords(),I=w.getNumDataCodewords();this.correctErrors(v,I);for(let b=0;b<I;b++)h[b*g+y]=v[b]}return Jr.decode(h)}correctErrors(o,s){let a=new Int32Array(o);try{this.rsDecoder.decode(a,o.length-s)}catch{throw new D}for(let l=0;l<s;l++)o[l]=a[l]}}class vt{constructor(o){this.image=o,this.rectangleDetector=new ka(this.image)}detect(){let o=this.rectangleDetector.detect(),s=this.detectSolid1(o);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new B;s=this.shiftToModuleCenter(s);let a=s[0],l=s[1],u=s[2],d=s[3],h=this.transitionsBetween(a,d)+1,g=this.transitionsBetween(u,d)+1;(h&1)===1&&(h+=1),(g&1)===1&&(g+=1),4*h<7*g&&4*g<7*h&&(h=g=Math.max(h,g));let y=vt.sampleGrid(this.image,a,l,u,d,h,g);return new La(y,[a,l,u,d])}static shiftPoint(o,s,a){let l=(s.getX()-o.getX())/(a+1),u=(s.getY()-o.getY())/(a+1);return new oe(o.getX()+l,o.getY()+u)}static moveAway(o,s,a){let l=o.getX(),u=o.getY();return l<s?l-=1:l+=1,u<a?u-=1:u+=1,new oe(l,u)}detectSolid1(o){let s=o[0],a=o[1],l=o[3],u=o[2],d=this.transitionsBetween(s,a),h=this.transitionsBetween(a,l),g=this.transitionsBetween(l,u),y=this.transitionsBetween(u,s),w=d,v=[u,s,a,l];return w>h&&(w=h,v[0]=s,v[1]=a,v[2]=l,v[3]=u),w>g&&(w=g,v[0]=a,v[1]=l,v[2]=u,v[3]=s),w>y&&(v[0]=l,v[1]=u,v[2]=s,v[3]=a),v}detectSolid2(o){let s=o[0],a=o[1],l=o[2],u=o[3],d=this.transitionsBetween(s,u),h=vt.shiftPoint(a,l,(d+1)*4),g=vt.shiftPoint(l,a,(d+1)*4),y=this.transitionsBetween(h,s),w=this.transitionsBetween(g,u);return y<w?(o[0]=s,o[1]=a,o[2]=l,o[3]=u):(o[0]=a,o[1]=l,o[2]=u,o[3]=s),o}correctTopRight(o){let s=o[0],a=o[1],l=o[2],u=o[3],d=this.transitionsBetween(s,u),h=this.transitionsBetween(a,u),g=vt.shiftPoint(s,a,(h+1)*4),y=vt.shiftPoint(l,a,(d+1)*4);d=this.transitionsBetween(g,u),h=this.transitionsBetween(y,u);let w=new oe(u.getX()+(l.getX()-a.getX())/(d+1),u.getY()+(l.getY()-a.getY())/(d+1)),v=new oe(u.getX()+(s.getX()-a.getX())/(h+1),u.getY()+(s.getY()-a.getY())/(h+1));if(!this.isValid(w))return this.isValid(v)?v:null;if(!this.isValid(v))return w;let I=this.transitionsBetween(g,w)+this.transitionsBetween(y,w),b=this.transitionsBetween(g,v)+this.transitionsBetween(y,v);return I>b?w:v}shiftToModuleCenter(o){let s=o[0],a=o[1],l=o[2],u=o[3],d=this.transitionsBetween(s,u)+1,h=this.transitionsBetween(l,u)+1,g=vt.shiftPoint(s,a,h*4),y=vt.shiftPoint(l,a,d*4);d=this.transitionsBetween(g,u)+1,h=this.transitionsBetween(y,u)+1,(d&1)===1&&(d+=1),(h&1)===1&&(h+=1);let w=(s.getX()+a.getX()+l.getX()+u.getX())/4,v=(s.getY()+a.getY()+l.getY()+u.getY())/4;s=vt.moveAway(s,w,v),a=vt.moveAway(a,w,v),l=vt.moveAway(l,w,v),u=vt.moveAway(u,w,v);let I,b;return g=vt.shiftPoint(s,a,h*4),g=vt.shiftPoint(g,u,d*4),I=vt.shiftPoint(a,s,h*4),I=vt.shiftPoint(I,l,d*4),y=vt.shiftPoint(l,u,h*4),y=vt.shiftPoint(y,a,d*4),b=vt.shiftPoint(u,l,h*4),b=vt.shiftPoint(b,s,d*4),[g,I,y,b]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,s,a,l,u,d,h){return qr.getInstance().sampleGrid(o,d,h,.5,.5,d-.5,.5,d-.5,h-.5,.5,h-.5,s.getX(),s.getY(),u.getX(),u.getY(),l.getX(),l.getY(),a.getX(),a.getY())}transitionsBetween(o,s){let a=Math.trunc(o.getX()),l=Math.trunc(o.getY()),u=Math.trunc(s.getX()),d=Math.trunc(s.getY()),h=Math.abs(d-l)>Math.abs(u-a);if(h){let _=a;a=l,l=_,_=u,u=d,d=_}let g=Math.abs(u-a),y=Math.abs(d-l),w=-g/2,v=l<d?1:-1,I=a<u?1:-1,b=0,S=this.image.get(h?l:a,h?a:l);for(let _=a,M=l;_!==u;_+=I){let R=this.image.get(h?M:_,h?_:M);if(R!==S&&(b++,S=R),w+=y,w>0){if(M===d)break;M+=v,w-=g}}return b}}let Ha=(()=>{class C{constructor(){this.decoder=new mv}decode(s,a=null){let l,u;if(a!=null&&a.has(re.PURE_BARCODE)){let w=C.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(w),u=C.NO_POINTS}else{let w=new vt(s.getBlackMatrix()).detect();l=this.decoder.decode(w.getBits()),u=w.getPoints()}let d=l.getRawBytes(),h=new en(l.getText(),d,8*d.length,u,pe.DATA_MATRIX,N.currentTimeMillis()),g=l.getByteSegments();g!=null&&h.putMetadata(Ot.BYTE_SEGMENTS,g);let y=l.getECLevel();return y!=null&&h.putMetadata(Ot.ERROR_CORRECTION_LEVEL,y),h}reset(){}static extractPureBits(s){let a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(a==null||l==null)throw new B;let u=this.moduleSize(a,s),d=a[1],h=l[1],g=a[0],w=(l[0]-g+1)/u,v=(h-d+1)/u;if(w<=0||v<=0)throw new B;let I=u/2;d+=I,g+=I;let b=new Mt(w,v);for(let S=0;S<v;S++){let _=d+S*u;for(let M=0;M<w;M++)s.get(g+M*u,_)&&b.set(M,S)}return b}static moduleSize(s,a){let l=a.getWidth(),u=s[0],d=s[1];for(;u<l&&a.get(u,d);)u++;if(u===l)throw new B;let h=u-s[0];if(h===0)throw new B;return h}}return C.NO_POINTS=[],C})();class yv extends Pi{constructor(o=500){super(new Ha,o)}}var ws=function(C){return C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H",C}(ws||{});class ot{constructor(o,s,a){this.value=o,this.stringValue=s,this.bits=a,ot.FOR_BITS.set(a,this),ot.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return ot.L;case"M":return ot.M;case"Q":return ot.Q;case"H":return ot.H;default:throw new x(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof ot))return!1;let s=o;return this.value===s.value}static forBits(o){if(o<0||o>=ot.FOR_BITS.size)throw new m;return ot.FOR_BITS.get(o)}}ot.FOR_BITS=new Map,ot.FOR_VALUE=new Map,ot.L=new ot(ws.L,"L",1),ot.M=new ot(ws.M,"M",0),ot.Q=new ot(ws.Q,"Q",3),ot.H=new ot(ws.H,"H",2);class qt{constructor(o){this.errorCorrectionLevel=ot.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,s){return V.bitCount(o^s)}static decodeFormatInformation(o,s){let a=qt.doDecodeFormatInformation(o,s);return a!==null?a:qt.doDecodeFormatInformation(o^qt.FORMAT_INFO_MASK_QR,s^qt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,s){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u of qt.FORMAT_INFO_DECODE_LOOKUP){let d=u[0];if(d===o||d===s)return new qt(u[1]);let h=qt.numBitsDiffering(o,d);h<a&&(l=u[1],a=h),o!==s&&(h=qt.numBitsDiffering(s,d),h<a&&(l=u[1],a=h))}return a<=3?new qt(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof qt))return!1;let s=o;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}qt.FORMAT_INFO_MASK_QR=21522,qt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class O{constructor(o,...s){this.ecCodewordsPerBlock=o,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0,s=this.ecBlocks;for(let a of s)o+=a.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class A{constructor(o,s){this.count=o,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class le{constructor(o,s,...a){this.versionNumber=o,this.alignmentPatternCenters=s,this.ecBlocks=a;let l=0,u=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(let h of d)l+=h.getCount()*(h.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new j;try{return this.getVersionForNumber((o-17)/4)}catch{throw new j}}static getVersionForNumber(o){if(o<1||o>40)throw new m;return le.VERSIONS[o-1]}static decodeVersionInformation(o){let s=Number.MAX_SAFE_INTEGER,a=0;for(let l=0;l<le.VERSION_DECODE_INFO.length;l++){let u=le.VERSION_DECODE_INFO[l];if(u===o)return le.getVersionForNumber(l+7);let d=qt.numBitsDiffering(o,u);d<s&&(a=l+7,s=d)}return s<=3?le.getVersionForNumber(a):null}buildFunctionPattern(){let o=this.getDimensionForVersion(),s=new Mt(o);s.setRegion(0,0,9,9),s.setRegion(o-8,0,8,9),s.setRegion(0,o-8,9,8);let a=this.alignmentPatternCenters.length;for(let l=0;l<a;l++){let u=this.alignmentPatternCenters[l]-2;for(let d=0;d<a;d++)l===0&&(d===0||d===a-1)||l===a-1&&d===0||s.setRegion(this.alignmentPatternCenters[d]-2,u,5,5)}return s.setRegion(6,9,1,o-17),s.setRegion(9,6,o-17,1),this.versionNumber>6&&(s.setRegion(o-11,0,3,6),s.setRegion(0,o-11,6,3)),s}toString(){return""+this.versionNumber}}le.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),le.VERSIONS=[new le(1,new Int32Array(0),new O(7,new A(1,19)),new O(10,new A(1,16)),new O(13,new A(1,13)),new O(17,new A(1,9))),new le(2,Int32Array.from([6,18]),new O(10,new A(1,34)),new O(16,new A(1,28)),new O(22,new A(1,22)),new O(28,new A(1,16))),new le(3,Int32Array.from([6,22]),new O(15,new A(1,55)),new O(26,new A(1,44)),new O(18,new A(2,17)),new O(22,new A(2,13))),new le(4,Int32Array.from([6,26]),new O(20,new A(1,80)),new O(18,new A(2,32)),new O(26,new A(2,24)),new O(16,new A(4,9))),new le(5,Int32Array.from([6,30]),new O(26,new A(1,108)),new O(24,new A(2,43)),new O(18,new A(2,15),new A(2,16)),new O(22,new A(2,11),new A(2,12))),new le(6,Int32Array.from([6,34]),new O(18,new A(2,68)),new O(16,new A(4,27)),new O(24,new A(4,19)),new O(28,new A(4,15))),new le(7,Int32Array.from([6,22,38]),new O(20,new A(2,78)),new O(18,new A(4,31)),new O(18,new A(2,14),new A(4,15)),new O(26,new A(4,13),new A(1,14))),new le(8,Int32Array.from([6,24,42]),new O(24,new A(2,97)),new O(22,new A(2,38),new A(2,39)),new O(22,new A(4,18),new A(2,19)),new O(26,new A(4,14),new A(2,15))),new le(9,Int32Array.from([6,26,46]),new O(30,new A(2,116)),new O(22,new A(3,36),new A(2,37)),new O(20,new A(4,16),new A(4,17)),new O(24,new A(4,12),new A(4,13))),new le(10,Int32Array.from([6,28,50]),new O(18,new A(2,68),new A(2,69)),new O(26,new A(4,43),new A(1,44)),new O(24,new A(6,19),new A(2,20)),new O(28,new A(6,15),new A(2,16))),new le(11,Int32Array.from([6,30,54]),new O(20,new A(4,81)),new O(30,new A(1,50),new A(4,51)),new O(28,new A(4,22),new A(4,23)),new O(24,new A(3,12),new A(8,13))),new le(12,Int32Array.from([6,32,58]),new O(24,new A(2,92),new A(2,93)),new O(22,new A(6,36),new A(2,37)),new O(26,new A(4,20),new A(6,21)),new O(28,new A(7,14),new A(4,15))),new le(13,Int32Array.from([6,34,62]),new O(26,new A(4,107)),new O(22,new A(8,37),new A(1,38)),new O(24,new A(8,20),new A(4,21)),new O(22,new A(12,11),new A(4,12))),new le(14,Int32Array.from([6,26,46,66]),new O(30,new A(3,115),new A(1,116)),new O(24,new A(4,40),new A(5,41)),new O(20,new A(11,16),new A(5,17)),new O(24,new A(11,12),new A(5,13))),new le(15,Int32Array.from([6,26,48,70]),new O(22,new A(5,87),new A(1,88)),new O(24,new A(5,41),new A(5,42)),new O(30,new A(5,24),new A(7,25)),new O(24,new A(11,12),new A(7,13))),new le(16,Int32Array.from([6,26,50,74]),new O(24,new A(5,98),new A(1,99)),new O(28,new A(7,45),new A(3,46)),new O(24,new A(15,19),new A(2,20)),new O(30,new A(3,15),new A(13,16))),new le(17,Int32Array.from([6,30,54,78]),new O(28,new A(1,107),new A(5,108)),new O(28,new A(10,46),new A(1,47)),new O(28,new A(1,22),new A(15,23)),new O(28,new A(2,14),new A(17,15))),new le(18,Int32Array.from([6,30,56,82]),new O(30,new A(5,120),new A(1,121)),new O(26,new A(9,43),new A(4,44)),new O(28,new A(17,22),new A(1,23)),new O(28,new A(2,14),new A(19,15))),new le(19,Int32Array.from([6,30,58,86]),new O(28,new A(3,113),new A(4,114)),new O(26,new A(3,44),new A(11,45)),new O(26,new A(17,21),new A(4,22)),new O(26,new A(9,13),new A(16,14))),new le(20,Int32Array.from([6,34,62,90]),new O(28,new A(3,107),new A(5,108)),new O(26,new A(3,41),new A(13,42)),new O(30,new A(15,24),new A(5,25)),new O(28,new A(15,15),new A(10,16))),new le(21,Int32Array.from([6,28,50,72,94]),new O(28,new A(4,116),new A(4,117)),new O(26,new A(17,42)),new O(28,new A(17,22),new A(6,23)),new O(30,new A(19,16),new A(6,17))),new le(22,Int32Array.from([6,26,50,74,98]),new O(28,new A(2,111),new A(7,112)),new O(28,new A(17,46)),new O(30,new A(7,24),new A(16,25)),new O(24,new A(34,13))),new le(23,Int32Array.from([6,30,54,78,102]),new O(30,new A(4,121),new A(5,122)),new O(28,new A(4,47),new A(14,48)),new O(30,new A(11,24),new A(14,25)),new O(30,new A(16,15),new A(14,16))),new le(24,Int32Array.from([6,28,54,80,106]),new O(30,new A(6,117),new A(4,118)),new O(28,new A(6,45),new A(14,46)),new O(30,new A(11,24),new A(16,25)),new O(30,new A(30,16),new A(2,17))),new le(25,Int32Array.from([6,32,58,84,110]),new O(26,new A(8,106),new A(4,107)),new O(28,new A(8,47),new A(13,48)),new O(30,new A(7,24),new A(22,25)),new O(30,new A(22,15),new A(13,16))),new le(26,Int32Array.from([6,30,58,86,114]),new O(28,new A(10,114),new A(2,115)),new O(28,new A(19,46),new A(4,47)),new O(28,new A(28,22),new A(6,23)),new O(30,new A(33,16),new A(4,17))),new le(27,Int32Array.from([6,34,62,90,118]),new O(30,new A(8,122),new A(4,123)),new O(28,new A(22,45),new A(3,46)),new O(30,new A(8,23),new A(26,24)),new O(30,new A(12,15),new A(28,16))),new le(28,Int32Array.from([6,26,50,74,98,122]),new O(30,new A(3,117),new A(10,118)),new O(28,new A(3,45),new A(23,46)),new O(30,new A(4,24),new A(31,25)),new O(30,new A(11,15),new A(31,16))),new le(29,Int32Array.from([6,30,54,78,102,126]),new O(30,new A(7,116),new A(7,117)),new O(28,new A(21,45),new A(7,46)),new O(30,new A(1,23),new A(37,24)),new O(30,new A(19,15),new A(26,16))),new le(30,Int32Array.from([6,26,52,78,104,130]),new O(30,new A(5,115),new A(10,116)),new O(28,new A(19,47),new A(10,48)),new O(30,new A(15,24),new A(25,25)),new O(30,new A(23,15),new A(25,16))),new le(31,Int32Array.from([6,30,56,82,108,134]),new O(30,new A(13,115),new A(3,116)),new O(28,new A(2,46),new A(29,47)),new O(30,new A(42,24),new A(1,25)),new O(30,new A(23,15),new A(28,16))),new le(32,Int32Array.from([6,34,60,86,112,138]),new O(30,new A(17,115)),new O(28,new A(10,46),new A(23,47)),new O(30,new A(10,24),new A(35,25)),new O(30,new A(19,15),new A(35,16))),new le(33,Int32Array.from([6,30,58,86,114,142]),new O(30,new A(17,115),new A(1,116)),new O(28,new A(14,46),new A(21,47)),new O(30,new A(29,24),new A(19,25)),new O(30,new A(11,15),new A(46,16))),new le(34,Int32Array.from([6,34,62,90,118,146]),new O(30,new A(13,115),new A(6,116)),new O(28,new A(14,46),new A(23,47)),new O(30,new A(44,24),new A(7,25)),new O(30,new A(59,16),new A(1,17))),new le(35,Int32Array.from([6,30,54,78,102,126,150]),new O(30,new A(12,121),new A(7,122)),new O(28,new A(12,47),new A(26,48)),new O(30,new A(39,24),new A(14,25)),new O(30,new A(22,15),new A(41,16))),new le(36,Int32Array.from([6,24,50,76,102,128,154]),new O(30,new A(6,121),new A(14,122)),new O(28,new A(6,47),new A(34,48)),new O(30,new A(46,24),new A(10,25)),new O(30,new A(2,15),new A(64,16))),new le(37,Int32Array.from([6,28,54,80,106,132,158]),new O(30,new A(17,122),new A(4,123)),new O(28,new A(29,46),new A(14,47)),new O(30,new A(49,24),new A(10,25)),new O(30,new A(24,15),new A(46,16))),new le(38,Int32Array.from([6,32,58,84,110,136,162]),new O(30,new A(4,122),new A(18,123)),new O(28,new A(13,46),new A(32,47)),new O(30,new A(48,24),new A(14,25)),new O(30,new A(42,15),new A(32,16))),new le(39,Int32Array.from([6,26,54,82,110,138,166]),new O(30,new A(20,117),new A(4,118)),new O(28,new A(40,47),new A(7,48)),new O(30,new A(43,24),new A(22,25)),new O(30,new A(10,15),new A(67,16))),new le(40,Int32Array.from([6,30,58,86,114,142,170]),new O(30,new A(19,118),new A(6,119)),new O(28,new A(18,47),new A(31,48)),new O(30,new A(34,24),new A(34,25)),new O(30,new A(20,15),new A(61,16)))];var Ut=function(C){return C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111",C}(Ut||{});class Rn{constructor(o,s){this.value=o,this.isMasked=s}unmaskBitMatrix(o,s){for(let a=0;a<s;a++)for(let l=0;l<s;l++)this.isMasked(a,l)&&o.flip(l,a)}}Rn.values=new Map([[Ut.DATA_MASK_000,new Rn(Ut.DATA_MASK_000,(C,o)=>(C+o&1)===0)],[Ut.DATA_MASK_001,new Rn(Ut.DATA_MASK_001,(C,o)=>(C&1)===0)],[Ut.DATA_MASK_010,new Rn(Ut.DATA_MASK_010,(C,o)=>o%3===0)],[Ut.DATA_MASK_011,new Rn(Ut.DATA_MASK_011,(C,o)=>(C+o)%3===0)],[Ut.DATA_MASK_100,new Rn(Ut.DATA_MASK_100,(C,o)=>(Math.floor(C/2)+Math.floor(o/3)&1)===0)],[Ut.DATA_MASK_101,new Rn(Ut.DATA_MASK_101,(C,o)=>C*o%6===0)],[Ut.DATA_MASK_110,new Rn(Ut.DATA_MASK_110,(C,o)=>C*o%6<3)],[Ut.DATA_MASK_111,new Rn(Ut.DATA_MASK_111,(C,o)=>(C+o+C*o%3&1)===0)]]);class Cv{constructor(o){let s=o.getHeight();if(s<21||(s&3)!==1)throw new j;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let u=0;u<6;u++)o=this.copyBit(u,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let u=5;u>=0;u--)o=this.copyBit(8,u,o);let s=this.bitMatrix.getHeight(),a=0,l=s-7;for(let u=s-1;u>=l;u--)a=this.copyBit(8,u,a);for(let u=s-8;u<s;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=qt.decodeFormatInformation(o,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;let o=this.bitMatrix.getHeight(),s=Math.floor((o-17)/4);if(s<=6)return le.getVersionForNumber(s);let a=0,l=o-11;for(let d=5;d>=0;d--)for(let h=o-9;h>=l;h--)a=this.copyBit(h,d,a);let u=le.decodeVersionInformation(a);if(u!==null&&u.getDimensionForVersion()===o)return this.parsedVersion=u,u;a=0;for(let d=5;d>=0;d--)for(let h=o-9;h>=l;h--)a=this.copyBit(d,h,a);if(u=le.decodeVersionInformation(a),u!==null&&u.getDimensionForVersion()===o)return this.parsedVersion=u,u;throw new j}copyBit(o,s,a){return(this.isMirror?this.bitMatrix.get(s,o):this.bitMatrix.get(o,s))?a<<1|1:a<<1}readCodewords(){let o=this.readFormatInformation(),s=this.readVersion(),a=Rn.values.get(o.getDataMask()),l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l);let u=s.buildFunctionPattern(),d=!0,h=new Uint8Array(s.getTotalCodewords()),g=0,y=0,w=0;for(let v=l-1;v>0;v-=2){v===6&&v--;for(let I=0;I<l;I++){let b=d?l-1-I:I;for(let S=0;S<2;S++)u.get(v-S,b)||(w++,y<<=1,this.bitMatrix.get(v-S,b)&&(y|=1),w===8&&(h[g++]=y,w=0,y=0))}d=!d}if(g!==s.getTotalCodewords())throw new j;return h}remask(){if(this.parsedFormatInfo===null)return;let o=Rn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,s)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){let o=this.bitMatrix;for(let s=0,a=o.getWidth();s<a;s++)for(let l=s+1,u=o.getHeight();l<u;l++)o.get(s,l)!==o.get(l,s)&&(o.flip(l,s),o.flip(s,l))}}class $u{constructor(o,s){this.numDataCodewords=o,this.codewords=s}static getDataBlocks(o,s,a){if(o.length!==s.getTotalCodewords())throw new m;let l=s.getECBlocksForLevel(a),u=0,d=l.getECBlocks();for(let S of d)u+=S.getCount();let h=new Array(u),g=0;for(let S of d)for(let _=0;_<S.getCount();_++){let M=S.getDataCodewords(),R=l.getECCodewordsPerBlock()+M;h[g++]=new $u(M,new Uint8Array(R))}let y=h[0].codewords.length,w=h.length-1;for(;w>=0&&h[w].codewords.length!==y;)w--;w++;let v=y-l.getECCodewordsPerBlock(),I=0;for(let S=0;S<v;S++)for(let _=0;_<g;_++)h[_].codewords[S]=o[I++];for(let S=w;S<g;S++)h[S].codewords[v]=o[I++];let b=h[0].codewords.length;for(let S=v;S<b;S++)for(let _=0;_<g;_++){let M=_<w?S:S+1;h[_].codewords[M]=o[I++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Zn=function(C){return C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI",C}(Zn||{});class he{constructor(o,s,a,l){this.value=o,this.stringValue=s,this.characterCountBitsForVersions=a,this.bits=l,he.FOR_BITS.set(l,this),he.FOR_VALUE.set(o,this)}static forBits(o){let s=he.FOR_BITS.get(o);if(s===void 0)throw new m;return s}getCharacterCountBits(o){let s=o.getVersionNumber(),a;return s<=9?a=0:s<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof he))return!1;let s=o;return this.value===s.value}toString(){return this.stringValue}}he.FOR_BITS=new Map,he.FOR_VALUE=new Map,he.TERMINATOR=new he(Zn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),he.NUMERIC=new he(Zn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),he.ALPHANUMERIC=new he(Zn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),he.STRUCTURED_APPEND=new he(Zn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),he.BYTE=new he(Zn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),he.ECI=new he(Zn.ECI,"ECI",Int32Array.from([0,0,0]),7),he.KANJI=new he(Zn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),he.FNC1_FIRST_POSITION=new he(Zn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),he.FNC1_SECOND_POSITION=new he(Zn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),he.HANZI=new he(Zn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let Lg=(()=>{class C{static decode(s,a,l,u){let d=new Wu(s),h=new Qe,g=new Array,y=-1,w=-1;try{let v=null,I=!1,b;do{if(d.available()<4)b=he.TERMINATOR;else{let S=d.readBits(4);b=he.forBits(S)}switch(b){case he.TERMINATOR:break;case he.FNC1_FIRST_POSITION:case he.FNC1_SECOND_POSITION:I=!0;break;case he.STRUCTURED_APPEND:if(d.available()<16)throw new j;y=d.readBits(8),w=d.readBits(8);break;case he.ECI:let S=C.parseECIValue(d);if(v=W.getCharacterSetECIByValue(S),v===null)throw new j;break;case he.HANZI:let _=d.readBits(4),M=d.readBits(b.getCharacterCountBits(a));_===C.GB2312_SUBSET&&C.decodeHanziSegment(d,h,M);break;default:let R=d.readBits(b.getCharacterCountBits(a));switch(b){case he.NUMERIC:C.decodeNumericSegment(d,h,R);break;case he.ALPHANUMERIC:C.decodeAlphanumericSegment(d,h,R,I);break;case he.BYTE:C.decodeByteSegment(d,h,R,v,g,u);break;case he.KANJI:C.decodeKanjiSegment(d,h,R);break;default:throw new j}break}}while(b!==he.TERMINATOR)}catch{throw new j}return new gs(s,h.toString(),g.length===0?null:g,l===null?null:l.toString(),y,w)}static decodeHanziSegment(s,a,l){if(l*13>s.available())throw new j;let u=new Uint8Array(2*l),d=0;for(;l>0;){let h=s.readBits(13),g=h/96<<8&4294967295|h%96;g<959?g+=41377:g+=42657,u[d]=g>>8&255,u[d+1]=g&255,d+=2,l--}try{a.append(Zt.decode(u,xe.GB2312))}catch(h){throw new j(h)}}static decodeKanjiSegment(s,a,l){if(l*13>s.available())throw new j;let u=new Uint8Array(2*l),d=0;for(;l>0;){let h=s.readBits(13),g=h/192<<8&4294967295|h%192;g<7936?g+=33088:g+=49472,u[d]=g>>8,u[d+1]=g,d+=2,l--}try{a.append(Zt.decode(u,xe.SHIFT_JIS))}catch(h){throw new j(h)}}static decodeByteSegment(s,a,l,u,d,h){if(8*l>s.available())throw new j;let g=new Uint8Array(l);for(let w=0;w<l;w++)g[w]=s.readBits(8);let y;u===null?y=xe.guessEncoding(g,h):y=u.getName();try{a.append(Zt.decode(g,y))}catch(w){throw new j(w)}d.push(g)}static toAlphaNumericChar(s){if(s>=C.ALPHANUMERIC_CHARS.length)throw new j;return C.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,a,l,u){let d=a.length();for(;l>1;){if(s.available()<11)throw new j;let h=s.readBits(11);a.append(C.toAlphaNumericChar(Math.floor(h/45))),a.append(C.toAlphaNumericChar(h%45)),l-=2}if(l===1){if(s.available()<6)throw new j;a.append(C.toAlphaNumericChar(s.readBits(6)))}if(u)for(let h=d;h<a.length();h++)a.charAt(h)==="%"&&(h<a.length()-1&&a.charAt(h+1)==="%"?a.deleteCharAt(h+1):a.setCharAt(h,String.fromCharCode(29)))}static decodeNumericSegment(s,a,l){for(;l>=3;){if(s.available()<10)throw new j;let u=s.readBits(10);if(u>=1e3)throw new j;a.append(C.toAlphaNumericChar(Math.floor(u/100))),a.append(C.toAlphaNumericChar(Math.floor(u/10)%10)),a.append(C.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(s.available()<7)throw new j;let u=s.readBits(7);if(u>=100)throw new j;a.append(C.toAlphaNumericChar(Math.floor(u/10))),a.append(C.toAlphaNumericChar(u%10))}else if(l===1){if(s.available()<4)throw new j;let u=s.readBits(4);if(u>=10)throw new j;a.append(C.toAlphaNumericChar(u))}}static parseECIValue(s){let a=s.readBits(8);if(!(a&128))return a&127;if((a&192)===128){let l=s.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){let l=s.readBits(16);return(a&31)<<16&4294967295|l}throw new j}}return C.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",C.GB2312_SUBSET=1,C})();class kg{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;let s=o[0];o[0]=o[2],o[2]=s}}class xv{constructor(){this.rsDecoder=new Cs(je.QR_CODE_FIELD_256)}decodeBooleanArray(o,s){return this.decodeBitMatrix(Mt.parseFromBooleanArray(o),s)}decodeBitMatrix(o,s){let a=new Cv(o),l=null;try{return this.decodeBitMatrixParser(a,s)}catch(u){l=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();let u=this.decodeBitMatrixParser(a,s);return u.setOther(new kg(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(o,s){let a=o.readVersion(),l=o.readFormatInformation().getErrorCorrectionLevel(),u=o.readCodewords(),d=$u.getDataBlocks(u,a,l),h=0;for(let w of d)h+=w.getNumDataCodewords();let g=new Uint8Array(h),y=0;for(let w of d){let v=w.getCodewords(),I=w.getNumDataCodewords();this.correctErrors(v,I);for(let b=0;b<I;b++)g[y++]=v[b]}return Lg.decode(g,a,l,s)}correctErrors(o,s){let a=new Int32Array(o);try{this.rsDecoder.decode(a,o.length-s)}catch{throw new D}for(let l=0;l<s;l++)o[l]=a[l]}}class Yu extends oe{constructor(o,s,a){super(o,s),this.estimatedModuleSize=a}aboutEquals(o,s,a){if(Math.abs(s-this.getY())<=o&&Math.abs(a-this.getX())<=o){let l=Math.abs(o-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(o,s,a){let l=(this.getX()+s)/2,u=(this.getY()+o)/2,d=(this.estimatedModuleSize+a)/2;return new Yu(l,u,d)}}class za{constructor(o,s,a,l,u,d,h){this.image=o,this.startX=s,this.startY=a,this.width=l,this.height=u,this.moduleSize=d,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){let o=this.startX,s=this.height,a=this.width,l=o+a,u=this.startY+s/2,d=new Int32Array(3),h=this.image;for(let g=0;g<s;g++){let y=u+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));d[0]=0,d[1]=0,d[2]=0;let w=o;for(;w<l&&!h.get(w,y);)w++;let v=0;for(;w<l;){if(h.get(w,y))if(v===1)d[1]++;else if(v===2){if(this.foundPatternCross(d)){let I=this.handlePossibleCenter(d,y,w);if(I!==null)return I}d[0]=d[2],d[1]=1,d[2]=0,v=1}else d[++v]++;else v===1&&v++,d[v]++;w++}if(this.foundPatternCross(d)){let I=this.handlePossibleCenter(d,y,l);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new B}static centerFromEnd(o,s){return s-o[2]-o[1]/2}foundPatternCross(o){let s=this.moduleSize,a=s/2;for(let l=0;l<3;l++)if(Math.abs(s-o[l])>=a)return!1;return!0}crossCheckVertical(o,s,a,l){let u=this.image,d=u.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let g=o;for(;g>=0&&u.get(s,g)&&h[1]<=a;)h[1]++,g--;if(g<0||h[1]>a)return NaN;for(;g>=0&&!u.get(s,g)&&h[0]<=a;)h[0]++,g--;if(h[0]>a)return NaN;for(g=o+1;g<d&&u.get(s,g)&&h[1]<=a;)h[1]++,g++;if(g===d||h[1]>a)return NaN;for(;g<d&&!u.get(s,g)&&h[2]<=a;)h[2]++,g++;if(h[2]>a)return NaN;let y=h[0]+h[1]+h[2];return 5*Math.abs(y-l)>=2*l?NaN:this.foundPatternCross(h)?za.centerFromEnd(h,g):NaN}handlePossibleCenter(o,s,a){let l=o[0]+o[1]+o[2],u=za.centerFromEnd(o,a),d=this.crossCheckVertical(s,u,2*o[1],l);if(!isNaN(d)){let h=(o[0]+o[1]+o[2])/3;for(let y of this.possibleCenters)if(y.aboutEquals(h,d,u))return y.combineEstimate(d,u,h);let g=new Yu(u,d,h);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class Zu extends oe{constructor(o,s,a,l){super(o,s),this.estimatedModuleSize=a,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,s,a){if(Math.abs(s-this.getY())<=o&&Math.abs(a-this.getX())<=o){let l=Math.abs(o-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(o,s,a){let l=this.count+1,u=(this.count*this.getX()+s)/l,d=(this.count*this.getY()+o)/l,h=(this.count*this.estimatedModuleSize+a)/l;return new Zu(u,d,h,l)}}class wv{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let vv=(()=>{class C{constructor(s,a){this.image=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){let a=s!=null&&s.get(re.TRY_HARDER)!==void 0,l=s!=null&&s.get(re.PURE_BARCODE)!==void 0,u=this.image,d=u.getHeight(),h=u.getWidth(),g=Math.floor(3*d/(4*C.MAX_MODULES));(g<C.MIN_SKIP||a)&&(g=C.MIN_SKIP);let y=!1,w=new Int32Array(5);for(let I=g-1;I<d&&!y;I+=g){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let b=0;for(let S=0;S<h;S++)if(u.get(S,I))(b&1)===1&&b++,w[b]++;else if(b&1)w[b]++;else if(b===4)if(C.foundPatternCross(w)){if(this.handlePossibleCenter(w,I,S,l)===!0)if(g=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{let M=this.findRowSkip();M>w[2]&&(I+=M-w[2]-g,S=h-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,b=3;continue}b=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,b=3;else w[++b]++;C.foundPatternCross(w)&&this.handlePossibleCenter(w,I,h,l)===!0&&(g=w[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}let v=this.selectBestPatterns();return oe.orderBestPatterns(v),new wv(v)}static centerFromEnd(s,a){return a-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let a=0;for(let d=0;d<5;d++){let h=s[d];if(h===0)return!1;a+=h}if(a<7)return!1;let l=a/7,u=l/2;return Math.abs(l-s[0])<u&&Math.abs(l-s[1])<u&&Math.abs(3*l-s[2])<3*u&&Math.abs(l-s[3])<u&&Math.abs(l-s[4])<u}getCrossCheckStateCount(){let s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,a,l,u){let d=this.getCrossCheckStateCount(),h=0,g=this.image;for(;s>=h&&a>=h&&g.get(a-h,s-h);)d[2]++,h++;if(s<h||a<h)return!1;for(;s>=h&&a>=h&&!g.get(a-h,s-h)&&d[1]<=l;)d[1]++,h++;if(s<h||a<h||d[1]>l)return!1;for(;s>=h&&a>=h&&g.get(a-h,s-h)&&d[0]<=l;)d[0]++,h++;if(d[0]>l)return!1;let y=g.getHeight(),w=g.getWidth();for(h=1;s+h<y&&a+h<w&&g.get(a+h,s+h);)d[2]++,h++;if(s+h>=y||a+h>=w)return!1;for(;s+h<y&&a+h<w&&!g.get(a+h,s+h)&&d[3]<l;)d[3]++,h++;if(s+h>=y||a+h>=w||d[3]>=l)return!1;for(;s+h<y&&a+h<w&&g.get(a+h,s+h)&&d[4]<l;)d[4]++,h++;if(d[4]>=l)return!1;let v=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(v-u)<2*u&&C.foundPatternCross(d)}crossCheckVertical(s,a,l,u){let d=this.image,h=d.getHeight(),g=this.getCrossCheckStateCount(),y=s;for(;y>=0&&d.get(a,y);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(a,y)&&g[1]<=l;)g[1]++,y--;if(y<0||g[1]>l)return NaN;for(;y>=0&&d.get(a,y)&&g[0]<=l;)g[0]++,y--;if(g[0]>l)return NaN;for(y=s+1;y<h&&d.get(a,y);)g[2]++,y++;if(y===h)return NaN;for(;y<h&&!d.get(a,y)&&g[3]<l;)g[3]++,y++;if(y===h||g[3]>=l)return NaN;for(;y<h&&d.get(a,y)&&g[4]<l;)g[4]++,y++;if(g[4]>=l)return NaN;let w=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(w-u)>=2*u?NaN:C.foundPatternCross(g)?C.centerFromEnd(g,y):NaN}crossCheckHorizontal(s,a,l,u){let d=this.image,h=d.getWidth(),g=this.getCrossCheckStateCount(),y=s;for(;y>=0&&d.get(y,a);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(y,a)&&g[1]<=l;)g[1]++,y--;if(y<0||g[1]>l)return NaN;for(;y>=0&&d.get(y,a)&&g[0]<=l;)g[0]++,y--;if(g[0]>l)return NaN;for(y=s+1;y<h&&d.get(y,a);)g[2]++,y++;if(y===h)return NaN;for(;y<h&&!d.get(y,a)&&g[3]<l;)g[3]++,y++;if(y===h||g[3]>=l)return NaN;for(;y<h&&d.get(y,a)&&g[4]<l;)g[4]++,y++;if(g[4]>=l)return NaN;let w=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(w-u)>=u?NaN:C.foundPatternCross(g)?C.centerFromEnd(g,y):NaN}handlePossibleCenter(s,a,l,u){let d=s[0]+s[1]+s[2]+s[3]+s[4],h=C.centerFromEnd(s,l),g=this.crossCheckVertical(a,Math.floor(h),s[2],d);if(!isNaN(g)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(g),s[2],d),!isNaN(h)&&(!u||this.crossCheckDiagonal(Math.floor(g),Math.floor(h),s[2],d)))){let y=d/7,w=!1,v=this.possibleCenters;for(let I=0,b=v.length;I<b;I++){let S=v[I];if(S.aboutEquals(y,g,h)){v[I]=S.combineEstimate(g,h,y),w=!0;break}}if(!w){let I=new Zu(h,g,y);v.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(let l of this.possibleCenters)if(l.getCount()>=C.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,a=0,l=this.possibleCenters.length;for(let h of this.possibleCenters)h.getCount()>=C.CENTER_QUORUM&&(s++,a+=h.getEstimatedModuleSize());if(s<3)return!1;let u=a/l,d=0;for(let h of this.possibleCenters)d+=Math.abs(h.getEstimatedModuleSize()-u);return d<=.05*a}selectBestPatterns(){let s=this.possibleCenters.length;if(s<3)throw new B;let a=this.possibleCenters,l;if(s>3){let u=0,d=0;for(let y of this.possibleCenters){let w=y.getEstimatedModuleSize();u+=w,d+=w*w}l=u/s;let h=Math.sqrt(d/s-l*l);a.sort((y,w)=>{let v=Math.abs(w.getEstimatedModuleSize()-l),I=Math.abs(y.getEstimatedModuleSize()-l);return v<I?-1:v>I?1:0});let g=Math.max(.2*l,h);for(let y=0;y<a.length&&a.length>3;y++){let w=a[y];Math.abs(w.getEstimatedModuleSize()-l)>g&&(a.splice(y,1),y--)}}if(a.length>3){let u=0;for(let d of a)u+=d.getEstimatedModuleSize();l=u/a.length,a.sort((d,h)=>{if(h.getCount()===d.getCount()){let g=Math.abs(h.getEstimatedModuleSize()-l),y=Math.abs(d.getEstimatedModuleSize()-l);return g<y?1:g>y?-1:0}else return h.getCount()-d.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}return C.CENTER_QUORUM=2,C.MIN_SKIP=3,C.MAX_MODULES=57,C})();class vs{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(re.NEED_RESULT_POINT_CALLBACK);let a=new vv(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(a)}processFinderPatternInfo(o){let s=o.getTopLeft(),a=o.getTopRight(),l=o.getBottomLeft(),u=this.calculateModuleSize(s,a,l);if(u<1)throw new B("No pattern found in proccess finder.");let d=vs.computeDimension(s,a,l,u),h=le.getProvisionalVersionForDimension(d),g=h.getDimensionForVersion()-7,y=null;if(h.getAlignmentPatternCenters().length>0){let b=a.getX()-s.getX()+l.getX(),S=a.getY()-s.getY()+l.getY(),_=1-3/g,M=Math.floor(s.getX()+_*(b-s.getX())),R=Math.floor(s.getY()+_*(S-s.getY()));for(let z=4;z<=16;z<<=1)try{y=this.findAlignmentInRegion(u,M,R,z);break}catch(q){if(!(q instanceof B))throw q}}let w=vs.createTransform(s,a,l,y,d),v=vs.sampleGrid(this.image,w,d),I;return y===null?I=[l,s,a]:I=[l,s,a,y],new La(v,I)}static createTransform(o,s,a,l,u){let d=u-3.5,h,g,y,w;return l!==null?(h=l.getX(),g=l.getY(),y=d-3,w=y):(h=s.getX()-o.getX()+a.getX(),g=s.getY()-o.getY()+a.getY(),y=d,w=d),Gn.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,y,w,3.5,d,o.getX(),o.getY(),s.getX(),s.getY(),h,g,a.getX(),a.getY())}static sampleGrid(o,s,a){return qr.getInstance().sampleGridWithTransform(o,a,a,s)}static computeDimension(o,s,a,l){let u=Be.round(oe.distance(o,s)/l),d=Be.round(oe.distance(o,a)/l),h=Math.floor((u+d)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new B("Dimensions could be not found.")}return h}calculateModuleSize(o,s,a){return(this.calculateModuleSizeOneWay(o,s)+this.calculateModuleSizeOneWay(o,a))/2}calculateModuleSizeOneWay(o,s){let a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(a)?l/7:isNaN(l)?a/7:(a+l)/14}sizeOfBlackWhiteBlackRunBothWays(o,s,a,l){let u=this.sizeOfBlackWhiteBlackRun(o,s,a,l),d=1,h=o-(a-o);h<0?(d=o/(o-h),h=0):h>=this.image.getWidth()&&(d=(this.image.getWidth()-1-o)/(h-o),h=this.image.getWidth()-1);let g=Math.floor(s-(l-s)*d);return d=1,g<0?(d=s/(s-g),g=0):g>=this.image.getHeight()&&(d=(this.image.getHeight()-1-s)/(g-s),g=this.image.getHeight()-1),h=Math.floor(o+(h-o)*d),u+=this.sizeOfBlackWhiteBlackRun(o,s,h,g),u-1}sizeOfBlackWhiteBlackRun(o,s,a,l){let u=Math.abs(l-s)>Math.abs(a-o);if(u){let b=o;o=s,s=b,b=a,a=l,l=b}let d=Math.abs(a-o),h=Math.abs(l-s),g=-d/2,y=o<a?1:-1,w=s<l?1:-1,v=0,I=a+y;for(let b=o,S=s;b!==I;b+=y){let _=u?S:b,M=u?b:S;if(v===1===this.image.get(_,M)){if(v===2)return Be.distance(b,S,o,s);v++}if(g+=h,g>0){if(S===l)break;S+=w,g-=d}}return v===2?Be.distance(a+y,l,o,s):NaN}findAlignmentInRegion(o,s,a,l){let u=Math.floor(l*o),d=Math.max(0,s-u),h=Math.min(this.image.getWidth()-1,s+u);if(h-d<o*3)throw new B("Alignment top exceeds estimated module size.");let g=Math.max(0,a-u),y=Math.min(this.image.getHeight()-1,a+u);if(y-g<o*3)throw new B("Alignment bottom exceeds estimated module size.");return new za(this.image,d,g,h-d,y-g,o,this.resultPointCallback).find()}}class ei{constructor(){this.decoder=new xv}getDecoder(){return this.decoder}decode(o,s){let a,l;if(s!=null&&s.get(re.PURE_BARCODE)!==void 0){let g=ei.extractPureBits(o.getBlackMatrix());a=this.decoder.decodeBitMatrix(g,s),l=ei.NO_POINTS}else{let g=new vs(o.getBlackMatrix()).detect(s);a=this.decoder.decodeBitMatrix(g.getBits(),s),l=g.getPoints()}a.getOther()instanceof kg&&a.getOther().applyMirroredCorrection(l);let u=new en(a.getText(),a.getRawBytes(),void 0,l,pe.QR_CODE,void 0),d=a.getByteSegments();d!==null&&u.putMetadata(Ot.BYTE_SEGMENTS,d);let h=a.getECLevel();return h!==null&&u.putMetadata(Ot.ERROR_CORRECTION_LEVEL,h),a.hasStructuredAppend()&&(u.putMetadata(Ot.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(Ot.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(o){let s=o.getTopLeftOnBit(),a=o.getBottomRightOnBit();if(s===null||a===null)throw new B;let l=this.moduleSize(s,o),u=s[1],d=a[1],h=s[0],g=a[0];if(h>=g||u>=d)throw new B;if(d-u!==g-h&&(g=h+(d-u),g>=o.getWidth()))throw new B;let y=Math.round((g-h+1)/l),w=Math.round((d-u+1)/l);if(y<=0||w<=0)throw new B;if(w!==y)throw new B;let v=Math.floor(l/2);u+=v,h+=v;let I=h+Math.floor((y-1)*l)-g;if(I>0){if(I>v)throw new B;h-=I}let b=u+Math.floor((w-1)*l)-d;if(b>0){if(b>v)throw new B;u-=b}let S=new Mt(y,w);for(let _=0;_<w;_++){let M=u+Math.floor(_*l);for(let R=0;R<y;R++)o.get(h+Math.floor(R*l),M)&&S.set(R,_)}return S}static moduleSize(o,s){let a=s.getHeight(),l=s.getWidth(),u=o[0],d=o[1],h=!0,g=0;for(;u<l&&d<a;){if(h!==s.get(u,d)){if(++g===5)break;h=!h}u++,d++}if(u===l||d===a)throw new B;return(u-o[0])/7}}ei.NO_POINTS=new Array;class Ce{PDF417Common(){}static getBitCountSum(o){return Be.sum(o)}static toIntArray(o){if(o==null||!o.length)return Ce.EMPTY_INT_ARRAY;let s=new Int32Array(o.length),a=0;for(let l of o)s[a++]=l;return s}static getCodeword(o){let s=Y.binarySearch(Ce.SYMBOL_TABLE,o&262143);return s<0?-1:(Ce.CODEWORD_TABLE[s]-1)%Ce.NUMBER_OF_CODEWORDS}}Ce.NUMBER_OF_CODEWORDS=929,Ce.MAX_CODEWORDS_IN_BARCODE=Ce.NUMBER_OF_CODEWORDS-1,Ce.MIN_ROWS_IN_BARCODE=3,Ce.MAX_ROWS_IN_BARCODE=90,Ce.MODULES_IN_CODEWORD=17,Ce.MODULES_IN_STOP_PATTERN=18,Ce.BARS_IN_MODULE=8,Ce.EMPTY_INT_ARRAY=new Int32Array([]),Ce.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ce.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ev{constructor(o,s){this.bits=o,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class _e{static detectMultiple(o,s,a){let l=o.getBlackMatrix(),u=_e.detect(a,l);return u.length||(l=l.clone(),l.rotate180(),u=_e.detect(a,l)),new Ev(l,u)}static detect(o,s){let a=new Array,l=0,u=0,d=!1;for(;l<s.getHeight();){let h=_e.findVertices(s,l,u);if(h[0]==null&&h[3]==null){if(!d)break;d=!1,u=0;for(let g of a)g[1]!=null&&(l=Math.trunc(Math.max(l,g[1].getY()))),g[3]!=null&&(l=Math.max(l,Math.trunc(g[3].getY())));l+=_e.ROW_STEP;continue}if(d=!0,a.push(h),!o)break;h[2]!=null?(u=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return a}static findVertices(o,s,a){let l=o.getHeight(),u=o.getWidth(),d=new Array(8);return _e.copyToResult(d,_e.findRowsWithPattern(o,l,u,s,a,_e.START_PATTERN),_e.INDEXES_START_PATTERN),d[4]!=null&&(a=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY())),_e.copyToResult(d,_e.findRowsWithPattern(o,l,u,s,a,_e.STOP_PATTERN),_e.INDEXES_STOP_PATTERN),d}static copyToResult(o,s,a){for(let l=0;l<a.length;l++)o[a[l]]=s[l]}static findRowsWithPattern(o,s,a,l,u,d){let h=new Array(4),g=!1,y=new Int32Array(d.length);for(;l<s;l+=_e.ROW_STEP){let v=_e.findGuardPattern(o,u,l,a,!1,d,y);if(v!=null){for(;l>0;){let I=_e.findGuardPattern(o,u,--l,a,!1,d,y);if(I!=null)v=I;else{l++;break}}h[0]=new oe(v[0],l),h[1]=new oe(v[1],l),g=!0;break}}let w=l+1;if(g){let v=0,I=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;w<s;w++){let b=_e.findGuardPattern(o,I[0],w,a,!1,d,y);if(b!=null&&Math.abs(I[0]-b[0])<_e.MAX_PATTERN_DRIFT&&Math.abs(I[1]-b[1])<_e.MAX_PATTERN_DRIFT)I=b,v=0;else{if(v>_e.SKIPPED_ROW_COUNT_MAX)break;v++}}w-=v+1,h[2]=new oe(I[0],w),h[3]=new oe(I[1],w)}return w-l<_e.BARCODE_MIN_HEIGHT&&Y.fill(h,null),h}static findGuardPattern(o,s,a,l,u,d,h){Y.fillWithin(h,0,h.length,0);let g=s,y=0;for(;o.get(g,a)&&g>0&&y++<_e.MAX_PIXEL_DRIFT;)g--;let w=g,v=0,I=d.length;for(let b=u;w<l;w++)if(o.get(w,a)!==b)h[v]++;else{if(v===I-1){if(_e.patternMatchVariance(h,d,_e.MAX_INDIVIDUAL_VARIANCE)<_e.MAX_AVG_VARIANCE)return new Int32Array([g,w]);g+=h[0]+h[1],N.arraycopy(h,2,h,0,v-1),h[v-1]=0,h[v]=0,v--}else v++;h[v]=1,b=!b}return v===I-1&&_e.patternMatchVariance(h,d,_e.MAX_INDIVIDUAL_VARIANCE)<_e.MAX_AVG_VARIANCE?new Int32Array([g,w-1]):null}static patternMatchVariance(o,s,a){let l=o.length,u=0,d=0;for(let y=0;y<l;y++)u+=o[y],d+=s[y];if(u<d)return 1/0;let h=u/d;a*=h;let g=0;for(let y=0;y<l;y++){let w=o[y],v=s[y]*h,I=w>v?w-v:v-w;if(I>a)return 1/0;g+=I}return g/u}}_e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),_e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),_e.MAX_AVG_VARIANCE=.42,_e.MAX_INDIVIDUAL_VARIANCE=.8,_e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),_e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),_e.MAX_PIXEL_DRIFT=3,_e.MAX_PATTERN_DRIFT=5,_e.SKIPPED_ROW_COUNT_MAX=25,_e.ROW_STEP=5,_e.BARCODE_MIN_HEIGHT=10;class jt{constructor(o,s){if(s.length===0)throw new m;this.field=o;let a=s.length;if(a>1&&s[0]===0){let l=1;for(;l<a&&s[l]===0;)l++;l===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-l),N.arraycopy(s,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let s=this.coefficients[0],a=this.coefficients.length;for(let l=1;l<a;l++)s=this.field.add(this.field.multiply(o,s),this.coefficients[l]);return s}add(o){if(!this.field.equals(o.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let s=this.coefficients,a=o.coefficients;if(s.length>a.length){let d=s;s=a,a=d}let l=new Int32Array(a.length),u=a.length-s.length;N.arraycopy(a,0,l,0,u);for(let d=u;d<a.length;d++)l[d]=this.field.add(s[d-u],a[d]);return new jt(this.field,l)}subtract(o){if(!this.field.equals(o.field))throw new m("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof jt?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new jt(this.field,new Int32Array([0]));let s=this.coefficients,a=s.length,l=o.coefficients,u=l.length,d=new Int32Array(a+u-1);for(let h=0;h<a;h++){let g=s[h];for(let y=0;y<u;y++)d[h+y]=this.field.add(d[h+y],this.field.multiply(g,l[y]))}return new jt(this.field,d)}negative(){let o=this.coefficients.length,s=new Int32Array(o);for(let a=0;a<o;a++)s[a]=this.field.subtract(0,this.coefficients[a]);return new jt(this.field,s)}multiplyScalar(o){if(o===0)return new jt(this.field,new Int32Array([0]));if(o===1)return this;let s=this.coefficients.length,a=new Int32Array(s);for(let l=0;l<s;l++)a[l]=this.field.multiply(this.coefficients[l],o);return new jt(this.field,a)}multiplyByMonomial(o,s){if(o<0)throw new m;if(s===0)return new jt(this.field,new Int32Array([0]));let a=this.coefficients.length,l=new Int32Array(a+o);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],s);return new jt(this.field,l)}toString(){let o=new Qe;for(let s=this.getDegree();s>=0;s--){let a=this.getCoefficient(s);a!==0&&(a<0?(o.append(" - "),a=-a):o.length()>0&&o.append(" + "),(s===0||a!==1)&&o.append(a),s!==0&&(s===1?o.append("x"):(o.append("x^"),o.append(s))))}return o.toString()}}class Iv{add(o,s){return(o+s)%this.modulus}subtract(o,s){return(this.modulus+o-s)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new m;return this.logTable[o]}inverse(o){if(o===0)throw new Fu;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,s){return o===0||s===0?0:this.expTable[(this.logTable[o]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Xu extends Iv{constructor(o,s){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let a=1;for(let l=0;l<o;l++)this.expTable[l]=a,a=a*s%o;for(let l=0;l<o-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new jt(this,new Int32Array([0])),this.one=new jt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,s){if(o<0)throw new m;if(s===0)return this.zero;let a=new Int32Array(o+1);return a[0]=s,new jt(this,a)}}Xu.PDF417_GF=new Xu(Ce.NUMBER_OF_CODEWORDS,3);class Bg{constructor(){this.field=Xu.PDF417_GF}decode(o,s,a){let l=new jt(this.field,o),u=new Int32Array(s),d=!1;for(let S=s;S>0;S--){let _=l.evaluateAt(this.field.exp(S));u[s-S]=_,_!==0&&(d=!0)}if(!d)return 0;let h=this.field.getOne();if(a!=null)for(let S of a){let _=this.field.exp(o.length-1-S),M=new jt(this.field,new Int32Array([this.field.subtract(0,_),1]));h=h.multiply(M)}let g=new jt(this.field,u),y=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),g,s),w=y[0],v=y[1],I=this.findErrorLocations(w),b=this.findErrorMagnitudes(v,w,I);for(let S=0;S<I.length;S++){let _=o.length-1-this.field.log(I[S]);if(_<0)throw D.getChecksumInstance();o[_]=this.field.subtract(o[_],b[S])}return I.length}runEuclideanAlgorithm(o,s,a){if(o.getDegree()<s.getDegree()){let I=o;o=s,s=I}let l=o,u=s,d=this.field.getZero(),h=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let I=l,b=d;if(l=u,d=h,l.isZero())throw D.getChecksumInstance();u=I;let S=this.field.getZero(),_=l.getCoefficient(l.getDegree()),M=this.field.inverse(_);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let R=u.getDegree()-l.getDegree(),z=this.field.multiply(u.getCoefficient(u.getDegree()),M);S=S.add(this.field.buildMonomial(R,z)),u=u.subtract(l.multiplyByMonomial(R,z))}h=S.multiply(d).subtract(b).negative()}let g=h.getCoefficient(0);if(g===0)throw D.getChecksumInstance();let y=this.field.inverse(g),w=h.multiply(y),v=u.multiply(y);return[w,v]}findErrorLocations(o){let s=o.getDegree(),a=new Int32Array(s),l=0;for(let u=1;u<this.field.getSize()&&l<s;u++)o.evaluateAt(u)===0&&(a[l]=this.field.inverse(u),l++);if(l!==s)throw D.getChecksumInstance();return a}findErrorMagnitudes(o,s,a){let l=s.getDegree(),u=new Int32Array(l);for(let y=1;y<=l;y++)u[l-y]=this.field.multiply(y,s.getCoefficient(y));let d=new jt(this.field,u),h=a.length,g=new Int32Array(h);for(let y=0;y<h;y++){let w=this.field.inverse(a[y]),v=this.field.subtract(0,o.evaluateAt(w)),I=this.field.inverse(d.evaluateAt(w));g[y]=this.field.multiply(v,I)}return g}}class Vi{constructor(o,s,a,l,u){o instanceof Vi?this.constructor_2(o):this.constructor_1(o,s,a,l,u)}constructor_1(o,s,a,l,u){let d=s==null||a==null,h=l==null||u==null;if(d&&h)throw new B;d?(s=new oe(0,l.getY()),a=new oe(0,u.getY())):h&&(l=new oe(o.getWidth()-1,s.getY()),u=new oe(o.getWidth()-1,a.getY())),this.image=o,this.topLeft=s,this.bottomLeft=a,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(s.getX(),a.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(s.getY(),l.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,s){return o==null?s:s==null?o:new Vi(o.image,o.topLeft,o.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(o,s,a){let l=this.topLeft,u=this.bottomLeft,d=this.topRight,h=this.bottomRight;if(o>0){let g=a?this.topLeft:this.topRight,y=Math.trunc(g.getY()-o);y<0&&(y=0);let w=new oe(g.getX(),y);a?l=w:d=w}if(s>0){let g=a?this.bottomLeft:this.bottomRight,y=Math.trunc(g.getY()+s);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let w=new oe(g.getX(),y);a?u=w:h=w}return new Vi(this.image,l,u,d,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Dv{constructor(o,s,a,l){this.columnCount=o,this.errorCorrectionLevel=l,this.rowCountUpperPart=s,this.rowCountLowerPart=a,this.rowCount=s+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Es{constructor(){this.buffer=""}static form(o,s){let a=-1;function l(d,h,g,y,w,v){if(d==="%%")return"%";if(s[++a]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let I=w?parseInt(w.substr(1)):void 0,b;switch(v){case"s":b=s[a];break;case"c":b=s[a][0];break;case"f":b=parseFloat(s[a]).toFixed(d);break;case"p":b=parseFloat(s[a]).toPrecision(d);break;case"e":b=parseFloat(s[a]).toExponential(d);break;case"x":b=parseInt(s[a]).toString(I||16);break;case"d":b=parseFloat(parseInt(s[a],I||10).toPrecision(d)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(I);let S=parseInt(g),_=g&&g[0]+""=="0"?"0":" ";for(;b.length<S;)b=h!==void 0?b+_:_+b;return b}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(u,l)}format(o,...s){this.buffer+=Es.form(o,s)}toString(){return this.buffer}}let Vg=(()=>{class C{constructor(s){this.boundingBox=new Vi(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let a=this.getCodeword(s);if(a!=null)return a;for(let l=1;l<C.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(s)-l;if(u>=0&&(a=this.codewords[u],a!=null)||(u=this.imageRowToCodewordIndex(s)+l,u<this.codewords.length&&(a=this.codewords[u],a!=null)))return a}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,a){this.codewords[this.imageRowToCodewordIndex(s)]=a}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){let s=new Es,a=0;for(let l of this.codewords){if(l==null){s.format("%3d:    |   %n",a++);continue}s.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return s.toString()}}return C.MAX_NEARBY_DISTANCE=5,C})();class Is{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let s=this.values.get(o);s==null&&(s=0),s++,this.values.set(o,s)}getValue(){let o=-1,s=new Array;for(let[a,l]of this.values.entries()){let u={getKey:()=>a,getValue:()=>l};u.getValue()>o?(o=u.getValue(),s=[],s.push(u.getKey())):u.getValue()===o&&s.push(u.getKey())}return Ce.toIntArray(s)}getConfidence(o){return this.values.get(o)}}class Ug extends Vg{constructor(o,s){super(o),this._isLeft=s}setRowNumbers(){for(let o of this.getCodewords())o?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,o);let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=-1,y=1,w=0;for(let v=d;v<h;v++){if(s[v]==null)continue;let I=s[v],b=I.getRowNumber()-g;if(b===0)w++;else if(b===1)y=Math.max(y,w),w=1,g=I.getRowNumber();else if(b<0||I.getRowNumber()>=o.getRowCount()||b>v)s[v]=null;else{let S;y>2?S=(y-2)*b:S=b;let _=S>=v;for(let M=1;M<=S&&!_;M++)_=s[v-M]!=null;_?s[v]=null:(g=I.getRowNumber(),w=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let s=new Int32Array(o.getRowCount());for(let a of this.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=s.length)continue;s[l]++}return s}adjustIncompleteIndicatorColumnRowNumbers(o){let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),g=-1;for(let y=u;y<d;y++){if(h[y]==null)continue;let w=h[y];w.setRowNumberAsRowIndicatorColumn();let v=w.getRowNumber()-g;v===0||(v===1?g=w.getRowNumber():w.getRowNumber()>=o.getRowCount()?h[y]=null:g=w.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),s=new Is,a=new Is,l=new Is,u=new Is;for(let h of o){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let g=h.getValue()%30,y=h.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:a.setValue(g*3+1);break;case 1:u.setValue(g/3),l.setValue(g%3);break;case 2:s.setValue(g+1);break}}if(s.getValue().length===0||a.getValue().length===0||l.getValue().length===0||u.getValue().length===0||s.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<Ce.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>Ce.MAX_ROWS_IN_BARCODE)return null;let d=new Dv(s.getValue()[0],a.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(o,d),d}removeIncorrectCodewords(o,s){for(let a=0;a<o.length;a++){let l=o[a];if(o[a]==null)continue;let u=l.getValue()%30,d=l.getRowNumber();if(d>s.getRowCount()){o[a]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:u*3+1!==s.getRowCountUpperPart()&&(o[a]=null);break;case 1:(Math.trunc(u/3)!==s.getErrorCorrectionLevel()||u%3!==s.getRowCountLowerPart())&&(o[a]=null);break;case 2:u+1!==s.getColumnCount()&&(o[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ds{constructor(o,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=Ce.MAX_CODEWORDS_IN_BARCODE,s;do s=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let a=this.detectionResultColumns[s].getCodewords();for(let l=0;l<a.length;l++)a[l]!=null&&(a[l].hasValidRowNumber()||this.adjustRowNumbers(s,l,a))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<o.length;a++)if(o[a]!=null&&s[a]!=null&&o[a].getRowNumber()===s[a].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[a];u!=null&&(u.setRowNumber(o[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<s.length;a++){if(s[a]==null)continue;let l=s[a].getRowNumber(),u=0;for(let d=this.barcodeColumnCount+1;d>0&&u<this.ADJUST_ROW_NUMBER_SKIP;d--){let h=this.detectionResultColumns[d].getCodewords()[a];h!=null&&(u=Ds.adjustRowNumberIfValid(l,u,h),h.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,s=this.detectionResultColumns[0].getCodewords();for(let a=0;a<s.length;a++){if(s[a]==null)continue;let l=s[a].getRowNumber(),u=0;for(let d=1;d<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;d++){let h=this.detectionResultColumns[d].getCodewords()[a];h!=null&&(u=Ds.adjustRowNumberIfValid(l,u,h),h.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,s,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(o)?(a.setRowNumber(o),s=0):++s),s}adjustRowNumbers(o,s,a){if(!this.detectionResultColumns[o-1])return;let l=a[s],u=this.detectionResultColumns[o-1].getCodewords(),d=u;this.detectionResultColumns[o+1]!=null&&(d=this.detectionResultColumns[o+1].getCodewords());let h=new Array(14);h[2]=u[s],h[3]=d[s],s>0&&(h[0]=a[s-1],h[4]=u[s-1],h[5]=d[s-1]),s>1&&(h[8]=a[s-2],h[10]=u[s-2],h[11]=d[s-2]),s<a.length-1&&(h[1]=a[s+1],h[6]=u[s+1],h[7]=d[s+1]),s<a.length-2&&(h[9]=a[s+2],h[12]=u[s+2],h[13]=d[s+2]);for(let g of h)if(Ds.adjustRowNumber(l,g))return}static adjustRowNumber(o,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===o.getBucket()?(o.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,s){this.detectionResultColumns[o]=s}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new Es;for(let a=0;a<o.getCodewords().length;a++){s.format("CW %3d:",a);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){s.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[a];if(u==null){s.format("    |   ");continue}s.format(" %3d|%3d",u.getRowNumber(),u.getValue())}s.format("%n")}return s.toString()}}let Av=(()=>{class C{constructor(s,a,l,u){this.rowNumber=C.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==C.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}return C.BARCODE_ROW_UNKNOWN=-1,C})();class fn{static initialize(){for(let o=0;o<Ce.SYMBOL_TABLE.length;o++){let s=Ce.SYMBOL_TABLE[o],a=s&1;for(let l=0;l<Ce.BARS_IN_MODULE;l++){let u=0;for(;(s&1)===a;)u+=1,s>>=1;a=s&1,fn.RATIOS_TABLE[o]||(fn.RATIOS_TABLE[o]=new Array(Ce.BARS_IN_MODULE)),fn.RATIOS_TABLE[o][Ce.BARS_IN_MODULE-l-1]=Math.fround(u/Ce.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let s=fn.getDecodedCodewordValue(fn.sampleBitCounts(o));return s!==-1?s:fn.getClosestDecodedValue(o)}static sampleBitCounts(o){let s=Be.sum(o),a=new Int32Array(Ce.BARS_IN_MODULE),l=0,u=0;for(let d=0;d<Ce.MODULES_IN_CODEWORD;d++){let h=s/(2*Ce.MODULES_IN_CODEWORD)+d*s/Ce.MODULES_IN_CODEWORD;u+o[l]<=h&&(u+=o[l],l++),a[l]++}return a}static getDecodedCodewordValue(o){let s=fn.getBitValue(o);return Ce.getCodeword(s)===-1?-1:s}static getBitValue(o){let s=0;for(let a=0;a<o.length;a++)for(let l=0;l<o[a];l++)s=s<<1|(a%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(o){let s=Be.sum(o),a=new Array(Ce.BARS_IN_MODULE);if(s>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(o[d]/s);let l=Pa.MAX_VALUE,u=-1;this.bSymbolTableReady||fn.initialize();for(let d=0;d<fn.RATIOS_TABLE.length;d++){let h=0,g=fn.RATIOS_TABLE[d];for(let y=0;y<Ce.BARS_IN_MODULE;y++){let w=Math.fround(g[y]-a[y]);if(h+=Math.fround(w*w),h>=l)break}h<l&&(l=h,u=Ce.SYMBOL_TABLE[d])}return u}}fn.bSymbolTableReady=!1,fn.RATIOS_TABLE=new Array(Ce.SYMBOL_TABLE.length).map(C=>C=new Array(Ce.BARS_IN_MODULE));class jg{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Hg{static parseLong(o,s=void 0){return parseInt(o,s)}}let bv=(()=>{class C extends p{}return C.kind="NullPointerException",C})();class Sv{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,s,a){if(o==null)throw new bv;if(s<0||s>o.length||a<0||s+a>o.length||s+a<0)throw new H;if(a===0)return;for(let l=0;l<a;l++)this.write(o[s+l])}flush(){}close(){}}class _v extends p{}class Tv extends Sv{constructor(o=32){if(super(),this.count=0,o<0)throw new m("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let a=this.buf.length<<1;if(a-o<0&&(a=o),a<0){if(o<0)throw new _v;a=V.MAX_VALUE}this.buf=Y.copyOfUint8Array(this.buf,a)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,s,a){if(s<0||s>o.length||a<0||s+a-o.length>0)throw new H;this.ensureCapacity(this.count+a),N.arraycopy(o,s,this.buf,this.count,a),this.count+=a}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Y.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var et=function(C){return C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT",C}(et||{});function zg(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ga;function ti(C){if(typeof Ga>"u"&&(Ga=zg()),Ga===null)throw new Error("BigInt is not supported!");return Ga(C)}function Mv(){let C=[];C[0]=ti(1);let o=ti(900);C[1]=o;for(let s=2;s<16;s++)C[s]=C[s-1]*o;return C}class F{static decode(o,s){let a=new Qe(""),l=W.ISO8859_1;a.enableDecoding(l);let u=1,d=o[u++],h=new jg;for(;u<o[0];){switch(d){case F.TEXT_COMPACTION_MODE_LATCH:u=F.textCompaction(o,u,a);break;case F.BYTE_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:u=F.byteCompaction(d,o,l,u,a);break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(o[u++]);break;case F.NUMERIC_COMPACTION_MODE_LATCH:u=F.numericCompaction(o,u,a);break;case F.ECI_CHARSET:let y=W.getCharacterSetECIByValue(o[u++]);break;case F.ECI_GENERAL_PURPOSE:u+=2;break;case F.ECI_USER_DEFINED:u++;break;case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=F.decodeMacroBlock(o,u,h);break;case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:throw new j;default:u--,u=F.textCompaction(o,u,a);break}if(u<o.length)d=o[u++];else throw j.getFormatInstance()}if(a.length()===0)throw j.getFormatInstance();let g=new gs(null,a.toString(),null,s);return g.setOther(h),g}static decodeMacroBlock(o,s,a){if(s+F.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw j.getFormatInstance();let l=new Int32Array(F.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<F.NUMBER_OF_SEQUENCE_CODEWORDS;h++,s++)l[h]=o[s];a.setSegmentIndex(V.parseInt(F.decodeBase900toBase10(l,F.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Qe;s=F.textCompaction(o,s,u),a.setFileId(u.toString());let d=-1;for(o[s]===F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=s+1);s<o[0];)switch(o[s]){case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,o[s]){case F.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new Qe;s=F.textCompaction(o,s+1,h),a.setFileName(h.toString());break;case F.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new Qe;s=F.textCompaction(o,s+1,g),a.setSender(g.toString());break;case F.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new Qe;s=F.textCompaction(o,s+1,y),a.setAddressee(y.toString());break;case F.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new Qe;s=F.numericCompaction(o,s+1,w),a.setSegmentCount(V.parseInt(w.toString()));break;case F.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let v=new Qe;s=F.numericCompaction(o,s+1,v),a.setTimestamp(Hg.parseLong(v.toString()));break;case F.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Qe;s=F.numericCompaction(o,s+1,I),a.setChecksum(V.parseInt(I.toString()));break;case F.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let b=new Qe;s=F.numericCompaction(o,s+1,b),a.setFileSize(Hg.parseLong(b.toString()));break;default:throw j.getFormatInstance()}break;case F.MACRO_PDF417_TERMINATOR:s++,a.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(d!==-1){let h=s-d;a.isLastSegment()&&h--,a.setOptionalData(Y.copyOfRange(o,d,d+h))}return s}static textCompaction(o,s,a){let l=new Int32Array((o[0]-s)*2),u=new Int32Array((o[0]-s)*2),d=0,h=!1;for(;s<o[0]&&!h;){let g=o[s++];if(g<F.TEXT_COMPACTION_MODE_LATCH)l[d]=g/30,l[d+1]=g%30,d+=2;else switch(g){case F.TEXT_COMPACTION_MODE_LATCH:l[d++]=F.TEXT_COMPACTION_MODE_LATCH;break;case F.BYTE_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.NUMERIC_COMPACTION_MODE_LATCH:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:s--,h=!0;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[d]=F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=o[s++],u[d]=g,d++;break}}return F.decodeTextCompaction(l,u,d,a),s}static decodeTextCompaction(o,s,a,l){let u=et.ALPHA,d=et.ALPHA,h=0;for(;h<a;){let g=o[h],y="";switch(u){case et.ALPHA:if(g<26)y=String.fromCharCode(65+g);else switch(g){case 26:y=" ";break;case F.LL:u=et.LOWER;break;case F.ML:u=et.MIXED;break;case F.PS:d=u,u=et.PUNCT_SHIFT;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[h]);break;case F.TEXT_COMPACTION_MODE_LATCH:u=et.ALPHA;break}break;case et.LOWER:if(g<26)y=String.fromCharCode(97+g);else switch(g){case 26:y=" ";break;case F.AS:d=u,u=et.ALPHA_SHIFT;break;case F.ML:u=et.MIXED;break;case F.PS:d=u,u=et.PUNCT_SHIFT;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[h]);break;case F.TEXT_COMPACTION_MODE_LATCH:u=et.ALPHA;break}break;case et.MIXED:if(g<F.PL)y=F.MIXED_CHARS[g];else switch(g){case F.PL:u=et.PUNCT;break;case 26:y=" ";break;case F.LL:u=et.LOWER;break;case F.AL:u=et.ALPHA;break;case F.PS:d=u,u=et.PUNCT_SHIFT;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[h]);break;case F.TEXT_COMPACTION_MODE_LATCH:u=et.ALPHA;break}break;case et.PUNCT:if(g<F.PAL)y=F.PUNCT_CHARS[g];else switch(g){case F.PAL:u=et.ALPHA;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[h]);break;case F.TEXT_COMPACTION_MODE_LATCH:u=et.ALPHA;break}break;case et.ALPHA_SHIFT:if(u=d,g<26)y=String.fromCharCode(65+g);else switch(g){case 26:y=" ";break;case F.TEXT_COMPACTION_MODE_LATCH:u=et.ALPHA;break}break;case et.PUNCT_SHIFT:if(u=d,g<F.PAL)y=F.PUNCT_CHARS[g];else switch(g){case F.PAL:u=et.ALPHA;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[h]);break;case F.TEXT_COMPACTION_MODE_LATCH:u=et.ALPHA;break}break}y!==""&&l.append(y),h++}}static byteCompaction(o,s,a,l,u){let d=new Tv,h=0,g=0,y=!1;switch(o){case F.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),v=s[l++];for(;l<s[0]&&!y;)switch(w[h++]=v,g=900*g+v,v=s[l++],v){case F.TEXT_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH:case F.NUMERIC_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:l--,y=!0;break;default:if(h%5===0&&h>0){for(let I=0;I<6;++I)d.write(Number(ti(g)>>ti(8*(5-I))));g=0,h=0}break}l===s[0]&&v<F.TEXT_COMPACTION_MODE_LATCH&&(w[h++]=v);for(let I=0;I<h;I++)d.write(w[I]);break;case F.BYTE_COMPACTION_MODE_LATCH_6:for(;l<s[0]&&!y;){let I=s[l++];if(I<F.TEXT_COMPACTION_MODE_LATCH)h++,g=900*g+I;else switch(I){case F.TEXT_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH:case F.NUMERIC_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:l--,y=!0;break}if(h%5===0&&h>0){for(let b=0;b<6;++b)d.write(Number(ti(g)>>ti(8*(5-b))));g=0,h=0}}break}return u.append(Zt.decode(d.toByteArray(),a)),l}static numericCompaction(o,s,a){let l=0,u=!1,d=new Int32Array(F.MAX_NUMERIC_CODEWORDS);for(;s<o[0]&&!u;){let h=o[s++];if(s===o[0]&&(u=!0),h<F.TEXT_COMPACTION_MODE_LATCH)d[l]=h,l++;else switch(h){case F.TEXT_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:s--,u=!0;break}(l%F.MAX_NUMERIC_CODEWORDS===0||h===F.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(a.append(F.decodeBase900toBase10(d,l)),l=0)}return s}static decodeBase900toBase10(o,s){let a=ti(0);for(let u=0;u<s;u++)a+=F.EXP900[s-u-1]*ti(o[u]);let l=a.toString();if(l.charAt(0)!=="1")throw new j;return l.substring(1)}}F.TEXT_COMPACTION_MODE_LATCH=900,F.BYTE_COMPACTION_MODE_LATCH=901,F.NUMERIC_COMPACTION_MODE_LATCH=902,F.BYTE_COMPACTION_MODE_LATCH_6=924,F.ECI_USER_DEFINED=925,F.ECI_GENERAL_PURPOSE=926,F.ECI_CHARSET=927,F.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,F.MACRO_PDF417_TERMINATOR=922,F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,F.MAX_NUMERIC_CODEWORDS=15,F.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,F.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,F.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,F.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,F.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,F.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,F.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,F.PL=25,F.LL=27,F.AS=27,F.ML=28,F.AL=28,F.PS=29,F.PAL=29,F.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,F.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",F.EXP900=zg()?Mv():[],F.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Te{constructor(){}static decode(o,s,a,l,u,d,h){let g=new Vi(o,s,a,l,u),y=null,w=null,v;for(let S=!0;;S=!1){if(s!=null&&(y=Te.getRowIndicatorColumn(o,g,s,!0,d,h)),l!=null&&(w=Te.getRowIndicatorColumn(o,g,l,!1,d,h)),v=Te.merge(y,w),v==null)throw B.getNotFoundInstance();let _=v.getBoundingBox();if(S&&_!=null&&(_.getMinY()<g.getMinY()||_.getMaxY()>g.getMaxY()))g=_;else break}v.setBoundingBox(g);let I=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,y),v.setDetectionResultColumn(I,w);let b=y!=null;for(let S=1;S<=I;S++){let _=b?S:I-S;if(v.getDetectionResultColumn(_)!==void 0)continue;let M;_===0||_===I?M=new Ug(g,_===0):M=new Vg(g),v.setDetectionResultColumn(_,M);let R=-1,z=R;for(let q=g.getMinY();q<=g.getMaxY();q++){if(R=Te.getStartColumn(v,_,q,b),R<0||R>g.getMaxX()){if(z===-1)continue;R=z}let k=Te.detectCodeword(o,g.getMinX(),g.getMaxX(),b,R,q,d,h);k!=null&&(M.setCodeword(q,k),z=R,d=Math.min(d,k.getWidth()),h=Math.max(h,k.getWidth()))}}return Te.createDecoderResult(v)}static merge(o,s){if(o==null&&s==null)return null;let a=Te.getBarcodeMetadata(o,s);if(a==null)return null;let l=Vi.merge(Te.adjustBoundingBox(o),Te.adjustBoundingBox(s));return new Ds(a,l)}static adjustBoundingBox(o){if(o==null)return null;let s=o.getRowHeights();if(s==null)return null;let a=Te.getMax(s),l=0;for(let h of s)if(l+=a-h,h>0)break;let u=o.getCodewords();for(let h=0;l>0&&u[h]==null;h++)l--;let d=0;for(let h=s.length-1;h>=0&&(d+=a-s[h],!(s[h]>0));h--);for(let h=u.length-1;d>0&&u[h]==null;h--)d--;return o.getBoundingBox().addMissingRows(l,d,o.isLeft())}static getMax(o){let s=-1;for(let a of o)s=Math.max(s,a);return s}static getBarcodeMetadata(o,s){let a;if(o==null||(a=o.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let l;return s==null||(l=s.getBarcodeMetadata())==null?a:a.getColumnCount()!==l.getColumnCount()&&a.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&a.getRowCount()!==l.getRowCount()?null:a}static getRowIndicatorColumn(o,s,a,l,u,d){let h=new Ug(s,l);for(let g=0;g<2;g++){let y=g===0?1:-1,w=Math.trunc(Math.trunc(a.getX()));for(let v=Math.trunc(Math.trunc(a.getY()));v<=s.getMaxY()&&v>=s.getMinY();v+=y){let I=Te.detectCodeword(o,0,o.getWidth(),l,w,v,u,d);I!=null&&(h.setCodeword(v,I),l?w=I.getStartX():w=I.getEndX())}}return h}static adjustCodewordCount(o,s){let a=s[0][1],l=a.getValue(),u=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Te.getNumberOfECCodeWords(o.getBarcodeECLevel());if(l.length===0){if(u<1||u>Ce.MAX_CODEWORDS_IN_BARCODE)throw B.getNotFoundInstance();a.setValue(u)}else l[0]!==u&&a.setValue(u)}static createDecoderResult(o){let s=Te.createBarcodeMatrix(o);Te.adjustCodewordCount(o,s);let a=new Array,l=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),u=[],d=new Array;for(let g=0;g<o.getBarcodeRowCount();g++)for(let y=0;y<o.getBarcodeColumnCount();y++){let w=s[g][y+1].getValue(),v=g*o.getBarcodeColumnCount()+y;w.length===0?a.push(v):w.length===1?l[v]=w[0]:(d.push(v),u.push(w))}let h=new Array(u.length);for(let g=0;g<h.length;g++)h[g]=u[g];return Te.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),l,Ce.toIntArray(a),Ce.toIntArray(d),h)}static createDecoderResultFromAmbiguousValues(o,s,a,l,u){let d=new Int32Array(l.length),h=100;for(;h-- >0;){for(let g=0;g<d.length;g++)s[l[g]]=u[g][d[g]];try{return Te.decodeCodewords(s,o,a)}catch(g){if(!(g instanceof D))throw g}if(d.length===0)throw D.getChecksumInstance();for(let g=0;g<d.length;g++)if(d[g]<u[g].length-1){d[g]++;break}else if(d[g]=0,g===d.length-1)throw D.getChecksumInstance()}throw D.getChecksumInstance()}static createBarcodeMatrix(o){let s=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let l=0;l<s.length;l++)for(let u=0;u<s[l].length;u++)s[l][u]=new Is;let a=0;for(let l of o.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=0){if(d>=s.length)continue;s[d][a].setValue(u.getValue())}}}a++}return s}static isValidBarcodeColumn(o,s){return s>=0&&s<=o.getBarcodeColumnCount()+1}static getStartColumn(o,s,a,l){let u=l?1:-1,d=null;if(Te.isValidBarcodeColumn(o,s-u)&&(d=o.getDetectionResultColumn(s-u).getCodeword(a)),d!=null)return l?d.getEndX():d.getStartX();if(d=o.getDetectionResultColumn(s).getCodewordNearby(a),d!=null)return l?d.getStartX():d.getEndX();if(Te.isValidBarcodeColumn(o,s-u)&&(d=o.getDetectionResultColumn(s-u).getCodewordNearby(a)),d!=null)return l?d.getEndX():d.getStartX();let h=0;for(;Te.isValidBarcodeColumn(o,s-u);){s-=u;for(let g of o.getDetectionResultColumn(s).getCodewords())if(g!=null)return(l?g.getEndX():g.getStartX())+u*h*(g.getEndX()-g.getStartX());h++}return l?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,s,a,l,u,d,h,g){u=Te.adjustCodewordStartColumn(o,s,a,l,u,d);let y=Te.getModuleBitCount(o,s,a,l,u,d);if(y==null)return null;let w,v=Be.sum(y);if(l)w=u+v;else{for(let S=0;S<y.length/2;S++){let _=y[S];y[S]=y[y.length-1-S],y[y.length-1-S]=_}w=u,u=w-v}if(!Te.checkCodewordSkew(v,h,g))return null;let I=fn.getDecodedValue(y),b=Ce.getCodeword(I);return b===-1?null:new Av(u,w,Te.getCodewordBucketNumber(I),b)}static getModuleBitCount(o,s,a,l,u,d){let h=u,g=new Int32Array(8),y=0,w=l?1:-1,v=l;for(;(l?h<a:h>=s)&&y<g.length;)o.get(h,d)===v?(g[y]++,h+=w):(y++,v=!v);return y===g.length||h===(l?a:s)&&y===g.length-1?g:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,s,a,l,u,d){let h=u,g=l?-1:1;for(let y=0;y<2;y++){for(;(l?h>=s:h<a)&&l===o.get(h,d);){if(Math.abs(u-h)>Te.CODEWORD_SKEW_SIZE)return u;h+=g}g=-g,l=!l}return h}static checkCodewordSkew(o,s,a){return s-Te.CODEWORD_SKEW_SIZE<=o&&o<=a+Te.CODEWORD_SKEW_SIZE}static decodeCodewords(o,s,a){if(o.length===0)throw j.getFormatInstance();let l=1<<s+1,u=Te.correctErrors(o,a,l);Te.verifyCodewordCount(o,l);let d=F.decode(o,""+s);return d.setErrorsCorrected(u),d.setErasures(a.length),d}static correctErrors(o,s,a){if(s!=null&&s.length>a/2+Te.MAX_ERRORS||a<0||a>Te.MAX_EC_CODEWORDS)throw D.getChecksumInstance();return Te.errorCorrection.decode(o,a,s)}static verifyCodewordCount(o,s){if(o.length<4)throw j.getFormatInstance();let a=o[0];if(a>o.length)throw j.getFormatInstance();if(a===0)if(s<o.length)o[0]=o.length-s;else throw j.getFormatInstance()}static getBitCountForCodeword(o){let s=new Int32Array(8),a=0,l=s.length-1;for(;!((o&1)!==a&&(a=o&1,l--,l<0));)s[l]++,o>>=1;return s}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Te.getCodewordBucketNumber(Te.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let s=new Es;for(let a=0;a<o.length;a++){s.format("Row %2d: ",a);for(let l=0;l<o[a].length;l++){let u=o[a][l];u.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}s.format("%n")}return s.toString()}}Te.CODEWORD_SKEW_SIZE=2,Te.MAX_ERRORS=3,Te.MAX_EC_CODEWORDS=512,Te.errorCorrection=new Bg;class Ht{decode(o,s=null){let a=Ht.decode(o,s,!1);if(a==null||a.length===0||a[0]==null)throw B.getNotFoundInstance();return a[0]}decodeMultiple(o,s=null){try{return Ht.decode(o,s,!0)}catch(a){throw a instanceof j||a instanceof D?B.getNotFoundInstance():a}}static decode(o,s,a){let l=new Array,u=_e.detectMultiple(o,s,a);for(let d of u.getPoints()){let h=Te.decode(u.getBits(),d[4],d[5],d[6],d[7],Ht.getMinCodewordWidth(d),Ht.getMaxCodewordWidth(d)),g=new en(h.getText(),h.getRawBytes(),void 0,d,pe.PDF_417);g.putMetadata(Ot.ERROR_CORRECTION_LEVEL,h.getECLevel());let y=h.getOther();y!=null&&g.putMetadata(Ot.PDF417_EXTRA_METADATA,y),l.push(g)}return l.map(d=>d)}static getMaxWidth(o,s){return o==null||s==null?0:Math.trunc(Math.abs(o.getX()-s.getX()))}static getMinWidth(o,s){return o==null||s==null?V.MAX_VALUE:Math.trunc(Math.abs(o.getX()-s.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Ht.getMaxWidth(o[0],o[4]),Ht.getMaxWidth(o[6],o[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.max(Ht.getMaxWidth(o[1],o[5]),Ht.getMaxWidth(o[7],o[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Ht.getMinWidth(o[0],o[4]),Ht.getMinWidth(o[6],o[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.min(Ht.getMinWidth(o[1],o[5]),Ht.getMinWidth(o[7],o[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}reset(){}}let qu=(()=>{class C extends p{}return C.kind="ReaderException",C})();class Gg{constructor(o,s){this.verbose=o===!0,s&&this.setHints(s)}decode(o,s){return s&&this.setHints(s),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;let s=!e(o)&&o.get(re.TRY_HARDER)===!0,a=e(o)?null:o.get(re.POSSIBLE_FORMATS),l=new Array;if(!e(a)){let u=a.some(d=>d===pe.UPC_A||d===pe.UPC_E||d===pe.EAN_13||d===pe.EAN_8||d===pe.CODABAR||d===pe.CODE_39||d===pe.CODE_93||d===pe.CODE_128||d===pe.ITF||d===pe.RSS_14||d===pe.RSS_EXPANDED);u&&!s&&l.push(new yo(o,this.verbose)),a.includes(pe.QR_CODE)&&l.push(new ei),a.includes(pe.DATA_MATRIX)&&l.push(new Ha),a.includes(pe.AZTEC)&&l.push(new Ba),a.includes(pe.PDF_417)&&l.push(new Ht),u&&s&&l.push(new yo(o,this.verbose))}l.length===0&&(s||l.push(new yo(o,this.verbose)),l.push(new ei),l.push(new Ha),l.push(new Ba),l.push(new Ht),s&&l.push(new yo(o,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(let o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new qu("No readers where selected, nothing can be read.");for(let s of this.readers)try{return s.decode(o,this.hints)}catch(a){if(a instanceof qu)continue}throw new B("No MultiFormat Readers were able to detect the code.")}}class Nv extends Pi{constructor(o=null,s=500){let a=new Gg;a.setHints(o),super(a,s)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Ov extends Pi{constructor(o=500){super(new Ht,o)}}class Rv extends Pi{constructor(o=500){super(new ei,o)}}var Wg=function(C){return C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION",C}(Wg||{}),_t=Wg;class Qu{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new dn(o,Int32Array.from([1])))}buildGenerator(o){let s=this.cachedGenerators;if(o>=s.length){let a=s[s.length-1],l=this.field;for(let u=s.length;u<=o;u++){let d=a.multiply(new dn(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));s.push(d),a=d}}return s[o]}encode(o,s){if(s===0)throw new m("No error correction bytes");let a=o.length-s;if(a<=0)throw new m("No data bytes provided");let l=this.buildGenerator(s),u=new Int32Array(a);N.arraycopy(o,0,u,0,a);let d=new dn(this.field,u);d=d.multiplyByMonomial(s,1);let g=d.divide(l)[1].getCoefficients(),y=s-g.length;for(let w=0;w<y;w++)o[a+w]=0;N.arraycopy(g,0,o,a+y,g.length)}}let Co=(()=>{class C{constructor(){}static applyMaskPenaltyRule1(s){return C.applyMaskPenaltyRule1Internal(s,!0)+C.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let a=0,l=s.getArray(),u=s.getWidth(),d=s.getHeight();for(let h=0;h<d-1;h++){let g=l[h];for(let y=0;y<u-1;y++){let w=g[y];w===g[y+1]&&w===l[h+1][y]&&w===l[h+1][y+1]&&a++}}return C.N2*a}static applyMaskPenaltyRule3(s){let a=0,l=s.getArray(),u=s.getWidth(),d=s.getHeight();for(let h=0;h<d;h++)for(let g=0;g<u;g++){let y=l[h];g+6<u&&y[g]===1&&y[g+1]===0&&y[g+2]===1&&y[g+3]===1&&y[g+4]===1&&y[g+5]===0&&y[g+6]===1&&(C.isWhiteHorizontal(y,g-4,g)||C.isWhiteHorizontal(y,g+7,g+11))&&a++,h+6<d&&l[h][g]===1&&l[h+1][g]===0&&l[h+2][g]===1&&l[h+3][g]===1&&l[h+4][g]===1&&l[h+5][g]===0&&l[h+6][g]===1&&(C.isWhiteVertical(l,g,h-4,h)||C.isWhiteVertical(l,g,h+7,h+11))&&a++}return a*C.N3}static isWhiteHorizontal(s,a,l){a=Math.max(a,0),l=Math.min(l,s.length);for(let u=a;u<l;u++)if(s[u]===1)return!1;return!0}static isWhiteVertical(s,a,l,u){l=Math.max(l,0),u=Math.min(u,s.length);for(let d=l;d<u;d++)if(s[d][a]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let a=0,l=s.getArray(),u=s.getWidth(),d=s.getHeight();for(let y=0;y<d;y++){let w=l[y];for(let v=0;v<u;v++)w[v]===1&&a++}let h=s.getHeight()*s.getWidth();return Math.floor(Math.abs(a*2-h)*10/h)*C.N4}static getDataMaskBit(s,a,l){let u,d;switch(s){case 0:u=l+a&1;break;case 1:u=l&1;break;case 2:u=a%3;break;case 3:u=(l+a)%3;break;case 4:u=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:d=l*a,u=(d&1)+d%3;break;case 6:d=l*a,u=(d&1)+d%3&1;break;case 7:d=l*a,u=d%3+(l+a&1)&1;break;default:throw new m("Invalid mask pattern: "+s)}return u===0}static applyMaskPenaltyRule1Internal(s,a){let l=0,u=a?s.getHeight():s.getWidth(),d=a?s.getWidth():s.getHeight(),h=s.getArray();for(let g=0;g<u;g++){let y=0,w=-1;for(let v=0;v<d;v++){let I=a?h[g][v]:h[v][g];I===w?y++:(y>=5&&(l+=C.N1+(y-5)),y=1,w=I)}y>=5&&(l+=C.N1+(y-5))}return l}}return C.N1=3,C.N2=3,C.N3=40,C.N4=10,C})();class Wa{constructor(o,s){this.width=o,this.height=s;let a=new Array(s);for(let l=0;l!==s;l++)a[l]=new Uint8Array(o);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(o,s){return this.bytes[s][o]}getArray(){return this.bytes}setNumber(o,s,a){this.bytes[s][o]=a}setBoolean(o,s,a){this.bytes[s][o]=a?1:0}clear(o){for(let s of this.bytes)Y.fill(s,o)}equals(o){if(!(o instanceof Wa))return!1;let s=o;if(this.width!==s.width||this.height!==s.height)return!1;for(let a=0,l=this.height;a<l;++a){let u=this.bytes[a],d=s.bytes[a];for(let h=0,g=this.width;h<g;++h)if(u[h]!==d[h])return!1}return!0}toString(){let o=new Qe;for(let s=0,a=this.height;s<a;++s){let l=this.bytes[s];for(let u=0,d=this.width;u<d;++u)switch(l[u]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}let $a=(()=>{class C{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){let s=new Qe;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<C.NUM_MASK_PATTERNS}}return C.NUM_MASK_PATTERNS=8,C})(),st=(()=>{class C extends p{}return C.kind="WriterException",C})();class ge{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,s,a,l,u){ge.clearMatrix(u),ge.embedBasicPatterns(a,u),ge.embedTypeInfo(s,l,u),ge.maybeEmbedVersionInfo(a,u),ge.embedDataBits(o,l,u)}static embedBasicPatterns(o,s){ge.embedPositionDetectionPatternsAndSeparators(s),ge.embedDarkDotAtLeftBottomCorner(s),ge.maybeEmbedPositionAdjustmentPatterns(o,s),ge.embedTimingPatterns(s)}static embedTypeInfo(o,s,a){let l=new se;ge.makeTypeInfoBits(o,s,l);for(let u=0,d=l.getSize();u<d;++u){let h=l.get(l.getSize()-1-u),g=ge.TYPE_INFO_COORDINATES[u],y=g[0],w=g[1];if(a.setBoolean(y,w,h),u<8){let v=a.getWidth()-u-1,I=8;a.setBoolean(v,I,h)}else{let I=a.getHeight()-7+(u-8);a.setBoolean(8,I,h)}}}static maybeEmbedVersionInfo(o,s){if(o.getVersionNumber()<7)return;let a=new se;ge.makeVersionInfoBits(o,a);let l=6*3-1;for(let u=0;u<6;++u)for(let d=0;d<3;++d){let h=a.get(l);l--,s.setBoolean(u,s.getHeight()-11+d,h),s.setBoolean(s.getHeight()-11+d,u,h)}}static embedDataBits(o,s,a){let l=0,u=-1,d=a.getWidth()-1,h=a.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);h>=0&&h<a.getHeight();){for(let g=0;g<2;++g){let y=d-g;if(!ge.isEmpty(a.get(y,h)))continue;let w;l<o.getSize()?(w=o.get(l),++l):w=!1,s!==255&&Co.getDataMaskBit(s,y,h)&&(w=!w),a.setBoolean(y,h,w)}h+=u}u=-u,h+=u,d-=2}if(l!==o.getSize())throw new st("Not all bits consumed: "+l+"/"+o.getSize())}static findMSBSet(o){return 32-V.numberOfLeadingZeros(o)}static calculateBCHCode(o,s){if(s===0)throw new m("0 polynomial");let a=ge.findMSBSet(s);for(o<<=a-1;ge.findMSBSet(o)>=a;)o^=s<<ge.findMSBSet(o)-a;return o}static makeTypeInfoBits(o,s,a){if(!$a.isValidMaskPattern(s))throw new st("Invalid mask pattern");let l=o.getBits()<<3|s;a.appendBits(l,5);let u=ge.calculateBCHCode(l,ge.TYPE_INFO_POLY);a.appendBits(u,10);let d=new se;if(d.appendBits(ge.TYPE_INFO_MASK_PATTERN,15),a.xor(d),a.getSize()!==15)throw new st("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(o,s){s.appendBits(o.getVersionNumber(),6);let a=ge.calculateBCHCode(o.getVersionNumber(),ge.VERSION_INFO_POLY);if(s.appendBits(a,12),s.getSize()!==18)throw new st("should not happen but we got: "+s.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let s=8;s<o.getWidth()-8;++s){let a=(s+1)%2;ge.isEmpty(o.get(s,6))&&o.setNumber(s,6,a),ge.isEmpty(o.get(6,s))&&o.setNumber(6,s,a)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new st;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,s,a){for(let l=0;l<8;++l){if(!ge.isEmpty(a.get(o+l,s)))throw new st;a.setNumber(o+l,s,0)}}static embedVerticalSeparationPattern(o,s,a){for(let l=0;l<7;++l){if(!ge.isEmpty(a.get(o,s+l)))throw new st;a.setNumber(o,s+l,0)}}static embedPositionAdjustmentPattern(o,s,a){for(let l=0;l<5;++l){let u=ge.POSITION_ADJUSTMENT_PATTERN[l];for(let d=0;d<5;++d)a.setNumber(o+d,s+l,u[d])}}static embedPositionDetectionPattern(o,s,a){for(let l=0;l<7;++l){let u=ge.POSITION_DETECTION_PATTERN[l];for(let d=0;d<7;++d)a.setNumber(o+d,s+l,u[d])}}static embedPositionDetectionPatternsAndSeparators(o){let s=ge.POSITION_DETECTION_PATTERN[0].length;ge.embedPositionDetectionPattern(0,0,o),ge.embedPositionDetectionPattern(o.getWidth()-s,0,o),ge.embedPositionDetectionPattern(0,o.getWidth()-s,o);let a=8;ge.embedHorizontalSeparationPattern(0,a-1,o),ge.embedHorizontalSeparationPattern(o.getWidth()-a,a-1,o),ge.embedHorizontalSeparationPattern(0,o.getWidth()-a,o);let l=7;ge.embedVerticalSeparationPattern(l,0,o),ge.embedVerticalSeparationPattern(o.getHeight()-l-1,0,o),ge.embedVerticalSeparationPattern(l,o.getHeight()-l,o)}static maybeEmbedPositionAdjustmentPatterns(o,s){if(o.getVersionNumber()<2)return;let a=o.getVersionNumber()-1,l=ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,d=l.length;u!==d;u++){let h=l[u];if(h>=0)for(let g=0;g!==d;g++){let y=l[g];y>=0&&ge.isEmpty(s.get(y,h))&&ge.embedPositionAdjustmentPattern(y-2,h-2,s)}}}}ge.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ge.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ge.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ge.VERSION_INFO_POLY=7973,ge.TYPE_INFO_POLY=1335,ge.TYPE_INFO_MASK_PATTERN=21522;class Fv{constructor(o,s){this.dataBytes=o,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class lt{constructor(){}static calculateMaskPenalty(o){return Co.applyMaskPenaltyRule1(o)+Co.applyMaskPenaltyRule2(o)+Co.applyMaskPenaltyRule3(o)+Co.applyMaskPenaltyRule4(o)}static encode(o,s,a=null){let l=lt.DEFAULT_BYTE_MODE_ENCODING,u=a!==null&&a.get(_t.CHARACTER_SET)!==void 0;u&&(l=a.get(_t.CHARACTER_SET).toString());let d=this.chooseMode(o,l),h=new se;if(d===he.BYTE&&(u||lt.DEFAULT_BYTE_MODE_ENCODING!==l)){let q=W.getCharacterSetECIByName(l);q!==void 0&&this.appendECI(q,h)}this.appendModeInfo(d,h);let g=new se;this.appendBytes(o,d,g,l);let y;if(a!==null&&a.get(_t.QR_VERSION)!==void 0){let q=Number.parseInt(a.get(_t.QR_VERSION).toString(),10);y=le.getVersionForNumber(q);let k=this.calculateBitsNeeded(d,h,g,y);if(!this.willFit(k,y,s))throw new st("Data too big for requested version")}else y=this.recommendVersion(s,d,h,g);let w=new se;w.appendBitArray(h);let v=d===he.BYTE?g.getSizeInBytes():o.length;this.appendLengthInfo(v,y,d,w),w.appendBitArray(g);let I=y.getECBlocksForLevel(s),b=y.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(b,w);let S=this.interleaveWithECBytes(w,y.getTotalCodewords(),b,I.getNumBlocks()),_=new $a;_.setECLevel(s),_.setMode(d),_.setVersion(y);let M=y.getDimensionForVersion(),R=new Wa(M,M),z=this.chooseMaskPattern(S,s,y,R);return _.setMaskPattern(z),ge.buildMatrix(S,s,y,z,R),_.setMatrix(R),_}static recommendVersion(o,s,a,l){let u=this.calculateBitsNeeded(s,a,l,le.getVersionForNumber(1)),d=this.chooseVersion(u,o),h=this.calculateBitsNeeded(s,a,l,d);return this.chooseVersion(h,o)}static calculateBitsNeeded(o,s,a,l){return s.getSize()+o.getCharacterCountBits(l)+a.getSize()}static getAlphanumericCode(o){return o<lt.ALPHANUMERIC_TABLE.length?lt.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,s=null){if(W.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(o))return he.KANJI;let a=!1,l=!1;for(let u=0,d=o.length;u<d;++u){let h=o.charAt(u);if(lt.isDigit(h))a=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)l=!0;else return he.BYTE}return l?he.ALPHANUMERIC:a?he.NUMERIC:he.BYTE}static isOnlyDoubleByteKanji(o){let s;try{s=Zt.encode(o,W.SJIS)}catch{return!1}let a=s.length;if(a%2!==0)return!1;for(let l=0;l<a;l+=2){let u=s[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(o,s,a,l){let u=Number.MAX_SAFE_INTEGER,d=-1;for(let h=0;h<$a.NUM_MASK_PATTERNS;h++){ge.buildMatrix(o,s,a,h,l);let g=this.calculateMaskPenalty(l);g<u&&(u=g,d=h)}return d}static chooseVersion(o,s){for(let a=1;a<=40;a++){let l=le.getVersionForNumber(a);if(lt.willFit(o,l,s))return l}throw new st("Data too big")}static willFit(o,s,a){let l=s.getTotalCodewords(),d=s.getECBlocksForLevel(a).getTotalECCodewords(),h=l-d,g=(o+7)/8;return h>=g}static terminateBits(o,s){let a=o*8;if(s.getSize()>a)throw new st("data bits cannot fit in the QR Code"+s.getSize()+" > "+a);for(let d=0;d<4&&s.getSize()<a;++d)s.appendBit(!1);let l=s.getSize()&7;if(l>0)for(let d=l;d<8;d++)s.appendBit(!1);let u=o-s.getSizeInBytes();for(let d=0;d<u;++d)s.appendBits(d&1?17:236,8);if(s.getSize()!==a)throw new st("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,s,a,l,u,d){if(l>=a)throw new st("Block ID too large");let h=o%a,g=a-h,y=Math.floor(o/a),w=y+1,v=Math.floor(s/a),I=v+1,b=y-v,S=w-I;if(b!==S)throw new st("EC bytes mismatch");if(a!==g+h)throw new st("RS blocks mismatch");if(o!==(v+b)*g+(I+S)*h)throw new st("Total bytes mismatch");l<g?(u[0]=v,d[0]=b):(u[0]=I,d[0]=S)}static interleaveWithECBytes(o,s,a,l){if(o.getSizeInBytes()!==a)throw new st("Number of bits and data bytes does not match");let u=0,d=0,h=0,g=new Array;for(let w=0;w<l;++w){let v=new Int32Array(1),I=new Int32Array(1);lt.getNumDataBytesAndNumECBytesForBlockID(s,a,l,w,v,I);let b=v[0],S=new Uint8Array(b);o.toBytes(8*u,S,0,b);let _=lt.generateECBytes(S,I[0]);g.push(new Fv(S,_)),d=Math.max(d,b),h=Math.max(h,_.length),u+=v[0]}if(a!==u)throw new st("Data bytes does not match offset");let y=new se;for(let w=0;w<d;++w)for(let v of g){let I=v.getDataBytes();w<I.length&&y.appendBits(I[w],8)}for(let w=0;w<h;++w)for(let v of g){let I=v.getErrorCorrectionBytes();w<I.length&&y.appendBits(I[w],8)}if(s!==y.getSizeInBytes())throw new st("Interleaving error: "+s+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(o,s){let a=o.length,l=new Int32Array(a+s);for(let d=0;d<a;d++)l[d]=o[d]&255;new Qu(je.QR_CODE_FIELD_256).encode(l,s);let u=new Uint8Array(s);for(let d=0;d<s;d++)u[d]=l[a+d];return u}static appendModeInfo(o,s){s.appendBits(o.getBits(),4)}static appendLengthInfo(o,s,a,l){let u=a.getCharacterCountBits(s);if(o>=1<<u)throw new st(o+" is bigger than "+((1<<u)-1));l.appendBits(o,u)}static appendBytes(o,s,a,l){switch(s){case he.NUMERIC:lt.appendNumericBytes(o,a);break;case he.ALPHANUMERIC:lt.appendAlphanumericBytes(o,a);break;case he.BYTE:lt.append8BitBytes(o,a,l);break;case he.KANJI:lt.appendKanjiBytes(o,a);break;default:throw new st("Invalid mode: "+s)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){let s=lt.getDigit(o);return s>=0&&s<=9}static appendNumericBytes(o,s){let a=o.length,l=0;for(;l<a;){let u=lt.getDigit(o.charAt(l));if(l+2<a){let d=lt.getDigit(o.charAt(l+1)),h=lt.getDigit(o.charAt(l+2));s.appendBits(u*100+d*10+h,10),l+=3}else if(l+1<a){let d=lt.getDigit(o.charAt(l+1));s.appendBits(u*10+d,7),l+=2}else s.appendBits(u,4),l++}}static appendAlphanumericBytes(o,s){let a=o.length,l=0;for(;l<a;){let u=lt.getAlphanumericCode(o.charCodeAt(l));if(u===-1)throw new st;if(l+1<a){let d=lt.getAlphanumericCode(o.charCodeAt(l+1));if(d===-1)throw new st;s.appendBits(u*45+d,11),l+=2}else s.appendBits(u,6),l++}}static append8BitBytes(o,s,a){let l;try{l=Zt.encode(o,a)}catch(u){throw new st(u)}for(let u=0,d=l.length;u!==d;u++){let h=l[u];s.appendBits(h,8)}}static appendKanjiBytes(o,s){let a;try{a=Zt.encode(o,W.SJIS)}catch(u){throw new st(u)}let l=a.length;for(let u=0;u<l;u+=2){let d=a[u]&255,h=a[u+1]&255,g=d<<8&4294967295|h,y=-1;if(g>=33088&&g<=40956?y=g-33088:g>=57408&&g<=60351&&(y=g-49472),y===-1)throw new st("Invalid byte sequence");let w=(y>>8)*192+(y&255);s.appendBits(w,13)}}static appendECI(o,s){s.appendBits(he.ECI.getBits(),4),s.appendBits(o.getValue(),8)}}lt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),lt.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();let Pv=(()=>{class C{write(s,a,l,u=null){if(s.length===0)throw new m("Found empty contents");if(a<0||l<0)throw new m("Requested dimensions are too small: "+a+"x"+l);let d=ot.L,h=C.QUIET_ZONE_SIZE;u!==null&&(u.get(_t.ERROR_CORRECTION)!==void 0&&(d=ot.fromString(u.get(_t.ERROR_CORRECTION).toString())),u.get(_t.MARGIN)!==void 0&&(h=Number.parseInt(u.get(_t.MARGIN).toString(),10)));let g=lt.encode(s,d,u);return this.renderResult(g,a,l,h)}writeToDom(s,a,l,u,d=null){typeof s=="string"&&(s=document.querySelector(s));let h=this.write(a,l,u,d);s&&s.appendChild(h)}renderResult(s,a,l,u){let d=s.getMatrix();if(d===null)throw new Nr;let h=d.getWidth(),g=d.getHeight(),y=h+u*2,w=g+u*2,v=Math.max(a,y),I=Math.max(l,w),b=Math.min(Math.floor(v/y),Math.floor(I/w)),S=Math.floor((v-h*b)/2),_=Math.floor((I-g*b)/2),M=this.createSVGElement(v,I);for(let R=0,z=_;R<g;R++,z+=b)for(let q=0,k=S;q<h;q++,k+=b)if(d.get(q,R)===1){let Me=this.createSvgRectElement(k,z,b,b);M.appendChild(Me)}return M}createSVGElement(s,a){let l=document.createElementNS(C.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(s,a,l,u){let d=document.createElementNS(C.SVG_NS,"rect");return d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",a.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",u.toString()),d.setAttributeNS(null,"fill","#000000"),d}}return C.QUIET_ZONE_SIZE=4,C.SVG_NS="http://www.w3.org/2000/svg",C})(),$g=(()=>{class C{encode(s,a,l,u,d){if(s.length===0)throw new m("Found empty contents");if(a!==pe.QR_CODE)throw new m("Can only encode QR_CODE, but got "+a);if(l<0||u<0)throw new m(`Requested dimensions are too small: ${l}x${u}`);let h=ot.L,g=C.QUIET_ZONE_SIZE;d!==null&&(d.get(_t.ERROR_CORRECTION)!==void 0&&(h=ot.fromString(d.get(_t.ERROR_CORRECTION).toString())),d.get(_t.MARGIN)!==void 0&&(g=Number.parseInt(d.get(_t.MARGIN).toString(),10)));let y=lt.encode(s,h,d);return C.renderResult(y,l,u,g)}static renderResult(s,a,l,u){let d=s.getMatrix();if(d===null)throw new Nr;let h=d.getWidth(),g=d.getHeight(),y=h+u*2,w=g+u*2,v=Math.max(a,y),I=Math.max(l,w),b=Math.min(Math.floor(v/y),Math.floor(I/w)),S=Math.floor((v-h*b)/2),_=Math.floor((I-g*b)/2),M=new Mt(v,I);for(let R=0,z=_;R<g;R++,z+=b)for(let q=0,k=S;q<h;q++,k+=b)d.get(q,R)===1&&M.setRegion(k,z,b,b);return M}}return C.QUIET_ZONE_SIZE=4,C})();class Lv{encode(o,s,a,l,u){let d;switch(s){case pe.QR_CODE:d=new $g;break;default:throw new m("No encoder available for format "+s)}return d.encode(o,s,a,l,u)}}let kv=(()=>{class C extends ps{constructor(s,a,l,u,d,h,g,y){if(super(h,g),this.yuvData=s,this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=d,u+h>a||d+g>l)throw new m("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(h,g)}getRow(s,a){if(s<0||s>=this.getHeight())throw new m("Requested row is outside the image: "+s);let l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));let u=(s+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,u,a,0,l),a}getMatrix(){let s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.yuvData;let l=s*a,u=new Uint8ClampedArray(l),d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return N.arraycopy(this.yuvData,d,u,0,l),u;for(let h=0;h<a;h++){let g=h*s;N.arraycopy(this.yuvData,d,u,g,s),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,a,l,u){return new C(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+a,l,u,!1)}renderThumbnail(){let s=this.getWidth()/C.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/C.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*a),u=this.yuvData,d=this.top*this.dataWidth+this.left;for(let h=0;h<a;h++){let g=h*s;for(let y=0;y<s;y++){let w=u[d+y*C.THUMBNAIL_SCALE_FACTOR]&255;l[g+y]=4278190080|w*65793}d+=this.dataWidth*C.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/C.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/C.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,a){let l=this.yuvData;for(let u=0,d=this.top*this.dataWidth+this.left;u<a;u++,d+=this.dataWidth){let h=d+s/2;for(let g=d,y=d+s-1;g<h;g++,y--){let w=l[g];l[g]=l[y],l[y]=w}}}invert(){return new Zr(this)}}return C.THUMBNAIL_SCALE_FACTOR=2,C})();class Ku extends ps{constructor(o,s,a,l,u,d,h){if(super(s,a),this.dataWidth=l,this.dataHeight=u,this.left=d,this.top=h,o.BYTES_PER_ELEMENT===4){let g=s*a,y=new Uint8ClampedArray(g);for(let w=0;w<g;w++){let v=o[w],I=v>>16&255,b=v>>7&510,S=v&255;y[w]=(I+b+S)/4&255}this.luminances=y}else this.luminances=o;if(l===void 0&&(this.dataWidth=s),u===void 0&&(this.dataHeight=a),d===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+a>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(o,s){if(o<0||o>=this.getHeight())throw new m("Requested row is outside the image: "+o);let a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));let l=(o+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,l,s,0,a),s}getMatrix(){let o=this.getWidth(),s=this.getHeight();if(o===this.dataWidth&&s===this.dataHeight)return this.luminances;let a=o*s,l=new Uint8ClampedArray(a),u=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return N.arraycopy(this.luminances,u,l,0,a),l;for(let d=0;d<s;d++){let h=d*o;N.arraycopy(this.luminances,u,l,h,o),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(o,s,a,l){return new Ku(this.luminances,a,l,this.dataWidth,this.dataHeight,this.left+o,this.top+s)}invert(){return new Zr(this)}}class Yg extends W{static forName(o){return this.getCharacterSetECIByName(o)}}class Ju{}Ju.ISO_8859_1=W.ISO8859_1;class Zg{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class Xg{static singletonList(o){return[o]}static min(o,s){return o.sort(s)[0]}}class Bv{constructor(o){this.previous=o}getPrevious(){return this.previous}}class xo extends Bv{constructor(o,s,a){super(o),this.value=s,this.bitCount=a}appendTo(o,s){o.appendBits(this.value,this.bitCount)}add(o,s){return new xo(this,o,s)}addBinaryShift(o,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new xo(this,o,s)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+V.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class ed extends xo{constructor(o,s,a){super(o,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=a}appendTo(o,s){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):a===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(s[this.binaryShiftStart+a],8)}addBinaryShift(o,s){return new ed(this,o,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vv(C,o,s){return new ed(C,o,s)}function As(C,o,s){return new xo(C,o,s)}let Uv=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ni=0,Ya=1,Fn=2,qg=3,fr=4,jv=new xo(null,0,0),td=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function Hv(C){for(let o of C)Y.fill(o,-1);return C[ni][fr]=0,C[Ya][fr]=0,C[Ya][ni]=28,C[qg][fr]=0,C[Fn][fr]=0,C[Fn][ni]=15,C}let Qg=Hv(Y.createInt32Array(6,6));class hr{constructor(o,s,a,l){this.token=o,this.mode=s,this.binaryShiftByteCount=a,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,s){let a=this.bitCount,l=this.token;if(o!==this.mode){let d=td[this.mode][o];l=As(l,d&65535,d>>16),a+=d>>16}let u=o===Fn?4:5;return l=As(l,s,u),new hr(l,o,0,a+u)}shiftAndAppend(o,s){let a=this.token,l=this.mode===Fn?4:5;return a=As(a,Qg[this.mode][o],l),a=As(a,s,5),new hr(a,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(o){let s=this.token,a=this.mode,l=this.bitCount;if(this.mode===fr||this.mode===Fn){let h=td[a][ni];s=As(s,h&65535,h>>16),l+=h>>16,a=ni}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new hr(s,a,this.binaryShiftByteCount+1,l+u);return d.binaryShiftByteCount===2047+31&&(d=d.endBinaryShift(o+1)),d}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=Vv(s,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new hr(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let s=this.bitCount+(td[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?s+=hr.calculateBinaryShiftCost(o)-hr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(s+=10),s<=o.bitCount}toBitArray(o){let s=[];for(let l=this.endBinaryShift(o.length).token;l!==null;l=l.getPrevious())s.unshift(l);let a=new se;for(let l of s)l.appendTo(a,o);return a}toString(){return xe.format("%s bits=%d bytes=%d",Uv[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}hr.INITIAL_STATE=new hr(jv,ni,0,0);function zv(C){let o=xe.getCharCode(" "),s=xe.getCharCode("."),a=xe.getCharCode(",");C[ni][o]=1;let l=xe.getCharCode("Z"),u=xe.getCharCode("A");for(let I=u;I<=l;I++)C[ni][I]=I-u+2;C[Ya][o]=1;let d=xe.getCharCode("z"),h=xe.getCharCode("a");for(let I=h;I<=d;I++)C[Ya][I]=I-h+2;C[Fn][o]=1;let g=xe.getCharCode("9"),y=xe.getCharCode("0");for(let I=y;I<=g;I++)C[Fn][I]=I-y+2;C[Fn][a]=12,C[Fn][s]=13;let w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let I=0;I<w.length;I++)C[qg][xe.getCharCode(w[I])]=I;let v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<v.length;I++)xe.getCharCode(v[I])>0&&(C[fr][xe.getCharCode(v[I])]=I);return C}let nd=zv(Y.createInt32Array(5,256));class bs{constructor(o){this.text=o}encode(){let o=xe.getCharCode(" "),s=xe.getCharCode(`
`),a=Xg.singletonList(hr.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let d,h=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case xe.getCharCode("\r"):d=h===s?2:0;break;case xe.getCharCode("."):d=h===o?3:0;break;case xe.getCharCode(","):d=h===o?4:0;break;case xe.getCharCode(":"):d=h===o?5:0;break;default:d=0}d>0?(a=bs.updateStateListForPair(a,u,d),u++):a=this.updateStateListForChar(a,u)}return Xg.min(a,(u,d)=>u.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,s){let a=[];for(let l of o)this.updateStateForChar(l,s,a);return bs.simplifyStates(a)}updateStateForChar(o,s,a){let l=this.text[s]&255,u=nd[o.getMode()][l]>0,d=null;for(let h=0;h<=fr;h++){let g=nd[h][l];if(g>0){if(d==null&&(d=o.endBinaryShift(s)),!u||h===o.getMode()||h===Fn){let y=d.latchAndAppend(h,g);a.push(y)}if(!u&&Qg[o.getMode()][h]>=0){let y=d.shiftAndAppend(h,g);a.push(y)}}}if(o.getBinaryShiftByteCount()>0||nd[o.getMode()][l]===0){let h=o.addBinaryShiftChar(s);a.push(h)}}static updateStateListForPair(o,s,a){let l=[];for(let u of o)this.updateStateForPair(u,s,a,l);return this.simplifyStates(l)}static updateStateForPair(o,s,a,l){let u=o.endBinaryShift(s);if(l.push(u.latchAndAppend(fr,a)),o.getMode()!==fr&&l.push(u.shiftAndAppend(fr,a)),a===3||a===4){let d=u.latchAndAppend(Fn,16-a).latchAndAppend(Fn,1);l.push(d)}if(o.getBinaryShiftByteCount()>0){let d=o.addBinaryShiftChar(s).addBinaryShiftChar(s+1);l.push(d)}}static simplifyStates(o){let s=[];for(let a of o){let l=!0;for(let u of s){if(u.isBetterThanOrEqualTo(a)){l=!1;break}a.isBetterThanOrEqualTo(u)&&(s=s.filter(d=>d!==u))}l&&s.push(a)}return s}}class Ve{constructor(){}static encodeBytes(o){return Ve.encode(o,Ve.DEFAULT_EC_PERCENT,Ve.DEFAULT_AZTEC_LAYERS)}static encode(o,s,a){let l=new bs(o).encode(),u=V.truncDivision(l.getSize()*s,100)+11,d=l.getSize()+u,h,g,y,w,v;if(a!==Ve.DEFAULT_AZTEC_LAYERS){if(h=a<0,g=Math.abs(a),g>(h?Ve.MAX_NB_BITS_COMPACT:Ve.MAX_NB_BITS))throw new m(xe.format("Illegal value %s for layers",a));y=Ve.totalBitsInLayer(g,h),w=Ve.WORD_SIZE[g];let k=y-y%w;if(v=Ve.stuffBits(l,w),v.getSize()+u>k)throw new m("Data to large for user specified layer");if(h&&v.getSize()>w*64)throw new m("Data to large for user specified layer")}else{w=0,v=null;for(let k=0;;k++){if(k>Ve.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(h=k<=3,g=h?k+1:k,y=Ve.totalBitsInLayer(g,h),d>y)continue;(v==null||w!==Ve.WORD_SIZE[g])&&(w=Ve.WORD_SIZE[g],v=Ve.stuffBits(l,w));let Me=y-y%w;if(!(h&&v.getSize()>w*64)&&v.getSize()+u<=Me)break}}let I=Ve.generateCheckWords(v,y,w),b=v.getSize()/w,S=Ve.generateModeMessage(h,g,b),_=(h?11:14)+g*4,M=new Int32Array(_),R;if(h){R=_;for(let k=0;k<M.length;k++)M[k]=k}else{R=_+1+2*V.truncDivision(V.truncDivision(_,2)-1,15);let k=V.truncDivision(_,2),Me=V.truncDivision(R,2);for(let Ee=0;Ee<k;Ee++){let hn=Ee+V.truncDivision(Ee,15);M[k-Ee-1]=Me-hn-1,M[k+Ee]=Me+hn+1}}let z=new Mt(R);for(let k=0,Me=0;k<g;k++){let Ee=(g-k)*4+(h?9:12);for(let hn=0;hn<Ee;hn++){let Xn=hn*2;for(let pn=0;pn<2;pn++)I.get(Me+Xn+pn)&&z.set(M[k*2+pn],M[k*2+hn]),I.get(Me+Ee*2+Xn+pn)&&z.set(M[k*2+hn],M[_-1-k*2-pn]),I.get(Me+Ee*4+Xn+pn)&&z.set(M[_-1-k*2-pn],M[_-1-k*2-hn]),I.get(Me+Ee*6+Xn+pn)&&z.set(M[_-1-k*2-hn],M[k*2+pn])}Me+=Ee*8}if(Ve.drawModeMessage(z,h,R,S),h)Ve.drawBullsEye(z,V.truncDivision(R,2),5);else{Ve.drawBullsEye(z,V.truncDivision(R,2),7);for(let k=0,Me=0;k<V.truncDivision(_,2)-1;k+=15,Me+=16)for(let Ee=V.truncDivision(R,2)&1;Ee<R;Ee+=2)z.set(V.truncDivision(R,2)-Me,Ee),z.set(V.truncDivision(R,2)+Me,Ee),z.set(Ee,V.truncDivision(R,2)-Me),z.set(Ee,V.truncDivision(R,2)+Me)}let q=new Zg;return q.setCompact(h),q.setSize(R),q.setLayers(g),q.setCodeWords(b),q.setMatrix(z),q}static drawBullsEye(o,s,a){for(let l=0;l<a;l+=2)for(let u=s-l;u<=s+l;u++)o.set(u,s-l),o.set(u,s+l),o.set(s-l,u),o.set(s+l,u);o.set(s-a,s-a),o.set(s-a+1,s-a),o.set(s-a,s-a+1),o.set(s+a,s-a),o.set(s+a,s-a+1),o.set(s+a,s+a-1)}static generateModeMessage(o,s,a){let l=new se;return o?(l.appendBits(s-1,2),l.appendBits(a-1,6),l=Ve.generateCheckWords(l,28,4)):(l.appendBits(s-1,5),l.appendBits(a-1,11),l=Ve.generateCheckWords(l,40,4)),l}static drawModeMessage(o,s,a,l){let u=V.truncDivision(a,2);if(s)for(let d=0;d<7;d++){let h=u-3+d;l.get(d)&&o.set(h,u-5),l.get(d+7)&&o.set(u+5,h),l.get(20-d)&&o.set(h,u+5),l.get(27-d)&&o.set(u-5,h)}else for(let d=0;d<10;d++){let h=u-5+d+V.truncDivision(d,5);l.get(d)&&o.set(h,u-7),l.get(d+10)&&o.set(u+7,h),l.get(29-d)&&o.set(h,u+7),l.get(39-d)&&o.set(u-7,h)}}static generateCheckWords(o,s,a){let l=o.getSize()/a,u=new Qu(Ve.getGF(a)),d=V.truncDivision(s,a),h=Ve.bitsToWords(o,a,d);u.encode(h,d-l);let g=s%a,y=new se;y.appendBits(0,g);for(let w of Array.from(h))y.appendBits(w,a);return y}static bitsToWords(o,s,a){let l=new Int32Array(a),u,d;for(u=0,d=o.getSize()/s;u<d;u++){let h=0;for(let g=0;g<s;g++)h|=o.get(u*s+g)?1<<s-g-1:0;l[u]=h}return l}static getGF(o){switch(o){case 4:return je.AZTEC_PARAM;case 6:return je.AZTEC_DATA_6;case 8:return je.AZTEC_DATA_8;case 10:return je.AZTEC_DATA_10;case 12:return je.AZTEC_DATA_12;default:throw new m("Unsupported word size "+o)}}static stuffBits(o,s){let a=new se,l=o.getSize(),u=(1<<s)-2;for(let d=0;d<l;d+=s){let h=0;for(let g=0;g<s;g++)(d+g>=l||o.get(d+g))&&(h|=1<<s-1-g);(h&u)===u?(a.appendBits(h&u,s),d--):h&u?a.appendBits(h,s):(a.appendBits(h|1,s),d--)}return a}static totalBitsInLayer(o,s){return((s?88:112)+16*o)*o}}Ve.DEFAULT_EC_PERCENT=33,Ve.DEFAULT_AZTEC_LAYERS=0,Ve.MAX_NB_BITS=32,Ve.MAX_NB_BITS_COMPACT=4,Ve.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Za{encode(o,s,a,l){return this.encodeWithHints(o,s,a,l,null)}encodeWithHints(o,s,a,l,u){let d=Ju.ISO_8859_1,h=Ve.DEFAULT_EC_PERCENT,g=Ve.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(_t.CHARACTER_SET)&&(d=Yg.forName(u.get(_t.CHARACTER_SET).toString())),u.has(_t.ERROR_CORRECTION)&&(h=V.parseInt(u.get(_t.ERROR_CORRECTION).toString())),u.has(_t.AZTEC_LAYERS)&&(g=V.parseInt(u.get(_t.AZTEC_LAYERS).toString()))),Za.encodeLayers(o,s,a,l,d,h,g)}static encodeLayers(o,s,a,l,u,d,h){if(s!==pe.AZTEC)throw new m("Can only encode AZTEC, but got "+s);let g=Ve.encode(xe.getBytes(o,u),d,h);return Za.renderResult(g,a,l)}static renderResult(o,s,a){let l=o.getMatrix();if(l==null)throw new Nr;let u=l.getWidth(),d=l.getHeight(),h=Math.max(s,u),g=Math.max(a,d),y=Math.min(h/u,g/d),w=(h-u*y)/2,v=(g-d*y)/2,I=new Mt(h,g);for(let b=0,S=v;b<d;b++,S+=y)for(let _=0,M=w;_<u;_++,M+=y)l.get(_,b)&&I.setRegion(M,S,y,y);return I}}t.AbstractExpandedDecoder=ju,t.ArgumentException=x,t.ArithmeticException=Fu,t.AztecCode=Zg,t.AztecCodeReader=Ba,t.AztecCodeWriter=Za,t.AztecDecoder=Pu,t.AztecDetector=Mg,t.AztecDetectorResult=_g,t.AztecEncoder=Ve,t.AztecHighLevelEncoder=bs,t.AztecPoint=tn,t.BarcodeFormat=pe,t.Binarizer=T,t.BinaryBitmap=E,t.BitArray=se,t.BitMatrix=Mt,t.BitSource=Wu,t.BrowserAztecCodeReader=sv,t.BrowserBarcodeReader=gv,t.BrowserCodeReader=Pi,t.BrowserDatamatrixCodeReader=yv,t.BrowserMultiFormatReader=Nv,t.BrowserPDF417Reader=Ov,t.BrowserQRCodeReader=Rv,t.BrowserQRCodeSvgWriter=Pv,t.CharacterSetECI=W,t.ChecksumException=D,t.Code128Reader=X,t.Code39Reader=ku,t.DataMatrixDecodedBitStreamParser=Jr,t.DataMatrixReader=Ha,t.DecodeHintType=re,t.DecoderResult=gs,t.DefaultGridSampler=Tg,t.DetectorResult=La,t.EAN13Reader=Va,t.EncodeHintType=_t,t.Exception=p,t.FormatException=j,t.GenericGF=je,t.GenericGFPoly=dn,t.GlobalHistogramBinarizer=Nt,t.GridSampler=Lu,t.GridSamplerInstance=qr,t.HTMLCanvasElementLuminanceSource=Xr,t.HybridBinarizer=Se,t.ITFReader=Je,t.IllegalArgumentException=m,t.IllegalStateException=Nr,t.InvertedLuminanceSource=Zr,t.LuminanceSource=ps,t.MathUtils=Be,t.MultiFormatOneDReader=yo,t.MultiFormatReader=Gg,t.MultiFormatWriter=Lv,t.NotFoundException=B,t.OneDReader=Dt,t.PDF417DecodedBitStreamParser=F,t.PDF417DecoderErrorCorrection=Bg,t.PDF417Reader=Ht,t.PDF417ResultMetadata=jg,t.PerspectiveTransform=Gn,t.PlanarYUVLuminanceSource=kv,t.QRCodeByteMatrix=Wa,t.QRCodeDataMask=Rn,t.QRCodeDecodedBitStreamParser=Lg,t.QRCodeDecoderErrorCorrectionLevel=ot,t.QRCodeDecoderFormatInformation=qt,t.QRCodeEncoder=lt,t.QRCodeEncoderQRCode=$a,t.QRCodeMaskUtil=Co,t.QRCodeMatrixUtil=ge,t.QRCodeMode=he,t.QRCodeReader=ei,t.QRCodeVersion=le,t.QRCodeWriter=$g,t.RGBLuminanceSource=Ku,t.RSS14Reader=gt,t.RSSExpandedReader=U,t.ReaderException=qu,t.ReedSolomonDecoder=Cs,t.ReedSolomonEncoder=Qu,t.ReedSolomonException=ys,t.Result=en,t.ResultMetadataType=Ot,t.ResultPoint=oe,t.StringUtils=xe,t.UnsupportedOperationException=ur,t.VideoInputDevice=Ag,t.WhiteRectangleDetector=ka,t.WriterException=st,t.ZXingArrays=Y,t.ZXingCharset=Yg,t.ZXingInteger=V,t.ZXingStandardCharsets=Ju,t.ZXingStringBuilder=Qe,t.ZXingStringEncoding=Zt,t.ZXingSystem=N,t.createAbstractExpandedDecoder=Pg,Object.defineProperty(t,"__esModule",{value:!0})})});var t0=null;var od=1;function nn(t){let e=t0;return t0=t,e}var n0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tE(t){if(!(cd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===od)){if(!t.producerMustRecompute(t)&&!sd(t)){t.dirty=!1,t.lastCleanEpoch=od;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=od}}function r0(t){return t&&(t.nextProducerIndex=0),nn(t)}function i0(t,e){if(nn(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(cd(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)ad(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function sd(t){qa(t);for(let e=0;e<t.producerNode.length;e++){let r=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==r.version||(tE(r),n!==r.version))return!0}return!1}function o0(t){if(qa(t),cd(t))for(let e=0;e<t.producerNode.length;e++)ad(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ad(t,e){if(nE(t),qa(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)ad(t.producerNode[n],t.producerIndexOfThis[n]);let r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];qa(i),i.producerIndexOfThis[n]=e}}function cd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function nE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function rE(){throw new Error}var iE=rE;function s0(t){iE=t}function ve(t){return typeof t=="function"}function Eo(t){let r=t(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Qa=Eo(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function _s(t,e){if(t){let r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Tt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let c of r)c.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(ve(n))try{n()}catch(c){e=c instanceof Qa?c.errors:[c]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let c of i)try{a0(c)}catch(f){e=e??[],f instanceof Qa?e=[...e,...f.errors]:e.push(f)}}if(e)throw new Qa(e)}}add(e){var r;if(e&&e!==this)if(this.closed)a0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}_hasParent(e){let{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){let{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&_s(r,e)}remove(e){let{_finalizers:r}=this;r&&_s(r,e),e instanceof t&&e._removeParent(this)}};Tt.EMPTY=(()=>{let t=new Tt;return t.closed=!0,t})();var ld=Tt.EMPTY;function Ka(t){return t instanceof Tt||t&&"closed"in t&&ve(t.remove)&&ve(t.add)&&ve(t.unsubscribe)}function a0(t){ve(t)?t():t.unsubscribe()}var qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Io={setTimeout(t,e,...r){let{delegate:n}=Io;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){let{delegate:e}=Io;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ja(t){Io.setTimeout(()=>{let{onUnhandledError:e}=qn;if(e)e(t);else throw t})}function Ts(){}var c0=(()=>ud("C",void 0,void 0))();function l0(t){return ud("E",void 0,t)}function u0(t){return ud("N",t,void 0)}function ud(t,e,r){return{kind:t,value:e,error:r}}var Ui=null;function Do(t){if(qn.useDeprecatedSynchronousErrorHandling){let e=!Ui;if(e&&(Ui={errorThrown:!1,error:null}),t(),e){let{errorThrown:r,error:n}=Ui;if(Ui=null,r)throw n}}else t()}function d0(t){qn.useDeprecatedSynchronousErrorHandling&&Ui&&(Ui.errorThrown=!0,Ui.error=t)}var ji=class extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ka(e)&&e.add(this)):this.destination=aE}static create(e,r,n){return new ri(e,r,n)}next(e){this.isStopped?fd(u0(e),this):this._next(e)}error(e){this.isStopped?fd(l0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fd(c0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oE=Function.prototype.bind;function dd(t,e){return oE.call(t,e)}var hd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){ec(n)}}error(e){let{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){ec(n)}else ec(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){ec(r)}}},ri=class extends ji{constructor(e,r,n){super();let i;if(ve(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let c;this&&qn.useDeprecatedNextContext?(c=Object.create(e),c.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dd(e.next,c),error:e.error&&dd(e.error,c),complete:e.complete&&dd(e.complete,c)}):i=e}this.destination=new hd(i)}};function ec(t){qn.useDeprecatedSynchronousErrorHandling?d0(t):Ja(t)}function sE(t){throw t}function fd(t,e){let{onStoppedNotification:r}=qn;r&&Io.setTimeout(()=>r(t,e))}var aE={closed:!0,next:Ts,error:sE,complete:Ts};var Ao=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function An(t){return t}function pd(...t){return gd(t)}function gd(t){return t.length===0?An:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}var Oe=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){let c=lE(r)?r:new ri(r,n,i);return Do(()=>{let{operator:f,source:p}=this;c.add(f?f.call(c,p):p?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=f0(n),new n((i,c)=>{let f=new ri({next:p=>{try{r(p)}catch(x){c(x),f.unsubscribe()}},error:c,complete:i});this.subscribe(f)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[Ao](){return this}pipe(...r){return gd(r)(this)}toPromise(r){return r=f0(r),new r((n,i)=>{let c;this.subscribe(f=>c=f,f=>i(f),()=>n(c))})}}return t.create=e=>new t(e),t})();function f0(t){var e;return(e=t??qn.Promise)!==null&&e!==void 0?e:Promise}function cE(t){return t&&ve(t.next)&&ve(t.error)&&ve(t.complete)}function lE(t){return t&&t instanceof ji||cE(t)&&Ka(t)}function md(t){return ve(t?.lift)}function Le(t){return e=>{if(md(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(t,e,r,n,i){return new yd(t,e,r,n,i)}var yd=class extends ji{constructor(e,r,n,i,c,f){super(e),this.onFinalize=c,this.shouldUnsubscribe=f,this._next=r?function(p){try{r(p)}catch(x){e.error(x)}}:super._next,this._error=i?function(p){try{i(p)}catch(x){e.error(x)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(p){e.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function bo(){return Le((t,e)=>{let r=null;t._refCount++;let n=Re(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){r=null;return}let i=t._connection,c=r;r=null,i&&(!c||i===c)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var So=class extends Oe{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,md(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;let r=this.getSubject();e.add(this.source.subscribe(Re(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return bo()(this)}};var h0=Eo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var gn=(()=>{class t extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new tc(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new h0}next(r){Do(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){Do(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Do(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:c}=this;return n||i?ld:(this.currentObservers=null,c.push(r),new Tt(()=>{this.currentObservers=null,_s(c,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:c}=this;n?r.error(i):c&&r.complete()}asObservable(){let r=new Oe;return r.source=this,r}}return t.create=(e,r)=>new tc(e,r),t})(),tc=class extends gn{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,e)}error(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,e)}complete(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)}_subscribe(e){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&n!==void 0?n:ld}};var dt=class extends gn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){let{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Pn=new Oe(t=>t.complete());function p0(t){return t&&ve(t.schedule)}function g0(t){return t[t.length-1]}function nc(t){return ve(g0(t))?t.pop():void 0}function ii(t){return p0(g0(t))?t.pop():void 0}function y0(t,e,r,n){function i(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(E){try{m(n.next(E))}catch(D){f(D)}}function x(E){try{m(n.throw(E))}catch(D){f(D)}}function m(E){E.done?c(E.value):i(E.value).then(p,x)}m((n=n.apply(t,e||[])).next())})}function m0(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hi(t){return this instanceof Hi?(this.v=t,this):new Hi(t)}function C0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,c=[];return i={},f("next"),f("throw"),f("return"),i[Symbol.asyncIterator]=function(){return this},i;function f(T){n[T]&&(i[T]=function(N){return new Promise(function(H,J){c.push([T,N,H,J])>1||p(T,N)})})}function p(T,N){try{x(n[T](N))}catch(H){D(c[0][3],H)}}function x(T){T.value instanceof Hi?Promise.resolve(T.value.v).then(m,E):D(c[0][2],T)}function m(T){p("next",T)}function E(T){p("throw",T)}function D(T,N){T(N),c.shift(),c.length&&p(c[0][0],c[0][1])}}function x0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof m0=="function"?m0(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(c){r[c]=t[c]&&function(f){return new Promise(function(p,x){f=t[c](f),i(p,x,f.done,f.value)})}}function i(c,f,p,x){Promise.resolve(x).then(function(m){c({value:m,done:p})},f)}}var rc=t=>t&&typeof t.length=="number"&&typeof t!="function";function ic(t){return ve(t?.then)}function oc(t){return ve(t[Ao])}function sc(t){return Symbol.asyncIterator&&ve(t?.[Symbol.asyncIterator])}function ac(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cc=uE();function lc(t){return ve(t?.[cc])}function uc(t){return C0(this,arguments,function*(){let r=t.getReader();try{for(;;){let{value:n,done:i}=yield Hi(r.read());if(i)return yield Hi(void 0);yield yield Hi(n)}}finally{r.releaseLock()}})}function dc(t){return ve(t?.getReader)}function At(t){if(t instanceof Oe)return t;if(t!=null){if(oc(t))return dE(t);if(rc(t))return fE(t);if(ic(t))return hE(t);if(sc(t))return w0(t);if(lc(t))return pE(t);if(dc(t))return gE(t)}throw ac(t)}function dE(t){return new Oe(e=>{let r=t[Ao]();if(ve(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fE(t){return new Oe(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function hE(t){return new Oe(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,Ja)})}function pE(t){return new Oe(e=>{for(let r of t)if(e.next(r),e.closed)return;e.complete()})}function w0(t){return new Oe(e=>{mE(t,e).catch(r=>e.error(r))})}function gE(t){return w0(uc(t))}function mE(t,e){var r,n,i,c;return y0(this,void 0,void 0,function*(){try{for(r=x0(t);n=yield r.next(),!n.done;){let f=n.value;if(e.next(f),e.closed)return}}catch(f){i={error:f}}finally{try{n&&!n.done&&(c=r.return)&&(yield c.call(r))}finally{if(i)throw i.error}}e.complete()})}function mn(t,e,r,n=0,i=!1){let c=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(c),!i)return c}function fc(t,e=0){return Le((r,n)=>{r.subscribe(Re(n,i=>mn(n,t,()=>n.next(i),e),()=>mn(n,t,()=>n.complete(),e),i=>mn(n,t,()=>n.error(i),e)))})}function hc(t,e=0){return Le((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function v0(t,e){return At(t).pipe(hc(e),fc(e))}function E0(t,e){return At(t).pipe(hc(e),fc(e))}function I0(t,e){return new Oe(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function D0(t,e){return new Oe(r=>{let n;return mn(r,e,()=>{n=t[cc](),mn(r,e,()=>{let i,c;try{({value:i,done:c}=n.next())}catch(f){r.error(f);return}c?r.complete():r.next(i)},0,!0)}),()=>ve(n?.return)&&n.return()})}function pc(t,e){if(!t)throw new Error("Iterable cannot be null");return new Oe(r=>{mn(r,e,()=>{let n=t[Symbol.asyncIterator]();mn(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function A0(t,e){return pc(uc(t),e)}function b0(t,e){if(t!=null){if(oc(t))return v0(t,e);if(rc(t))return I0(t,e);if(ic(t))return E0(t,e);if(sc(t))return pc(t,e);if(lc(t))return D0(t,e);if(dc(t))return A0(t,e)}throw ac(t)}function ut(t,e){return e?b0(t,e):At(t)}function ye(...t){let e=ii(t);return ut(t,e)}function oi(t,e){let r=ve(t)?t:()=>t,n=i=>i.error(r());return new Oe(e?i=>e.schedule(n,0,i):n)}function Cd(t){return!!t&&(t instanceof Oe||ve(t.lift)&&ve(t.subscribe))}var Qn=Eo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function xd(t,e){let r=typeof e=="object";return new Promise((n,i)=>{let c=new ri({next:f=>{n(f),c.unsubscribe()},error:i,complete:()=>{r?n(e.defaultValue):i(new Qn)}});t.subscribe(c)})}function Ie(t,e){return Le((r,n)=>{let i=0;r.subscribe(Re(n,c=>{n.next(t.call(e,c,i++))}))})}var{isArray:yE}=Array;function CE(t,e){return yE(e)?t(...e):t(e)}function gc(t){return Ie(e=>CE(t,e))}var{isArray:xE}=Array,{getPrototypeOf:wE,prototype:vE,keys:EE}=Object;function mc(t){if(t.length===1){let e=t[0];if(xE(e))return{args:e,keys:null};if(IE(e)){let r=EE(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}function IE(t){return t&&typeof t=="object"&&wE(t)===vE}function yc(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function Ms(...t){let e=ii(t),r=nc(t),{args:n,keys:i}=mc(t);if(n.length===0)return ut([],e);let c=new Oe(DE(n,e,i?f=>yc(i,f):An));return r?c.pipe(gc(r)):c}function DE(t,e,r=An){return n=>{S0(e,()=>{let{length:i}=t,c=new Array(i),f=i,p=i;for(let x=0;x<i;x++)S0(e,()=>{let m=ut(t[x],e),E=!1;m.subscribe(Re(n,D=>{c[x]=D,E||(E=!0,p--),p||n.next(r(c.slice()))},()=>{--f||n.complete()}))},n)},n)}}function S0(t,e,r){t?mn(r,t,e):e()}function _0(t,e,r,n,i,c,f,p){let x=[],m=0,E=0,D=!1,T=()=>{D&&!x.length&&!m&&e.complete()},N=J=>m<n?H(J):x.push(J),H=J=>{c&&e.next(J),m++;let Y=!1;At(r(J,E++)).subscribe(Re(e,V=>{i?.(V),c?N(V):e.next(V)},()=>{Y=!0},void 0,()=>{if(Y)try{for(m--;x.length&&m<n;){let V=x.shift();f?mn(e,f,()=>H(V)):H(V)}T()}catch(V){e.error(V)}}))};return t.subscribe(Re(e,N,()=>{D=!0,T()})),()=>{p?.()}}function bt(t,e,r=1/0){return ve(e)?bt((n,i)=>Ie((c,f)=>e(n,c,i,f))(At(t(n,i))),r):(typeof e=="number"&&(r=e),Le((n,i)=>_0(n,i,t,r)))}function _o(t=1/0){return bt(An,t)}function T0(){return _o(1)}function To(...t){return T0()(ut(t,ii(t)))}function Cc(t){return new Oe(e=>{At(t()).subscribe(e)})}function wd(...t){let e=nc(t),{args:r,keys:n}=mc(t),i=new Oe(c=>{let{length:f}=r;if(!f){c.complete();return}let p=new Array(f),x=f,m=f;for(let E=0;E<f;E++){let D=!1;At(r[E]).subscribe(Re(c,T=>{D||(D=!0,m--),p[E]=T},()=>x--,void 0,()=>{(!x||!D)&&(m||c.next(n?yc(n,p):p),c.complete())}))}});return e?i.pipe(gc(e)):i}function yn(t,e){return Le((r,n)=>{let i=0;r.subscribe(Re(n,c=>t.call(e,c,i++)&&n.next(c)))})}function Qt(t){return Le((e,r)=>{let n=null,i=!1,c;n=e.subscribe(Re(r,void 0,void 0,f=>{c=At(t(f,Qt(t)(e))),n?(n.unsubscribe(),n=null,c.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,c.subscribe(r))})}function M0(t,e,r,n,i){return(c,f)=>{let p=r,x=e,m=0;c.subscribe(Re(f,E=>{let D=m++;x=p?t(x,E,D):(p=!0,E),n&&f.next(x)},i&&(()=>{p&&f.next(x),f.complete()})))}}function Or(t,e){return ve(e)?bt(t,e,1):bt(t,1)}function si(t){return Le((e,r)=>{let n=!1;e.subscribe(Re(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function Rr(t){return t<=0?()=>Pn:Le((e,r)=>{let n=0;e.subscribe(Re(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function vd(t){return Ie(()=>t)}function xc(t=AE){return Le((e,r)=>{let n=!1;e.subscribe(Re(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function AE(){return new Qn}function zi(t){return Le((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}function Kn(t,e){let r=arguments.length>=2;return n=>n.pipe(t?yn((i,c)=>t(i,c,n)):An,Rr(1),r?si(e):xc(()=>new Qn))}function Mo(t){return t<=0?()=>Pn:Le((e,r)=>{let n=[];e.subscribe(Re(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function Ed(t,e){let r=arguments.length>=2;return n=>n.pipe(t?yn((i,c)=>t(i,c,n)):An,Mo(1),r?si(e):xc(()=>new Qn))}function Id(t,e){return Le(M0(t,e,arguments.length>=2,!0))}function Dd(...t){let e=ii(t);return Le((r,n)=>{(e?To(t,r,e):To(t,r)).subscribe(n)})}function Ft(t,e){return Le((r,n)=>{let i=null,c=0,f=!1,p=()=>f&&!i&&n.complete();r.subscribe(Re(n,x=>{i?.unsubscribe();let m=0,E=c++;At(t(x,E)).subscribe(i=Re(n,D=>n.next(e?e(x,D,E,m++):D),()=>{i=null,p()}))},()=>{f=!0,p()}))})}function Ad(t){return Le((e,r)=>{At(t).subscribe(Re(r,()=>r.complete(),Ts)),!r.closed&&e.subscribe(r)})}function ft(t,e,r){let n=ve(t)||e||r?{next:t,error:e,complete:r}:t;return n?Le((i,c)=>{var f;(f=n.subscribe)===null||f===void 0||f.call(n);let p=!0;i.subscribe(Re(c,x=>{var m;(m=n.next)===null||m===void 0||m.call(n,x),c.next(x)},()=>{var x;p=!1,(x=n.complete)===null||x===void 0||x.call(n),c.complete()},x=>{var m;p=!1,(m=n.error)===null||m===void 0||m.call(n,x),c.error(x)},()=>{var x,m;p&&((x=n.unsubscribe)===null||x===void 0||x.call(n)),(m=n.finalize)===null||m===void 0||m.call(n)}))}):An}function rt(t){for(let e in t)if(t[e]===rt)return e;throw Error("Could not find renamed property on target object.")}function wc(t,e){for(let r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function sn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(sn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r===-1?e:e.substring(0,r)}function N0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var bE=rt({__forward_ref__:rt});function wr(t){return t.__forward_ref__=wr,t.toString=function(){return sn(this())},t}function on(t){return m1(t)?t():t}function m1(t){return typeof t=="function"&&t.hasOwnProperty(bE)&&t.__forward_ref__===wr}function y1(t){return t&&!!t.\u0275providers}var C1="https://g.co/ng/security#xss",ce=class extends Error{constructor(e,r){super(nl(e,r)),this.code=e}};function nl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var SE=rt({\u0275cmp:rt}),_E=rt({\u0275dir:rt}),TE=rt({\u0275pipe:rt}),ME=rt({\u0275mod:rt}),Rc=rt({\u0275fac:rt}),Os=rt({__NG_ELEMENT_ID__:rt}),O0=rt({__NG_ENV_ID__:rt});function rn(t){return typeof t=="string"?t:t==null?"":String(t)}function NE(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():rn(t)}function OE(t,e){let r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ce(-200,`Circular dependency in DI detected for ${t}${r}`)}function Uf(t,e){throw new ce(-201,!1)}function RE(t,e){t==null&&FE(e,t,null,"!=")}function FE(t,e,r,n){throw new Error(`ASSERTION ERROR: ${t}`+(n==null?"":` [Expected=> ${r} ${n} ${e} <=Actual]`))}function ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ir(t){return{providers:t.providers||[],imports:t.imports||[]}}function rl(t){return R0(t,w1)||R0(t,v1)}function x1(t){return rl(t)!==null}function R0(t,e){return t.hasOwnProperty(e)?t[e]:null}function PE(t){let e=t&&(t[w1]||t[v1]);return e||null}function F0(t){return t&&(t.hasOwnProperty(P0)||t.hasOwnProperty(LE))?t[P0]:null}var w1=rt({\u0275prov:rt}),P0=rt({\u0275inj:rt}),v1=rt({ngInjectableDef:rt}),LE=rt({ngInjectorDef:rt}),Ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ne||{}),Gd;function E1(){return Gd}function Cn(t){let e=Gd;return Gd=t,e}function I1(t,e,r){let n=rl(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&Ne.Optional)return null;if(e!==void 0)return e;Uf(t,"Injector")}var er=globalThis;var ue=class{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=ie({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var kE={},Rs=kE,Wd="__NG_DI_FLAG__",Fc="ngTempTokenPath",BE="ngTokenPath",VE=/\n/gm,UE="\u0275",L0="__source",Po;function jE(){return Po}function ai(t){let e=Po;return Po=t,e}function HE(t,e=Ne.Default){if(Po===void 0)throw new ce(-203,!1);return Po===null?I1(t,void 0,e):Po.get(t,e&Ne.Optional?null:void 0,e)}function ae(t,e=Ne.Default){return(E1()||HE)(on(t),e)}function Z(t,e=Ne.Default){return ae(t,il(e))}function il(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $d(t){let e=[];for(let r=0;r<t.length;r++){let n=on(t[r]);if(Array.isArray(n)){if(n.length===0)throw new ce(900,!1);let i,c=Ne.Default;for(let f=0;f<n.length;f++){let p=n[f],x=zE(p);typeof x=="number"?x===-1?i=p.token:c|=x:i=p}e.push(ae(i,c))}else e.push(ae(n))}return e}function D1(t,e){return t[Wd]=e,t.prototype[Wd]=e,t}function zE(t){return t[Wd]}function GE(t,e,r,n){let i=t[Fc];throw e[L0]&&i.unshift(e[L0]),t.message=WE(`
`+t.message,i,r,n),t[BE]=i,t[Fc]=null,t}function WE(t,e,r,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==UE?t.slice(2):t;let i=sn(e);if(Array.isArray(e))i=e.map(sn).join(" -> ");else if(typeof e=="object"){let c=[];for(let f in e)if(e.hasOwnProperty(f)){let p=e[f];c.push(f+":"+(typeof p=="string"?JSON.stringify(p):sn(p)))}i=`{${c.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(VE,`
  `)}`}function Gs(t){return{toString:t}.toString()}var A1=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(A1||{}),yr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yr||{}),ko={},bn=[];function b1(t,e,r){let n=t.length;for(;;){let i=t.indexOf(e,r);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let c=e.length;if(i+c===n||t.charCodeAt(i+c)<=32)return i}r=i+1}}function Yd(t,e,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let c=r[n++],f=r[n++],p=r[n++];t.setAttribute(e,f,p,c)}else{let c=i,f=r[++n];$E(c)?t.setProperty(e,c,f):t.setAttribute(e,c,f),n++}}return n}function S1(t){return t===3||t===4||t===6}function $E(t){return t.charCodeAt(0)===64}function Fs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){let i=e[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?k0(t,r,i,null,e[++n]):k0(t,r,i,null,null))}}return t}function k0(t,e,r,n,i){let c=0,f=t.length;if(e===-1)f=-1;else for(;c<t.length;){let p=t[c++];if(typeof p=="number"){if(p===e){f=-1;break}else if(p>e){f=c-1;break}}}for(;c<t.length;){let p=t[c];if(typeof p=="number")break;if(p===r){if(n===null){i!==null&&(t[c+1]=i);return}else if(n===t[c+1]){t[c+2]=i;return}}c++,n!==null&&c++,i!==null&&c++}f!==-1&&(t.splice(f,0,e),c=f+1),t.splice(c++,0,r),n!==null&&t.splice(c++,0,n),i!==null&&t.splice(c++,0,i)}var _1="ng-template";function YE(t,e,r){let n=0,i=!0;for(;n<t.length;){let c=t[n++];if(typeof c=="string"&&i){let f=t[n++];if(r&&c==="class"&&b1(f.toLowerCase(),e,0)!==-1)return!0}else if(c===1){for(;n<t.length&&typeof(c=t[n++])=="string";)if(c.toLowerCase()===e)return!0;return!1}else typeof c=="number"&&(i=!1)}return!1}function T1(t){return t.type===4&&t.value!==_1}function ZE(t,e,r){let n=t.type===4&&!r?_1:t.value;return e===n}function XE(t,e,r){let n=4,i=t.attrs||[],c=KE(i),f=!1;for(let p=0;p<e.length;p++){let x=e[p];if(typeof x=="number"){if(!f&&!Jn(n)&&!Jn(x))return!1;if(f&&Jn(x))continue;f=!1,n=x|n&1;continue}if(!f)if(n&4){if(n=2|n&1,x!==""&&!ZE(t,x,r)||x===""&&e.length===1){if(Jn(n))return!1;f=!0}}else{let m=n&8?x:e[++p];if(n&8&&t.attrs!==null){if(!YE(t.attrs,m,r)){if(Jn(n))return!1;f=!0}continue}let E=n&8?"class":x,D=qE(E,i,T1(t),r);if(D===-1){if(Jn(n))return!1;f=!0;continue}if(m!==""){let T;D>c?T="":T=i[D+1].toLowerCase();let N=n&8?T:null;if(N&&b1(N,m,0)!==-1||n&2&&m!==T){if(Jn(n))return!1;f=!0}}}}return Jn(n)||f}function Jn(t){return(t&1)===0}function qE(t,e,r,n){if(e===null)return-1;let i=0;if(n||!r){let c=!1;for(;i<e.length;){let f=e[i];if(f===t)return i;if(f===3||f===6)c=!0;else if(f===1||f===2){let p=e[++i];for(;typeof p=="string";)p=e[++i];continue}else{if(f===4)break;if(f===0){i+=4;continue}}i+=c?1:2}return-1}else return JE(e,t)}function QE(t,e,r=!1){for(let n=0;n<e.length;n++)if(XE(t,e[n],r))return!0;return!1}function KE(t){for(let e=0;e<t.length;e++){let r=t[e];if(S1(r))return e}return t.length}function JE(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){let n=t[r];if(typeof n=="number")return-1;if(n===e)return r;r++}return-1}function B0(t,e){return t?":not("+e.trim()+")":e}function eI(t){let e=t[0],r=1,n=2,i="",c=!1;for(;r<t.length;){let f=t[r];if(typeof f=="string")if(n&2){let p=t[++r];i+="["+f+(p.length>0?'="'+p+'"':"")+"]"}else n&8?i+="."+f:n&4&&(i+=" "+f);else i!==""&&!Jn(f)&&(e+=B0(c,i),i=""),n=f,c=c||!Jn(n);r++}return i!==""&&(e+=B0(c,i)),e}function tI(t){return t.map(eI).join(",")}function nI(t){let e=[],r=[],n=1,i=2;for(;n<t.length;){let c=t[n];if(typeof c=="string")i===2?c!==""&&e.push(c,t[++n]):i===8&&r.push(c);else{if(!Jn(i))break;i=c}n++}return{attrs:e,classes:r}}function yt(t){return Gs(()=>{let e=F1(t),r=nt(ee({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===A1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yr.Emulated,styles:t.styles||bn,_:null,schemas:t.schemas||null,tView:null,id:""});P1(r);let n=t.dependencies;return r.directiveDefs=U0(n,!1),r.pipeDefs=U0(n,!0),r.id=oI(r),r})}function rI(t){return li(t)||M1(t)}function iI(t){return t!==null}function or(t){return Gs(()=>({type:t.type,bootstrap:t.bootstrap||bn,declarations:t.declarations||bn,imports:t.imports||bn,exports:t.exports||bn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function V0(t,e){if(t==null)return ko;let r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],c=i;Array.isArray(i)&&(c=i[1],i=i[0]),r[i]=n,e&&(e[i]=c)}return r}function Ct(t){return Gs(()=>{let e=F1(t);return P1(e),e})}function jf(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function li(t){return t[SE]||null}function M1(t){return t[_E]||null}function N1(t){return t[TE]||null}function O1(t){let e=li(t)||M1(t)||N1(t);return e!==null?e.standalone:!1}function R1(t,e){let r=t[ME]||null;if(!r&&e===!0)throw new Error(`Type ${sn(t)} does not have '\u0275mod' property.`);return r}function F1(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ko,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||bn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:V0(t.inputs,e),outputs:V0(t.outputs),debugInfo:null}}function P1(t){t.features?.forEach(e=>e(t))}function U0(t,e){if(!t)return null;let r=e?N1:rI;return()=>(typeof t=="function"?t():t).map(n=>r(n)).filter(iI)}function oI(t){let e=0,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Sn=0,De=1,we=2,Pt=3,tr=4,sr=5,Pr=6,Ps=7,nr=8,Bo=9,Cr=10,mt=11,Ls=12,j0=13,Go=14,Ln=15,Ws=16,No=17,mr=18,ol=19,L1=20,ci=21,bd=22,$i=23,Lt=25,k1=1,ks=6,Lr=7,Pc=8,Vo=9,xn=10,Hf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Hf||{});function Fr(t){return Array.isArray(t)&&typeof t[k1]=="object"}function vr(t){return Array.isArray(t)&&t[k1]===!0}function zf(t){return(t.flags&4)!==0}function $s(t){return t.componentOffset>-1}function sl(t){return(t.flags&1)===1}function ui(t){return!!t.template}function B1(t){return(t[we]&512)!==0}function Yi(t,e){let r=t.hasOwnProperty(Rc);return r?t[Rc]:null}var Zd=class{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function Er(){return V1}function V1(t){return t.type.prototype.ngOnChanges&&(t.setInput=aI),sI}Er.ngInherit=!0;function sI(){let t=j1(this),e=t?.current;if(e){let r=t.previous;if(r===ko)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function aI(t,e,r,n){let i=this.declaredInputs[r],c=j1(t)||cI(t,{previous:ko,current:null}),f=c.current||(c.current={}),p=c.previous,x=p[i];f[i]=new Zd(x&&x.currentValue,e,p===ko),t[n]=e}var U1="__ngSimpleChanges__";function j1(t){return t[U1]||null}function cI(t,e){return t[U1]=e}var H0=null;var pr=function(t,e,r){H0?.(t,e,r)},lI="svg",uI="math",dI=!1;function fI(){return dI}function rr(t){for(;Array.isArray(t);)t=t[Sn];return t}function H1(t,e){return rr(e[t])}function _n(t,e){return rr(e[t.index])}function z1(t,e){return t.data[e]}function Gf(t,e){return t[e]}function pi(t,e){let r=e[t];return Fr(r)?r:r[Sn]}function hI(t){return(t[we]&4)===4}function Wf(t){return(t[we]&128)===128}function pI(t){return vr(t[Pt])}function Uo(t,e){return e==null?null:t[e]}function G1(t){t[No]=0}function gI(t){t[we]&1024||(t[we]|=1024,Wf(t)&&Bs(t))}function mI(t,e){for(;t>0;)e=e[Go],t--;return e}function W1(t){return t[we]&9216||t[$i]?.dirty}function Xd(t){W1(t)?Bs(t):t[we]&64&&(fI()?(t[we]|=1024,Bs(t)):t[Cr].changeDetectionScheduler?.notify())}function Bs(t){t[Cr].changeDetectionScheduler?.notify();let e=Vs(t);for(;e!==null&&!(e[we]&8192||(e[we]|=8192,!Wf(e)));)e=Vs(e)}function $1(t,e){if((t[we]&256)===256)throw new ce(911,!1);t[ci]===null&&(t[ci]=[]),t[ci].push(e)}function yI(t,e){if(t[ci]===null)return;let r=t[ci].indexOf(e);r!==-1&&t[ci].splice(r,1)}function Vs(t){let e=t[Pt];return vr(e)?e[Pt]:e}var Ae={lFrame:J1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function CI(){return Ae.lFrame.elementDepthCount}function xI(){Ae.lFrame.elementDepthCount++}function wI(){Ae.lFrame.elementDepthCount--}function Y1(){return Ae.bindingsEnabled}function Ys(){return Ae.skipHydrationRootTNode!==null}function vI(t){return Ae.skipHydrationRootTNode===t}function EI(t){Ae.skipHydrationRootTNode=t}function II(){Ae.skipHydrationRootTNode=null}function Fe(){return Ae.lFrame.lView}function Gt(){return Ae.lFrame.tView}function Ge(t){return Ae.lFrame.contextLView=t,t[nr]}function We(t){return Ae.lFrame.contextLView=null,t}function wn(){let t=Z1();for(;t!==null&&t.type===64;)t=t.parent;return t}function Z1(){return Ae.lFrame.currentTNode}function DI(){let t=Ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function to(t,e){let r=Ae.lFrame;r.currentTNode=t,r.isParent=e}function $f(){return Ae.lFrame.isParent}function X1(){Ae.lFrame.isParent=!1}function AI(){return Ae.lFrame.contextLView}function al(){let t=Ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Yf(){return Ae.lFrame.bindingIndex}function bI(t){return Ae.lFrame.bindingIndex=t}function Zf(){return Ae.lFrame.bindingIndex++}function cl(t){let e=Ae.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function SI(){return Ae.lFrame.inI18n}function _I(t,e){let r=Ae.lFrame;r.bindingIndex=r.bindingRootIndex=t,qd(e)}function TI(){return Ae.lFrame.currentDirectiveIndex}function qd(t){Ae.lFrame.currentDirectiveIndex=t}function MI(t){let e=Ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function q1(){return Ae.lFrame.currentQueryIndex}function Xf(t){Ae.lFrame.currentQueryIndex=t}function NI(t){let e=t[De];return e.type===2?e.declTNode:e.type===1?t[sr]:null}function Q1(t,e,r){if(r&Ne.SkipSelf){let i=e,c=t;for(;i=i.parent,i===null&&!(r&Ne.Host);)if(i=NI(c),i===null||(c=c[Go],i.type&10))break;if(i===null)return!1;e=i,t=c}let n=Ae.lFrame=K1();return n.currentTNode=e,n.lView=t,!0}function qf(t){let e=K1(),r=t[De];Ae.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function K1(){let t=Ae.lFrame,e=t===null?null:t.child;return e===null?J1(t):e}function J1(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function em(){let t=Ae.lFrame;return Ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tm=em;function Qf(){let t=em();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function OI(t){return(Ae.lFrame.contextLView=mI(t,Ae.lFrame.contextLView))[nr]}function Br(){return Ae.lFrame.selectedIndex}function Zi(t){Ae.lFrame.selectedIndex=t}function Kf(){let t=Ae.lFrame;return z1(t.tView,t.selectedIndex)}function nm(){return Ae.lFrame.currentNamespace}var rm=!0;function ll(){return rm}function gi(t){rm=t}function RI(t,e,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:c}=e.type.prototype;if(n){let f=V1(e);(r.preOrderHooks??=[]).push(t,f),(r.preOrderCheckHooks??=[]).push(t,f)}i&&(r.preOrderHooks??=[]).push(0-t,i),c&&((r.preOrderHooks??=[]).push(t,c),(r.preOrderCheckHooks??=[]).push(t,c))}function ul(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){let c=t.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:p,ngAfterViewInit:x,ngAfterViewChecked:m,ngOnDestroy:E}=c;f&&(t.contentHooks??=[]).push(-r,f),p&&((t.contentHooks??=[]).push(r,p),(t.contentCheckHooks??=[]).push(r,p)),x&&(t.viewHooks??=[]).push(-r,x),m&&((t.viewHooks??=[]).push(r,m),(t.viewCheckHooks??=[]).push(r,m)),E!=null&&(t.destroyHooks??=[]).push(r,E)}}function Sc(t,e,r){im(t,e,3,r)}function _c(t,e,r,n){(t[we]&3)===r&&im(t,e,r,n)}function Sd(t,e){let r=t[we];(r&3)===e&&(r&=16383,r+=1,t[we]=r)}function im(t,e,r,n){let i=n!==void 0?t[No]&65535:0,c=n??-1,f=e.length-1,p=0;for(let x=i;x<f;x++)if(typeof e[x+1]=="number"){if(p=e[x],n!=null&&p>=n)break}else e[x]<0&&(t[No]+=65536),(p<c||c==-1)&&(FI(t,r,e,x),t[No]=(t[No]&4294901760)+x+2),x++}function z0(t,e){pr(4,t,e);let r=nn(null);try{e.call(t)}finally{nn(r),pr(5,t,e)}}function FI(t,e,r,n){let i=r[n]<0,c=r[n+1],f=i?-r[n]:r[n],p=t[f];i?t[we]>>14<t[No]>>16&&(t[we]&3)===e&&(t[we]+=16384,z0(p,c)):z0(p,c)}var Lo=-1,Xi=class{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function PI(t){return t instanceof Xi}function LI(t){return(t.flags&8)!==0}function kI(t){return(t.flags&16)!==0}function om(t){return t!==Lo}function Lc(t){return t&32767}function BI(t){return t>>16}function kc(t,e){let r=BI(t),n=e;for(;r>0;)n=n[Go],r--;return n}var Qd=!0;function Bc(t){let e=Qd;return Qd=t,e}var VI=256,sm=VI-1,am=5,UI=0,gr={};function jI(t,e,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(Os)&&(n=r[Os]),n==null&&(n=r[Os]=UI++);let i=n&sm,c=1<<i;e.data[t+(i>>am)]|=c}function Vc(t,e){let r=cm(t,e);if(r!==-1)return r;let n=e[De];n.firstCreatePass&&(t.injectorIndex=e.length,_d(n.data,t),_d(e,null),_d(n.blueprint,null));let i=Jf(t,e),c=t.injectorIndex;if(om(i)){let f=Lc(i),p=kc(i,e),x=p[De].data;for(let m=0;m<8;m++)e[c+m]=p[f+m]|x[f+m]}return e[c+8]=i,c}function _d(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cm(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Jf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;i!==null;){if(n=hm(i),n===null)return Lo;if(r++,i=i[Go],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return Lo}function Kd(t,e,r){jI(t,e,r)}function HI(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let r=t.attrs;if(r){let n=r.length,i=0;for(;i<n;){let c=r[i];if(S1(c))break;if(c===0)i=i+2;else if(typeof c=="number")for(i++;i<n&&typeof r[i]=="string";)i++;else{if(c===e)return r[i+1];i=i+2}}}return null}function lm(t,e,r){if(r&Ne.Optional||t!==void 0)return t;Uf(e,"NodeInjector")}function um(t,e,r,n){if(r&Ne.Optional&&n===void 0&&(n=null),!(r&(Ne.Self|Ne.Host))){let i=t[Bo],c=Cn(void 0);try{return i?i.get(e,n,r&Ne.Optional):I1(e,n,r&Ne.Optional)}finally{Cn(c)}}return lm(n,e,r)}function dm(t,e,r,n=Ne.Default,i){if(t!==null){if(e[we]&2048&&!(n&Ne.Self)){let f=$I(t,e,r,n,gr);if(f!==gr)return f}let c=fm(t,e,r,n,gr);if(c!==gr)return c}return um(e,r,n,i)}function fm(t,e,r,n,i){let c=GI(r);if(typeof c=="function"){if(!Q1(e,t,n))return n&Ne.Host?lm(i,r,n):um(e,r,n,i);try{let f;if(f=c(n),f==null&&!(n&Ne.Optional))Uf(r);else return f}finally{tm()}}else if(typeof c=="number"){let f=null,p=cm(t,e),x=Lo,m=n&Ne.Host?e[Ln][sr]:null;for((p===-1||n&Ne.SkipSelf)&&(x=p===-1?Jf(t,e):e[p+8],x===Lo||!W0(n,!1)?p=-1:(f=e[De],p=Lc(x),e=kc(x,e)));p!==-1;){let E=e[De];if(G0(c,p,E.data)){let D=zI(p,e,r,f,n,m);if(D!==gr)return D}x=e[p+8],x!==Lo&&W0(n,e[De].data[p+8]===m)&&G0(c,p,e)?(f=E,p=Lc(x),e=kc(x,e)):p=-1}}return i}function zI(t,e,r,n,i,c){let f=e[De],p=f.data[t+8],x=n==null?$s(p)&&Qd:n!=f&&(p.type&3)!==0,m=i&Ne.Host&&c===p,E=Tc(p,f,r,x,m);return E!==null?qi(e,f,E,p):gr}function Tc(t,e,r,n,i){let c=t.providerIndexes,f=e.data,p=c&1048575,x=t.directiveStart,m=t.directiveEnd,E=c>>20,D=n?p:p+E,T=i?p+E:m;for(let N=D;N<T;N++){let H=f[N];if(N<x&&r===H||N>=x&&H.type===r)return N}if(i){let N=f[x];if(N&&ui(N)&&N.type===r)return x}return null}function qi(t,e,r,n){let i=t[r],c=e.data;if(PI(i)){let f=i;f.resolving&&OE(NE(c[r]));let p=Bc(f.canSeeViewProviders);f.resolving=!0;let x,m=f.injectImpl?Cn(f.injectImpl):null,E=Q1(t,n,Ne.Default);try{i=t[r]=f.factory(void 0,c,t,n),e.firstCreatePass&&r>=n.directiveStart&&RI(r,c[r],e)}finally{m!==null&&Cn(m),Bc(p),f.resolving=!1,tm()}}return i}function GI(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Os)?t[Os]:void 0;return typeof e=="number"?e>=0?e&sm:WI:e}function G0(t,e,r){let n=1<<t;return!!(r[e+(t>>am)]&n)}function W0(t,e){return!(t&Ne.Self)&&!(t&Ne.Host&&e)}var Wi=class{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return dm(this._tNode,this._lView,e,il(n),r)}};function WI(){return new Wi(wn(),Fe())}function mi(t){return Gs(()=>{let e=t.prototype.constructor,r=e[Rc]||Jd(e),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){let c=i[Rc]||Jd(i);if(c&&c!==r)return c;i=Object.getPrototypeOf(i)}return c=>new c})}function Jd(t){return m1(t)?()=>{let e=Jd(on(t));return e&&e()}:Yi(t)}function $I(t,e,r,n,i){let c=t,f=e;for(;c!==null&&f!==null&&f[we]&2048&&!(f[we]&512);){let p=fm(c,f,r,n|Ne.Self,gr);if(p!==gr)return p;let x=c.parent;if(!x){let m=f[L1];if(m){let E=m.get(r,gr,n);if(E!==gr)return E}x=hm(f),f=f[Go]}c=x}return i}function hm(t){let e=t[De],r=e.type;return r===2?e.declTNode:r===1?t[sr]:null}function eh(t){return HI(wn(),t)}var vc="__parameters__";function YI(t){return function(...r){if(t){let n=t(...r);for(let i in n)this[i]=n[i]}}}function pm(t,e,r){return Gs(()=>{let n=YI(e);function i(...c){if(this instanceof i)return n.apply(this,c),this;let f=new i(...c);return p.annotation=f,p;function p(x,m,E){let D=x.hasOwnProperty(vc)?x[vc]:Object.defineProperty(x,vc,{value:[]})[vc];for(;D.length<=E;)D.push(null);return(D[E]=D[E]||[]).push(f),x}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ZI(t){return typeof t=="function"}function XI(t,e,r){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],c=e[n];if(r&&(i=r(i),c=r(c)),c!==i)return!1}return!0}function qI(t){return t.flat(Number.POSITIVE_INFINITY)}function th(t,e){t.forEach(r=>Array.isArray(r)?th(r,e):e(r))}function gm(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function Uc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function QI(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(i===1)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;){let c=i-2;t[i]=t[c],i--}t[e]=r,t[e+1]=n}}function KI(t,e,r){let n=Zs(t,e);return n>=0?t[n|1]=r:(n=~n,QI(t,n,e,r)),n}function Td(t,e){let r=Zs(t,e);if(r>=0)return t[r|1]}function Zs(t,e){return JI(t,e,1)}function JI(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){let c=n+(i-n>>1),f=t[c<<r];if(e===f)return c<<r;f>e?i=c:n=c+1}return~(i<<r)}var dl=D1(pm("Optional"),8);var nh=D1(pm("SkipSelf"),4);var Qi=new ue("ENVIRONMENT_INITIALIZER"),mm=new ue("INJECTOR",-1),ym=new ue("INJECTOR_DEF_TYPES"),jc=class{get(e,r=Rs){if(r===Rs){let n=new Error(`NullInjectorError: No provider for ${sn(e)}!`);throw n.name="NullInjectorError",n}return r}};function yi(t){return{\u0275providers:t}}function e2(...t){return{\u0275providers:Cm(!0,t),\u0275fromNgModule:!0}}function Cm(t,...e){let r=[],n=new Set,i,c=f=>{r.push(f)};return th(e,f=>{let p=f;ef(p,c,[],n)&&(i||=[],i.push(p))}),i!==void 0&&xm(i,c),r}function xm(t,e){for(let r=0;r<t.length;r++){let{ngModule:n,providers:i}=t[r];rh(i,c=>{e(c,n)})}}function ef(t,e,r,n){if(t=on(t),!t)return!1;let i=null,c=F0(t),f=!c&&li(t);if(!c&&!f){let x=t.ngModule;if(c=F0(x),c)i=x;else return!1}else{if(f&&!f.standalone)return!1;i=t}let p=n.has(i);if(f){if(p)return!1;if(n.add(i),f.dependencies){let x=typeof f.dependencies=="function"?f.dependencies():f.dependencies;for(let m of x)ef(m,e,r,n)}}else if(c){if(c.imports!=null&&!p){n.add(i);let m;try{th(c.imports,E=>{ef(E,e,r,n)&&(m||=[],m.push(E))})}finally{}m!==void 0&&xm(m,e)}if(!p){let m=Yi(i)||(()=>new i);e({provide:i,useFactory:m,deps:bn},i),e({provide:ym,useValue:i,multi:!0},i),e({provide:Qi,useValue:()=>ae(i),multi:!0},i)}let x=c.providers;if(x!=null&&!p){let m=t;rh(x,E=>{e(E,m)})}}else return!1;return i!==t&&t.providers!==void 0}function rh(t,e){for(let r of t)y1(r)&&(r=r.\u0275providers),Array.isArray(r)?rh(r,e):e(r)}var t2=rt({provide:String,useValue:rt});function wm(t){return t!==null&&typeof t=="object"&&t2 in t}function n2(t){return!!(t&&t.useExisting)}function r2(t){return!!(t&&t.useFactory)}function jo(t){return typeof t=="function"}function i2(t){return!!t.useClass}var fl=new ue("Set Injector scope."),Mc={},o2={},Md;function ih(){return Md===void 0&&(Md=new jc),Md}var an=class{},Us=class extends an{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nf(e,f=>this.processProvider(f)),this.records.set(mm,Oo(void 0,this)),i.has("environment")&&this.records.set(an,Oo(void 0,this));let c=this.records.get(fl);c!=null&&typeof c.value=="string"&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(ym,bn,Ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let r=ai(this),n=Cn(void 0),i;try{return e()}finally{ai(r),Cn(n)}}get(e,r=Rs,n=Ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(O0))return e[O0](this);n=il(n);let i,c=ai(this),f=Cn(void 0);try{if(!(n&Ne.SkipSelf)){let x=this.records.get(e);if(x===void 0){let m=u2(e)&&rl(e);m&&this.injectableDefInScope(m)?x=Oo(tf(e),Mc):x=null,this.records.set(e,x)}if(x!=null)return this.hydrate(e,x)}let p=n&Ne.Self?ih():this.parent;return r=n&Ne.Optional&&r===Rs?null:r,p.get(e,r)}catch(p){if(p.name==="NullInjectorError"){if((p[Fc]=p[Fc]||[]).unshift(sn(e)),c)throw p;return GE(p,e,"R3InjectorError",this.source)}else throw p}finally{Cn(f),ai(c)}}resolveInjectorInitializers(){let e=ai(this),r=Cn(void 0),n;try{let i=this.get(Qi,bn,Ne.Self);for(let c of i)c()}finally{ai(e),Cn(r)}}toString(){let e=[],r=this.records;for(let n of r.keys())e.push(sn(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(e){e=on(e);let r=jo(e)?e:on(e&&e.provide),n=a2(e);if(!jo(e)&&e.multi===!0){let i=this.records.get(r);i||(i=Oo(void 0,Mc,!0),i.factory=()=>$d(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){return r.value===Mc&&(r.value=o2,r.value=r.factory()),typeof r.value=="object"&&r.value&&l2(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(e){if(!e.providedIn)return!1;let r=on(e.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){let r=this._onDestroyHooks.indexOf(e);r!==-1&&this._onDestroyHooks.splice(r,1)}};function tf(t){let e=rl(t),r=e!==null?e.factory:Yi(t);if(r!==null)return r;if(t instanceof ue)throw new ce(204,!1);if(t instanceof Function)return s2(t);throw new ce(204,!1)}function s2(t){if(t.length>0)throw new ce(204,!1);let r=PE(t);return r!==null?()=>r.factory(t):()=>new t}function a2(t){if(wm(t))return Oo(void 0,t.useValue);{let e=vm(t);return Oo(e,Mc)}}function vm(t,e,r){let n;if(jo(t)){let i=on(t);return Yi(i)||tf(i)}else if(wm(t))n=()=>on(t.useValue);else if(r2(t))n=()=>t.useFactory(...$d(t.deps||[]));else if(n2(t))n=()=>ae(on(t.useExisting));else{let i=on(t&&(t.useClass||t.provide));if(c2(t))n=()=>new i(...$d(t.deps));else return Yi(i)||tf(i)}return n}function Oo(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function c2(t){return!!t.deps}function l2(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function u2(t){return typeof t=="function"||typeof t=="object"&&t instanceof ue}function nf(t,e){for(let r of t)Array.isArray(r)?nf(r,e):r&&y1(r)?nf(r.\u0275providers,e):e(r)}function Ir(t,e){t instanceof Us&&t.assertNotDestroyed();let r,n=ai(t),i=Cn(void 0);try{return e()}finally{ai(n),Cn(i)}}function d2(t){if(!E1()&&!jE())throw new ce(-203,!1)}function $0(t,e=null,r=null,n){let i=Em(t,e,r,n);return i.resolveInjectorInitializers(),i}function Em(t,e=null,r=null,n,i=new Set){let c=[r||bn,e2(t)];return n=n||(typeof t=="object"?void 0:sn(t)),new Us(c,e||ih(),n||null,i)}var ar=(()=>{let e=class e{static create(n,i){if(Array.isArray(n))return $0({name:""},i,n,"");{let c=n.name??"";return $0({name:c},n.parent,n.providers,c)}}};e.THROW_IF_NOT_FOUND=Rs,e.NULL=new jc,e.\u0275prov=ie({token:e,providedIn:"any",factory:()=>ae(mm)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var rf;function Im(t){rf=t}function hl(){if(rf!==void 0)return rf;if(typeof document<"u")return document;throw new ce(210,!1)}var pl=new ue("AppId",{providedIn:"root",factory:()=>f2}),f2="ng",oh=new ue("Platform Initializer"),cr=new ue("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var sh=new ue("CSP nonce",{providedIn:"root",factory:()=>hl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function h2(t){return t.ownerDocument.body}function Dm(t){return t instanceof Function?t():t}function Ns(t){return(t??Z(ar)).get(cr)==="browser"}var p2="ngSkipHydration",g2="ngskiphydration";function Am(t){let e=t.mergedAttrs;if(e===null)return!1;for(let r=0;r<e.length;r+=2){let n=e[r];if(typeof n=="number")return!1;if(typeof n=="string"&&n.toLowerCase()===g2)return!0}return!1}function bm(t){return t.hasAttribute(p2)}function Hc(t){return(t.flags&128)===128}function m2(t){if(Hc(t))return!0;let e=t.parent;for(;e;){if(Hc(t)||Am(e))return!0;e=e.parent}return!1}var kr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(kr||{}),y2=/^>|^->|<!--|-->|--!>|<!-$/g,C2=/(<|>)/g,x2="\u200B$1\u200B";function w2(t){return t.replace(y2,e=>e.replace(C2,x2))}var Sm=new Map,v2=0;function E2(){return v2++}function I2(t){Sm.set(t[ol],t)}function D2(t){Sm.delete(t[ol])}var Y0="__ngContext__";function di(t,e){Fr(e)?(t[Y0]=e[ol],I2(e)):t[Y0]=e}var A2;function ah(t,e){return A2(t,e)}function Ro(t,e,r,n,i){if(n!=null){let c,f=!1;vr(n)?c=n:Fr(n)&&(f=!0,n=n[Sn]);let p=rr(n);t===0&&r!==null?i==null?Rm(e,r,p):zc(e,r,p,i||null,!0):t===1&&r!==null?zc(e,r,p,i||null,!0):t===2?Pm(e,p,f):t===3&&e.destroyNode(p),c!=null&&H2(e,t,c,r,i)}}function _m(t,e){return t.createText(e)}function b2(t,e,r){t.setValue(e,r)}function Tm(t,e){return t.createComment(w2(e))}function ch(t,e,r){return t.createElement(e,r)}function S2(t,e){Mm(t,e),e[Sn]=null,e[sr]=null}function _2(t,e,r,n,i,c){n[Sn]=i,n[sr]=e,ml(t,n,r,1,i,c)}function Mm(t,e){e[Cr].changeDetectionScheduler?.notify(),ml(t,e,e[mt],2,null,null)}function T2(t){let e=t[Ls];if(!e)return Nd(t[De],t);for(;e;){let r=null;if(Fr(e))r=e[Ls];else{let n=e[xn];n&&(r=n)}if(!r){for(;e&&!e[tr]&&e!==t;)Fr(e)&&Nd(e[De],e),e=e[Pt];e===null&&(e=t),Fr(e)&&Nd(e[De],e),r=e&&e[tr]}e=r}}function M2(t,e,r,n){let i=xn+n,c=r.length;n>0&&(r[i-1][tr]=e),n<c-xn?(e[tr]=r[i],gm(r,xn+n,e)):(r.push(e),e[tr]=null),e[Pt]=r;let f=e[Ws];f!==null&&r!==f&&N2(f,e);let p=e[mr];p!==null&&p.insertView(t),Xd(e),e[we]|=128}function N2(t,e){let r=t[Vo],i=e[Pt][Pt][Ln];e[Ln]!==i&&(t[we]|=Hf.HasTransplantedViews),r===null?t[Vo]=[e]:r.push(e)}function Nm(t,e){let r=t[Vo],n=r.indexOf(e);r.splice(n,1)}function of(t,e){if(t.length<=xn)return;let r=xn+e,n=t[r];if(n){let i=n[Ws];i!==null&&i!==t&&Nm(i,n),e>0&&(t[r-1][tr]=n[tr]);let c=Uc(t,xn+e);S2(n[De],n);let f=c[mr];f!==null&&f.detachView(c[De]),n[Pt]=null,n[tr]=null,n[we]&=-129}return n}function Om(t,e){if(!(e[we]&256)){let r=e[mt];r.destroyNode&&ml(t,e,r,3,null,null),T2(e)}}function Nd(t,e){if(!(e[we]&256)){e[we]&=-129,e[we]|=256,e[$i]&&o0(e[$i]),R2(t,e),O2(t,e),e[De].type===1&&e[mt].destroy();let r=e[Ws];if(r!==null&&vr(e[Pt])){r!==e[Pt]&&Nm(r,e);let n=e[mr];n!==null&&n.detachView(t)}D2(e)}}function O2(t,e){let r=t.cleanup,n=e[Ps];if(r!==null)for(let c=0;c<r.length-1;c+=2)if(typeof r[c]=="string"){let f=r[c+3];f>=0?n[f]():n[-f].unsubscribe(),c+=2}else{let f=n[r[c+1]];r[c].call(f)}n!==null&&(e[Ps]=null);let i=e[ci];if(i!==null){e[ci]=null;for(let c=0;c<i.length;c++){let f=i[c];f()}}}function R2(t,e){let r;if(t!=null&&(r=t.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=e[r[n]];if(!(i instanceof Xi)){let c=r[n+1];if(Array.isArray(c))for(let f=0;f<c.length;f+=2){let p=i[c[f]],x=c[f+1];pr(4,p,x);try{x.call(p)}finally{pr(5,p,x)}}else{pr(4,i,c);try{c.call(i)}finally{pr(5,i,c)}}}}}function F2(t,e,r){return P2(t,e.parent,r)}function P2(t,e,r){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return r[Sn];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:c}=t.data[n.directiveStart+i];if(c===yr.None||c===yr.Emulated)return null}return _n(n,r)}}function zc(t,e,r,n,i){t.insertBefore(e,r,n,i)}function Rm(t,e,r){t.appendChild(e,r)}function Z0(t,e,r,n,i){n!==null?zc(t,e,r,n,i):Rm(t,e,r)}function L2(t,e,r,n){t.removeChild(e,r,n)}function lh(t,e){return t.parentNode(e)}function k2(t,e){return t.nextSibling(e)}function B2(t,e,r){return U2(t,e,r)}function V2(t,e,r){return t.type&40?_n(t,r):null}var U2=V2,X0;function gl(t,e,r,n){let i=F2(t,n,e),c=e[mt],f=n.parent||e[sr],p=B2(f,n,e);if(i!=null)if(Array.isArray(r))for(let x=0;x<r.length;x++)Z0(c,i,r[x],p,!1);else Z0(c,i,r,p,!1);X0!==void 0&&X0(c,n,e,r,i)}function Nc(t,e){if(e!==null){let r=e.type;if(r&3)return _n(e,t);if(r&4)return sf(-1,t[e.index]);if(r&8){let n=e.child;if(n!==null)return Nc(t,n);{let i=t[e.index];return vr(i)?sf(-1,i):rr(i)}}else{if(r&32)return ah(e,t)()||rr(t[e.index]);{let n=Fm(t,e);if(n!==null){if(Array.isArray(n))return n[0];let i=Vs(t[Ln]);return Nc(i,n)}else return Nc(t,e.next)}}}return null}function Fm(t,e){if(e!==null){let n=t[Ln][sr],i=e.projection;return n.projection[i]}return null}function sf(t,e){let r=xn+t+1;if(r<e.length){let n=e[r],i=n[De].firstChild;if(i!==null)return Nc(n,i)}return e[Lr]}function Pm(t,e,r){let n=lh(t,e);n&&L2(t,n,e,r)}function Lm(t){t.textContent=""}function uh(t,e,r,n,i,c,f){for(;r!=null;){let p=n[r.index],x=r.type;if(f&&e===0&&(p&&di(rr(p),n),r.flags|=2),(r.flags&32)!==32)if(x&8)uh(t,e,r.child,n,i,c,!1),Ro(e,t,i,p,c);else if(x&32){let m=ah(r,n),E;for(;E=m();)Ro(e,t,i,E,c);Ro(e,t,i,p,c)}else x&16?j2(t,e,n,r,i,c):Ro(e,t,i,p,c);r=f?r.projectionNext:r.next}}function ml(t,e,r,n,i,c){uh(r,n,t.firstChild,e,i,c,!1)}function j2(t,e,r,n,i,c){let f=r[Ln],x=f[sr].projection[n.projection];if(Array.isArray(x))for(let m=0;m<x.length;m++){let E=x[m];Ro(e,t,i,E,c)}else{let m=x,E=f[Pt];Hc(n)&&(m.flags|=128),uh(t,e,m,E,i,c,!0)}}function H2(t,e,r,n,i){let c=r[Lr],f=rr(r);c!==f&&Ro(e,t,n,c,i);for(let p=xn;p<r.length;p++){let x=r[p];ml(x[De],x,t,e,n,c)}}function z2(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let c=n.indexOf("-")===-1?void 0:kr.DashCase;i==null?t.removeStyle(r,n,c):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),c|=kr.Important),t.setStyle(r,n,i,c))}}function G2(t,e,r){t.setAttribute(e,"style",r)}function km(t,e,r){r===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function Bm(t,e,r){let{mergedAttrs:n,classes:i,styles:c}=r;n!==null&&Yd(t,e,n),i!==null&&km(t,e,i),c!==null&&G2(t,e,c)}var Ec;function W2(){if(Ec===void 0&&(Ec=null,er.trustedTypes))try{Ec=er.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ec}function q0(t){return W2()?.createScriptURL(t)||t}var Gc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${C1})`}};function Xs(t){return t instanceof Gc?t.changingThisBreaksApplicationSecurity:t}function dh(t,e){let r=$2(t);if(r!=null&&r!==e){if(r==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${r} (see ${C1})`)}return r===e}function $2(t){return t instanceof Gc&&t.getTypeName()||null}var Y2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vm(t){return t=String(t),t.match(Y2)?t:"unsafe:"+t}var yl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yl||{});function qs(t){let e=jm();return e?e.sanitize(yl.URL,t)||"":dh(t,"URL")?Xs(t):Vm(rn(t))}function Z2(t){let e=jm();if(e)return q0(e.sanitize(yl.RESOURCE_URL,t)||"");if(dh(t,"ResourceURL"))return q0(Xs(t));throw new ce(904,!1)}function X2(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Z2:qs}function Um(t,e,r){return X2(e,r)(t)}function jm(){let t=Fe();return t&&t[Cr].sanitizer}var af=class{};function q2(){let t=new no;return Z(cr)==="browser"&&(t.store=Q2(hl(),Z(pl))),t}var no=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(n,i){return this.store[n]!==void 0?this.store[n]:i}set(n,i){this.store[n]=i}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,i){this.onSerializeCallbacks[n]=i}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=ie({token:e,providedIn:"root",factory:q2});let t=e;return t})();function Q2(t,e){let r=t.getElementById(e+"-state");if(r?.textContent)try{return JSON.parse(r.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+e,n)}return{}}var Hm="h",zm="b",cf=function(t){return t.FirstChild="f",t.NextSibling="n",t}(cf||{}),K2="e",J2="t",fh="c",Gm="x",Wc="r",eD="i",tD="n",nD="d",rD="__nghData__",Wm=rD,Od="ngh",iD="nghm",$m=()=>null;function oD(t,e,r=!1){let n=t.getAttribute(Od);if(n==null)return null;let[i,c]=n.split("|");if(n=r?c:i,!n)return null;let f=r?i:c?`|${c}`:"",p={};if(n!==""){let m=e.get(no,null,{optional:!0});m!==null&&(p=m.get(Wm,[])[Number(n)])}let x={data:p,firstChild:t.firstChild??null};return r&&(x.firstChild=t,Cl(x,0,t.nextSibling)),f?t.setAttribute(Od,f):t.removeAttribute(Od),x}function sD(){$m=oD}function hh(t,e,r=!1){return $m(t,e,r)}function aD(t){let e=t._lView;return e[De].type===2?null:(B1(e)&&(e=e[Lt]),e)}function cD(t){return t.textContent?.replace(/\s/gm,"")}function lD(t){let e=hl(),r=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(c){let f=cD(c);return f==="ngetn"||f==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),n,i=[];for(;n=r.nextNode();)i.push(n);for(let c of i)c.textContent==="ngetn"?c.replaceWith(e.createTextNode("")):c.remove()}function Cl(t,e,r){t.segmentHeads??={},t.segmentHeads[e]=r}function lf(t,e){return t.segmentHeads?.[e]??null}function uD(t,e){let r=t.data,n=r[K2]?.[e]??null;return n===null&&r[fh]?.[e]&&(n=ph(t,e)),n}function Ym(t,e){return t.data[fh]?.[e]??null}function ph(t,e){let r=Ym(t,e)??[],n=0;for(let i of r)n+=i[Wc]*(i[Gm]??1);return n}function xl(t,e){if(typeof t.disconnectedNodes>"u"){let r=t.data[nD];t.disconnectedNodes=r?new Set(r):null}return!!t.disconnectedNodes?.has(e)}var uf=class{},$c=class{};function dD(t){let e=Error(`No component factory found for ${sn(t)}.`);return e[fD]=t,e}var fD="ngComponent";var df=class{resolveComponentFactory(e){throw dD(e)}},wl=(()=>{let e=class e{};e.NULL=new df;let t=e;return t})();function hD(){return Wo(wn(),Fe())}function Wo(t,e){return new Tn(_n(t,e))}var Tn=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=hD;let t=e;return t})();function pD(t){return t instanceof Tn?t.nativeElement:t}var js=class{},Vr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>gD();let t=e;return t})();function gD(){let t=Fe(),e=wn(),r=pi(e.index,t);return(Fr(r)?r:t)[mt]}var mD=(()=>{let e=class e{};e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Rd={};function gh(t){let e=nn(null);try{return t()}finally{nn(e)}}function Zm(t){return CD(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function yD(t,e){if(Array.isArray(t))for(let r=0;r<t.length;r++)e(t[r]);else{let r=t[Symbol.iterator](),n;for(;!(n=r.next()).done;)e(n.value)}}function CD(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var ff=class{constructor(){}supports(e){return Zm(e)}create(e){return new hf(e)}},xD=(t,e)=>e,hf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xD}forEachItem(e){let r;for(r=this._itHead;r!==null;r=r._next)e(r)}forEachOperation(e){let r=this._itHead,n=this._removalsHead,i=0,c=null;for(;r||n;){let f=!n||r&&r.currentIndex<Q0(n,i,c)?r:n,p=Q0(f,i,c),x=f.currentIndex;if(f===n)i--,n=n._nextRemoved;else if(r=r._next,f.previousIndex==null)i++;else{c||(c=[]);let m=p-i,E=x-i;if(m!=E){for(let T=0;T<m;T++){let N=T<c.length?c[T]:c[T]=0,H=N+T;E<=H&&H<m&&(c[T]=N+1)}let D=f.previousIndex;c[D]=E-m}}p!==x&&e(f,p,x)}}forEachPreviousItem(e){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)e(r)}forEachMovedItem(e){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)e(r)}forEachIdentityChange(e){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)e(r)}diff(e){if(e==null&&(e=[]),!Zm(e))throw new ce(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r=this._itHead,n=!1,i,c,f;if(Array.isArray(e)){this.length=e.length;for(let p=0;p<this.length;p++)c=e[p],f=this._trackByFn(p,c),r===null||!Object.is(r.trackById,f)?(r=this._mismatch(r,c,f,p),n=!0):(n&&(r=this._verifyReinsertion(r,c,f,p)),Object.is(r.item,c)||this._addIdentityChange(r,c)),r=r._next}else i=0,yD(e,p=>{f=this._trackByFn(i,p),r===null||!Object.is(r.trackById,f)?(r=this._mismatch(r,p,f,i),n=!0):(n&&(r=this._verifyReinsertion(r,p,f,i)),Object.is(r.item,p)||this._addIdentityChange(r,p)),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,r,n,i){let c;return e===null?c=this._itTail:(c=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._reinsertAfter(e,c,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,i),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._moveAfter(e,c,i)):e=this._addAfter(new pf(r,n),c,i)),e}_verifyReinsertion(e,r,n,i){let c=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return c!==null?e=this._reinsertAfter(c,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let r=e._next;this._addToRemovals(this._unlink(e)),e=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,r,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,c=e._nextRemoved;return i===null?this._removalsHead=c:i._nextRemoved=c,c===null?this._removalsTail=i:c._prevRemoved=i,this._insertAfter(e,r,n),this._addToMoves(e,n),e}_moveAfter(e,r,n){return this._unlink(e),this._insertAfter(e,r,n),this._addToMoves(e,n),e}_addAfter(e,r,n){return this._insertAfter(e,r,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,r,n){let i=r===null?this._itHead:r._next;return e._next=i,e._prev=r,i===null?this._itTail=e:i._prev=e,r===null?this._itHead=e:r._next=e,this._linkedRecords===null&&(this._linkedRecords=new Yc),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let r=e._prev,n=e._next;return r===null?this._itHead=n:r._next=n,n===null?this._itTail=r:n._prev=r,e}_addToMoves(e,r){return e.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Yc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,r){return e.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},pf=class{constructor(e,r){this.item=e,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},gf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,r){let n;for(n=this._head;n!==null;n=n._nextDup)if((r===null||r<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let r=e._prevDup,n=e._nextDup;return r===null?this._head=n:r._nextDup=n,n===null?this._tail=r:n._prevDup=r,this._head===null}},Yc=class{constructor(){this.map=new Map}put(e){let r=e.trackById,n=this.map.get(r);n||(n=new gf,this.map.set(r,n)),n.add(e)}get(e,r){let n=e,i=this.map.get(n);return i?i.get(e,r):null}remove(e){let r=e.trackById;return this.map.get(r).remove(e)&&this.map.delete(r),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Q0(t,e,r){let n=t.previousIndex;if(n===null)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+e+i}function K0(){return new mh([new ff])}var mh=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,i){if(i!=null){let c=i.factories.slice();n=n.concat(c)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||K0()),deps:[[e,new nh,new dl]]}}find(n){let i=this.factories.find(c=>c.supports(n));if(i!=null)return i;throw new ce(901,!1)}};e.\u0275prov=ie({token:e,providedIn:"root",factory:K0});let t=e;return t})();function Zc(t,e,r,n,i=!1){for(;r!==null;){let c=e[r.index];c!==null&&n.push(rr(c)),vr(c)&&wD(c,n);let f=r.type;if(f&8)Zc(t,e,r.child,n);else if(f&32){let p=ah(r,e),x;for(;x=p();)n.push(x)}else if(f&16){let p=Fm(e,r);if(Array.isArray(p))n.push(...p);else{let x=Vs(e[Ln]);Zc(x[De],x,p,n,!0)}}r=i?r.projectionNext:r.next}return n}function wD(t,e){for(let r=xn;r<t.length;r++){let n=t[r],i=n[De].firstChild;i!==null&&Zc(n[De],n,i,e)}t[Lr]!==t[Sn]&&e.push(t[Lr])}var Xm=[];function vD(t){return t[$i]??ED(t)}function ED(t){let e=Xm.pop()??Object.create(DD);return e.lView=t,e}function ID(t){t.lView[$i]!==t&&(t.lView=null,Xm.push(t))}var DD=nt(ee({},n0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Bs(t.lView)},consumerOnSignalRead(){this.lView[$i]=this}});function qm(t){return Km(t[Ls])}function Qm(t){return Km(t[tr])}function Km(t){for(;t!==null&&!vr(t);)t=t[tr];return t}var AD="ngOriginalError";function Fd(t){return t[AD]}var xr=class{constructor(){this._console=console}handleError(e){let r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&Fd(e);for(;r&&Fd(r);)r=Fd(r);return r||null}},Jm=new ue("",{providedIn:"root",factory:()=>Z(xr).handleError.bind(void 0)}),Ic=new ue(""),ey=!1,ty=new ue("",{providedIn:"root",factory:()=>ey});var cn={};function $(t=1){ny(Gt(),Fe(),Br()+t,!1)}function ny(t,e,r,n){if(!n)if((e[we]&3)===3){let c=t.preOrderCheckHooks;c!==null&&Sc(e,c,r)}else{let c=t.preOrderHooks;c!==null&&_c(e,c,0,r)}Zi(r)}function Q(t,e=Ne.Default){let r=Fe();if(r===null)return ae(t,e);let n=wn();return dm(n,r,on(t),e)}function ry(){let t="invalid";throw new Error(t)}function bD(t,e){let r=t.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)Zi(~i);else{let c=i,f=r[++n],p=r[++n];_I(f,c);let x=e[c];p(2,x)}}}finally{Zi(-1)}}function vl(t,e,r,n,i,c,f,p,x,m,E){let D=e.blueprint.slice();return D[Sn]=i,D[we]=n|4|128|8|64,(m!==null||t&&t[we]&2048)&&(D[we]|=2048),G1(D),D[Pt]=D[Go]=t,D[nr]=r,D[Cr]=f||t&&t[Cr],D[mt]=p||t&&t[mt],D[Bo]=x||t&&t[Bo]||null,D[sr]=c,D[ol]=E2(),D[Pr]=E,D[L1]=m,D[Ln]=e.type==2?t[Ln]:D,D}function Qs(t,e,r,n,i){let c=t.data[e];if(c===null)c=SD(t,e,r,n,i),SI()&&(c.flags|=32);else if(c.type&64){c.type=r,c.value=n,c.attrs=i;let f=DI();c.injectorIndex=f===null?-1:f.injectorIndex}return to(c,!0),c}function SD(t,e,r,n,i){let c=Z1(),f=$f(),p=f?c:c&&c.parent,x=t.data[e]=FD(t,p,r,e,n,i);return t.firstChild===null&&(t.firstChild=x),c!==null&&(f?c.child==null&&x.parent!==null&&(c.child=x):c.next===null&&(c.next=x,x.prev=c)),x}function iy(t,e,r,n){if(r===0)return-1;let i=e.length;for(let c=0;c<r;c++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function oy(t,e,r,n,i){let c=Br(),f=n&2;try{Zi(-1),f&&e.length>Lt&&ny(t,e,Lt,!1),pr(f?2:0,i),r(n,i)}finally{Zi(c),pr(f?3:1,i)}}function yh(t,e,r){if(zf(e)){let n=nn(null);try{let i=e.directiveStart,c=e.directiveEnd;for(let f=i;f<c;f++){let p=t.data[f];p.contentQueries&&p.contentQueries(1,r[f],f)}}finally{nn(n)}}}function Ch(t,e,r){Y1()&&(UD(t,e,r,_n(r,e)),(r.flags&64)===64&&uy(t,e,r))}function xh(t,e,r=_n){let n=e.localNames;if(n!==null){let i=e.index+1;for(let c=0;c<n.length;c+=2){let f=n[c+1],p=f===-1?r(e,t):t[f];t[i++]=p}}}function sy(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=wh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function wh(t,e,r,n,i,c,f,p,x,m,E){let D=Lt+n,T=D+i,N=_D(D,T),H=typeof m=="function"?m():m;return N[De]={type:t,blueprint:N,template:r,queries:null,viewQuery:p,declTNode:e,data:N.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:T,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof c=="function"?c():c,pipeRegistry:typeof f=="function"?f():f,firstChild:null,schemas:x,consts:H,incompleteFirstPass:!1,ssrId:E}}function _D(t,e){let r=[];for(let n=0;n<e;n++)r.push(n<t?null:cn);return r}function TD(t,e,r,n){let c=n.get(ty,ey)||r===yr.ShadowDom,f=t.selectRootElement(e,c);return MD(f),f}function MD(t){ay(t)}var ay=()=>null;function ND(t){bm(t)?Lm(t):lD(t)}function OD(){ay=ND}function RD(t,e,r,n){let i=py(e);i.push(r),t.firstCreatePass&&gy(t).push(n,i.length-1)}function FD(t,e,r,n,i,c){let f=e?e.injectorIndex:-1,p=0;return Ys()&&(p|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:i,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function J0(t,e,r,n){for(let i in t)if(t.hasOwnProperty(i)){r=r===null?{}:r;let c=t[i];n===null?e1(r,e,i,c):n.hasOwnProperty(i)&&e1(r,e,n[i],c)}return r}function e1(t,e,r,n){t.hasOwnProperty(r)?t[r].push(e,n):t[r]=[e,n]}function PD(t,e,r){let n=e.directiveStart,i=e.directiveEnd,c=t.data,f=e.attrs,p=[],x=null,m=null;for(let E=n;E<i;E++){let D=c[E],T=r?r.get(D):null,N=T?T.inputs:null,H=T?T.outputs:null;x=J0(D.inputs,E,x,N),m=J0(D.outputs,E,m,H);let J=x!==null&&f!==null&&!T1(e)?QD(x,E,f):null;p.push(J)}x!==null&&(x.hasOwnProperty("class")&&(e.flags|=8),x.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=p,e.inputs=x,e.outputs=m}function LD(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function cy(t,e,r,n,i,c,f,p){let x=_n(e,r),m=e.inputs,E;!p&&m!=null&&(E=m[n])?(Eh(t,r,E,n,i),$s(e)&&kD(r,e.index)):e.type&3?(n=LD(n),i=f!=null?f(i,e.value||"",n):i,c.setProperty(x,n,i)):e.type&12}function kD(t,e){let r=pi(e,t);r[we]&16||(r[we]|=64)}function vh(t,e,r,n){if(Y1()){let i=n===null?null:{"":-1},c=HD(t,r),f,p;c===null?f=p=null:[f,p]=c,f!==null&&ly(t,e,r,f,i,p),i&&zD(r,n,i)}r.mergedAttrs=Fs(r.mergedAttrs,r.attrs)}function ly(t,e,r,n,i,c){for(let m=0;m<n.length;m++)Kd(Vc(r,e),t,n[m].type);WD(r,t.data.length,n.length);for(let m=0;m<n.length;m++){let E=n[m];E.providersResolver&&E.providersResolver(E)}let f=!1,p=!1,x=iy(t,e,n.length,null);for(let m=0;m<n.length;m++){let E=n[m];r.mergedAttrs=Fs(r.mergedAttrs,E.hostAttrs),$D(t,r,e,x,E),GD(x,E,i),E.contentQueries!==null&&(r.flags|=4),(E.hostBindings!==null||E.hostAttrs!==null||E.hostVars!==0)&&(r.flags|=64);let D=E.type.prototype;!f&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),f=!0),!p&&(D.ngOnChanges||D.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),p=!0),x++}PD(t,r,c)}function BD(t,e,r,n,i){let c=i.hostBindings;if(c){let f=t.hostBindingOpCodes;f===null&&(f=t.hostBindingOpCodes=[]);let p=~e.index;VD(f)!=p&&f.push(p),f.push(r,n,c)}}function VD(t){let e=t.length;for(;e>0;){let r=t[--e];if(typeof r=="number"&&r<0)return r}return 0}function UD(t,e,r,n){let i=r.directiveStart,c=r.directiveEnd;$s(r)&&YD(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||Vc(r,e),di(n,e);let f=r.initialInputs;for(let p=i;p<c;p++){let x=t.data[p],m=qi(e,t,p,r);if(di(m,e),f!==null&&qD(e,p-i,m,x,r,f),ui(x)){let E=pi(r.index,e);E[nr]=qi(e,t,p,r)}}}function uy(t,e,r){let n=r.directiveStart,i=r.directiveEnd,c=r.index,f=TI();try{Zi(c);for(let p=n;p<i;p++){let x=t.data[p],m=e[p];qd(p),(x.hostBindings!==null||x.hostVars!==0||x.hostAttrs!==null)&&jD(x,m)}}finally{Zi(-1),qd(f)}}function jD(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function HD(t,e){let r=t.directiveRegistry,n=null,i=null;if(r)for(let c=0;c<r.length;c++){let f=r[c];if(QE(e,f.selectors,!1))if(n||(n=[]),ui(f))if(f.findHostDirectiveDefs!==null){let p=[];i=i||new Map,f.findHostDirectiveDefs(f,p,i),n.unshift(...p,f);let x=p.length;mf(t,e,x)}else n.unshift(f),mf(t,e,0);else i=i||new Map,f.findHostDirectiveDefs?.(f,n,i),n.push(f)}return n===null?null:[n,i]}function mf(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function zD(t,e,r){if(e){let n=t.localNames=[];for(let i=0;i<e.length;i+=2){let c=r[e[i+1]];if(c==null)throw new ce(-301,!1);n.push(e[i],c)}}}function GD(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;ui(e)&&(r[""]=t)}}function WD(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}function $D(t,e,r,n,i){t.data[n]=i;let c=i.factory||(i.factory=Yi(i.type,!0)),f=new Xi(c,ui(i),Q);t.blueprint[n]=f,r[n]=f,BD(t,e,n,iy(t,r,i.hostVars,cn),i)}function YD(t,e,r){let n=_n(e,t),i=sy(r),c=t[Cr].rendererFactory,f=16;r.signals?f=4096:r.onPush&&(f=64);let p=El(t,vl(t,i,null,f,n,e,null,c.createRenderer(n,r),null,null,null));t[e.index]=p}function ZD(t,e,r,n,i,c){let f=_n(t,e);XD(e[mt],f,c,t.value,r,n,i)}function XD(t,e,r,n,i,c,f){if(c==null)t.removeAttribute(e,i,r);else{let p=f==null?rn(c):f(c,n||"",i);t.setAttribute(e,i,p,r)}}function qD(t,e,r,n,i,c){let f=c[e];if(f!==null)for(let p=0;p<f.length;){let x=f[p++],m=f[p++],E=f[p++];dy(n,r,x,m,E)}}function dy(t,e,r,n,i){let c=nn(null);try{let f=t.inputTransforms;f!==null&&f.hasOwnProperty(n)&&(i=f[n].call(e,i)),t.setInput!==null?t.setInput(e,i,r,n):e[n]=i}finally{nn(c)}}function QD(t,e,r){let n=null,i=0;for(;i<r.length;){let c=r[i];if(c===0){i+=4;continue}else if(c===5){i+=2;continue}if(typeof c=="number")break;if(t.hasOwnProperty(c)){n===null&&(n=[]);let f=t[c];for(let p=0;p<f.length;p+=2)if(f[p]===e){n.push(c,f[p+1],r[i+1]);break}}i+=2}return n}function fy(t,e,r,n){return[t,!0,0,e,null,n,null,r,null,null]}function hy(t,e){let r=t.contentQueries;if(r!==null){let n=nn(null);try{for(let i=0;i<r.length;i+=2){let c=r[i],f=r[i+1];if(f!==-1){let p=t.data[f];Xf(c),p.contentQueries(2,e[f],f)}}}finally{nn(n)}}}function El(t,e){return t[Ls]?t[j0][tr]=e:t[Ls]=e,t[j0]=e,e}function yf(t,e,r){Xf(0);let n=nn(null);try{e(t,r)}finally{nn(n)}}function py(t){return t[Ps]||(t[Ps]=[])}function gy(t){return t.cleanup||(t.cleanup=[])}function my(t,e){let r=t[Bo],n=r?r.get(xr,null):null;n&&n.handleError(e)}function Eh(t,e,r,n,i){for(let c=0;c<r.length;){let f=r[c++],p=r[c++],x=e[f],m=t.data[f];dy(m,x,n,p,i)}}function Il(t,e,r){let n=H1(e,t);b2(t[mt],n,r)}var KD=100;function JD(t,e=!0){let r=t[Cr],n=r.rendererFactory,i=!1;i||n.begin?.();try{eA(t)}catch(c){throw e&&my(t,c),c}finally{i||(n.end?.(),r.inlineEffectRunner?.flush())}}function eA(t){Cf(t,0);let e=0;for(;W1(t);){if(e===KD)throw new ce(103,!1);e++,Cf(t,1)}}function tA(t,e,r,n){let i=e[we];if((i&256)===256)return;let c=!1;!c&&e[Cr].inlineEffectRunner?.flush(),qf(e);let f=null,p=null;!c&&nA(t)&&(p=vD(e),f=r0(p));try{G1(e),bI(t.bindingStartIndex),r!==null&&oy(t,e,r,2,n);let x=(i&3)===3;if(!c)if(x){let D=t.preOrderCheckHooks;D!==null&&Sc(e,D,null)}else{let D=t.preOrderHooks;D!==null&&_c(e,D,0,null),Sd(e,0)}if(rA(e),yy(e,0),t.contentQueries!==null&&hy(t,e),!c)if(x){let D=t.contentCheckHooks;D!==null&&Sc(e,D)}else{let D=t.contentHooks;D!==null&&_c(e,D,1),Sd(e,1)}bD(t,e);let m=t.components;m!==null&&xy(e,m,0);let E=t.viewQuery;if(E!==null&&yf(2,E,n),!c)if(x){let D=t.viewCheckHooks;D!==null&&Sc(e,D)}else{let D=t.viewHooks;D!==null&&_c(e,D,2),Sd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[bd]){for(let D of e[bd])D();e[bd]=null}c||(e[we]&=-73)}catch(x){throw Bs(e),x}finally{p!==null&&(i0(p,f),ID(p)),Qf()}}function nA(t){return t.type!==2}function yy(t,e){for(let r=qm(t);r!==null;r=Qm(r))for(let n=xn;n<r.length;n++){let i=r[n];Cy(i,e)}}function rA(t){for(let e=qm(t);e!==null;e=Qm(e)){if(!(e[we]&Hf.HasTransplantedViews))continue;let r=e[Vo];for(let n=0;n<r.length;n++){let i=r[n],c=i[Pt];gI(i)}}}function iA(t,e,r){let n=pi(e,t);Cy(n,r)}function Cy(t,e){Wf(t)&&Cf(t,e)}function Cf(t,e){let n=t[De],i=t[we],c=t[$i],f=!!(e===0&&i&16);if(f||=!!(i&64&&e===0),f||=!!(i&1024),f||=!!(c?.dirty&&sd(c)),c&&(c.dirty=!1),t[we]&=-9217,f)tA(n,t,n.template,t[nr]);else if(i&8192){yy(t,1);let p=n.components;p!==null&&xy(t,p,1)}}function xy(t,e,r){for(let n=0;n<e.length;n++)iA(t,e[n],r)}function Ih(t){for(t[Cr].changeDetectionScheduler?.notify();t;){t[we]|=64;let e=Vs(t);if(B1(t)&&!e)return t;t=e}return null}var Ki=class{get rootNodes(){let e=this._lView,r=e[De];return Zc(r,e,r.firstChild,[])}constructor(e,r,n=!0){this._lView=e,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nr]}set context(e){this._lView[nr]=e}get destroyed(){return(this._lView[we]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pt];if(vr(e)){let r=e[Pc],n=r?r.indexOf(this):-1;n>-1&&(of(e,n),Uc(r,n))}this._attachedToViewContainer=!1}Om(this._lView[De],this._lView)}onDestroy(e){$1(this._lView,e)}markForCheck(){Ih(this._cdRefInjectingView||this._lView)}detach(){this._lView[we]&=-129}reattach(){Xd(this._lView),this._lView[we]|=128}detectChanges(){this._lView[we]|=1024,JD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Mm(this._lView[De],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=e,Xd(this._lView)}},ro=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oA;let t=e;return t})();function oA(t){return sA(wn(),Fe(),(t&16)===16)}function sA(t,e,r){if($s(t)&&!r){let n=pi(t.index,e);return new Ki(n,n)}else if(t.type&47){let n=e[Ln];return new Ki(n,e)}return null}var wy=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aA,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),xf=class extends wy{constructor(e){super(),this._lView=e}onDestroy(e){return $1(this._lView,e),()=>yI(this._lView,e)}};function aA(){return new xf(Fe())}var t1=new Set;function $o(t){t1.has(t)||(t1.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var wf=class extends gn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,r,n){let i=e,c=r||(()=>null),f=n;if(e&&typeof e=="object"){let x=e;i=x.next?.bind(x),c=x.error?.bind(x),f=x.complete?.bind(x)}this.__isAsync&&(c=Pd(c),i&&(i=Pd(i)),f&&(f=Pd(f)));let p=super.subscribe({next:i,error:c,complete:f});return e instanceof Tt&&e.add(p),p}};function Pd(t){return e=>{setTimeout(t,void 0,e)}}var Et=wf;function n1(...t){}function cA(){let t=typeof er.requestAnimationFrame=="function",e=er[t?"requestAnimationFrame":"setTimeout"],r=er[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&r){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:r}}var at=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Et(!1),this.onMicrotaskEmpty=new Et(!1),this.onStable=new Et(!1),this.onError=new Et(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=cA().nativeRequestAnimationFrame,dA(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ce(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){let c=this._inner,f=c.scheduleEventTask("NgZoneEvent: "+i,e,lA,n1,n1);try{return c.runTask(f,r,n)}finally{c.cancelTask(f)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}},lA={};function Dh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uA(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(er,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vf(t),t.isCheckStableRunning=!0,Dh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vf(t))}function dA(t){let e=()=>{uA(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,c,f,p)=>{if(fA(p))return r.invokeTask(i,c,f,p);try{return r1(t),r.invokeTask(i,c,f,p)}finally{(t.shouldCoalesceEventChangeDetection&&c.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),i1(t)}},onInvoke:(r,n,i,c,f,p,x)=>{try{return r1(t),r.invoke(i,c,f,p,x)}finally{t.shouldCoalesceRunChangeDetection&&e(),i1(t)}},onHasTask:(r,n,i,c)=>{r.hasTask(i,c),n===i&&(c.change=="microTask"?(t._hasPendingMicrotasks=c.microTask,vf(t),Dh(t)):c.change=="macroTask"&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(r,n,i,c)=>(r.handleError(i,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}function vf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function r1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function i1(t){t._nesting--,Dh(t)}function fA(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Fo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Fo||{}),hA={destroy(){}};function Ah(t,e){!e&&d2(Ah);let r=e?.injector??Z(ar);if(!Ns(r))return hA;$o("NgAfterNextRender");let n=r.get(bh),i=n.handler??=new If,c=e?.phase??Fo.MixedReadWrite,f=()=>{i.unregister(x),p()},p=r.get(wy).onDestroy(f),x=new Ef(r,c,()=>{f(),t()});return i.register(x),{destroy:f}}var Ef=class{constructor(e,r,n){this.phase=r,this.callbackFn=n,this.zone=e.get(at),this.errorHandler=e.get(xr,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},If=class{constructor(){this.executingCallbacks=!1,this.buckets={[Fo.EarlyRead]:new Set,[Fo.Write]:new Set,[Fo.MixedReadWrite]:new Set,[Fo.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let r of Object.values(this.buckets))for(let n of r)e=!0,n.invoke();this.executingCallbacks=!1;for(let r of this.deferredCallbacks)this.buckets[r.phase].add(r);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},bh=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let c of n)c();return!!this.handler?.execute()||n.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function pA(t,e){let r=pi(e,t),n=r[De];gA(n,r);let i=r[Sn];i!==null&&r[Pr]===null&&(r[Pr]=hh(i,r[Bo])),Sh(n,r,r[nr])}function gA(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}function Sh(t,e,r){qf(e);try{let n=t.viewQuery;n!==null&&yf(1,n,r);let i=t.template;i!==null&&oy(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&hy(t,e),t.staticViewQueries&&yf(2,t.viewQuery,r);let c=t.components;c!==null&&mA(e,c)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[we]&=-5,Qf()}}function mA(t,e){for(let r=0;r<e.length;r++)pA(t,e[r])}function Xc(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,c=0;if(e!==null)for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="number")c=p;else if(c==1)i=N0(i,p);else if(c==2){let x=p,m=e[++f];n=N0(n,x+": "+m+";")}}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}var qc=class extends wl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let r=li(e);return new Ho(r,this.ngModule)}};function o1(t){let e=[];for(let r in t)if(t.hasOwnProperty(r)){let n=t[r];e.push({propName:n,templateName:r})}return e}function yA(t){let e=t.toLowerCase();return e==="svg"?lI:e==="math"?uI:null}var Df=class{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=il(n);let i=this.injector.get(e,Rd,n);return i!==Rd||r===Rd?i:this.parentInjector.get(e,r,n)}},Ho=class extends $c{get inputs(){let e=this.componentDef,r=e.inputTransforms,n=o1(e.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return o1(this.componentDef.outputs)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=tI(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){i=i||this.ngModule;let c=i instanceof an?i:i?.injector;c&&this.componentDef.getStandaloneInjector!==null&&(c=this.componentDef.getStandaloneInjector(c)||c);let f=c?new Df(e,c):e,p=f.get(js,null);if(p===null)throw new ce(407,!1);let x=f.get(mD,null),m=f.get(bh,null),E=f.get(af,null),D={rendererFactory:p,sanitizer:x,inlineEffectRunner:null,afterRenderEventManager:m,changeDetectionScheduler:E},T=p.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",H=n?TD(T,n,this.componentDef.encapsulation,f):ch(T,N,yA(N)),J=512;this.componentDef.signals?J|=4096:this.componentDef.onPush||(J|=16);let Y=null;H!==null&&(Y=hh(H,f,!0));let V=wh(0,null,null,1,0,null,null,null,null,null,null),se=vl(null,V,null,J,null,null,D,T,f,null,Y);qf(se);let Ke,re;try{let j=this.componentDef,me,W=null;j.findHostDirectiveDefs?(me=[],W=new Map,j.findHostDirectiveDefs(j,me,W),me.push(j)):me=[j];let ur=CA(se,H),Zt=xA(ur,H,j,me,se,D,T);re=z1(V,Lt),H&&EA(T,j,H,n),r!==void 0&&IA(re,this.ngContentSelectors,r),Ke=vA(Zt,j,me,W,se,[DA]),Sh(V,se,null)}finally{Qf()}return new Af(this.componentType,Ke,Wo(re,se),se,re)}},Af=class extends uf{constructor(e,r,n,i,c){super(),this.location=n,this._rootLView=i,this._tNode=c,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Ki(i,void 0,!1),this.componentType=e}setInput(e,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;let c=this._rootLView;Eh(c[De],c,i,e,r),this.previousInputValues.set(e,r);let f=pi(this._tNode.index,c);Ih(f)}}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function CA(t,e){let r=t[De],n=Lt;return t[n]=e,Qs(r,n,2,"#host",null)}function xA(t,e,r,n,i,c,f){let p=i[De];wA(n,t,e,f);let x=null;e!==null&&(x=hh(e,i[Bo]));let m=c.rendererFactory.createRenderer(e,r),E=16;r.signals?E=4096:r.onPush&&(E=64);let D=vl(i,sy(r),null,E,i[t.index],t,c,m,null,null,x);return p.firstCreatePass&&mf(p,t,n.length-1),El(i,D),i[t.index]=D}function wA(t,e,r,n){for(let i of t)e.mergedAttrs=Fs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Xc(e,e.mergedAttrs,!0),r!==null&&Bm(n,r,e))}function vA(t,e,r,n,i,c){let f=wn(),p=i[De],x=_n(f,i);ly(p,i,f,r,null,n);for(let E=0;E<r.length;E++){let D=f.directiveStart+E,T=qi(i,p,D,f);di(T,i)}uy(p,i,f),x&&di(x,i);let m=qi(i,p,f.directiveStart+f.componentOffset,f);if(t[nr]=i[nr]=m,c!==null)for(let E of c)E(m,e);return yh(p,f,t),m}function EA(t,e,r,n){if(n)Yd(t,r,["ng-version","17.0.9"]);else{let{attrs:i,classes:c}=nI(e.selectors[0]);i&&Yd(t,r,i),c&&c.length>0&&km(t,r,c.join(" "))}}function IA(t,e,r){let n=t.projection=[];for(let i=0;i<e.length;i++){let c=r[i];n.push(c!=null?Array.from(c):null)}}function DA(){let t=wn();ul(Fe()[De],t)}function AA(t){return Object.getPrototypeOf(t.prototype).constructor}function kn(t){let e=AA(t.type),r=!0,n=[t];for(;e;){let i;if(ui(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ce(903,!1);i=e.\u0275dir}if(i){if(r){n.push(i);let f=t;f.inputs=Dc(t.inputs),f.inputTransforms=Dc(t.inputTransforms),f.declaredInputs=Dc(t.declaredInputs),f.outputs=Dc(t.outputs);let p=i.hostBindings;p&&TA(t,p);let x=i.viewQuery,m=i.contentQueries;if(x&&SA(t,x),m&&_A(t,m),wc(t.inputs,i.inputs),wc(t.declaredInputs,i.declaredInputs),wc(t.outputs,i.outputs),i.inputTransforms!==null&&(f.inputTransforms===null&&(f.inputTransforms={}),wc(f.inputTransforms,i.inputTransforms)),ui(i)&&i.data.animation){let E=t.data;E.animation=(E.animation||[]).concat(i.data.animation)}}let c=i.features;if(c)for(let f=0;f<c.length;f++){let p=c[f];p&&p.ngInherit&&p(t),p===kn&&(r=!1)}}e=Object.getPrototypeOf(e)}bA(n)}function bA(t){let e=0,r=null;for(let n=t.length-1;n>=0;n--){let i=t[n];i.hostVars=e+=i.hostVars,i.hostAttrs=Fs(i.hostAttrs,r=Fs(r,i.hostAttrs))}}function Dc(t){return t===ko?{}:t===bn?[]:t}function SA(t,e){let r=t.viewQuery;r?t.viewQuery=(n,i)=>{e(n,i),r(n,i)}:t.viewQuery=e}function _A(t,e){let r=t.contentQueries;r?t.contentQueries=(n,i,c)=>{e(n,i,c),r(n,i,c)}:t.contentQueries=e}function TA(t,e){let r=t.hostBindings;r?t.hostBindings=(n,i)=>{e(n,i),r(n,i)}:t.hostBindings=e}function _h(t){let e=t.inputConfig,r={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];Array.isArray(i)&&i[2]&&(r[n]=i[2])}t.inputTransforms=r}function Th(t,e,r){return t[e]=r}function MA(t,e){return t[e]}function fi(t,e,r){let n=t[e];return Object.is(n,r)?!1:(t[e]=r,!0)}function Qc(t,e,r,n){let i=fi(t,e,r);return fi(t,e+1,n)||i}function vy(t,e,r,n,i,c){let f=Qc(t,e,r,n);return Qc(t,e+2,i,c)||f}function io(t,e,r,n){let i=Fe(),c=Zf();if(fi(i,c,e)){let f=Gt(),p=Kf();ZD(p,i,t,e,r,n)}return io}function Ey(t,e,r,n){return fi(t,Zf(),r)?e+rn(r)+n:cn}function NA(t,e,r,n,i,c){let f=Yf(),p=Qc(t,f,r,i);return cl(2),p?e+rn(r)+n+rn(i)+c:cn}function OA(t,e,r,n,i,c,f,p,x,m){let E=Yf(),D=vy(t,E,r,i,f,x);return cl(4),D?e+rn(r)+n+rn(i)+c+rn(f)+p+rn(x)+m:cn}function RA(t,e,r,n,i,c,f,p,x,m,E,D){let T=Yf(),N=vy(t,T,r,i,f,x);return N=fi(t,T+4,E)||N,cl(5),N?e+rn(r)+n+rn(i)+c+rn(f)+p+rn(x)+m+rn(E)+D:cn}function Ac(t,e){return t<<17|e<<2}function Ji(t){return t>>17&32767}function FA(t){return(t&2)==2}function PA(t,e){return t&131071|e<<17}function bf(t){return t|2}function zo(t){return(t&131068)>>2}function Ld(t,e){return t&-131069|e<<2}function LA(t){return(t&1)===1}function Sf(t){return t|1}function kA(t,e,r,n,i,c){let f=c?e.classBindings:e.styleBindings,p=Ji(f),x=zo(f);t[n]=r;let m=!1,E;if(Array.isArray(r)){let D=r;E=D[1],(E===null||Zs(D,E)>0)&&(m=!0)}else E=r;if(i)if(x!==0){let T=Ji(t[p+1]);t[n+1]=Ac(T,p),T!==0&&(t[T+1]=Ld(t[T+1],n)),t[p+1]=PA(t[p+1],n)}else t[n+1]=Ac(p,0),p!==0&&(t[p+1]=Ld(t[p+1],n)),p=n;else t[n+1]=Ac(x,0),p===0?p=n:t[x+1]=Ld(t[x+1],n),x=n;m&&(t[n+1]=bf(t[n+1])),s1(t,E,n,!0),s1(t,E,n,!1),BA(e,E,t,n,c),f=Ac(p,x),c?e.classBindings=f:e.styleBindings=f}function BA(t,e,r,n,i){let c=i?t.residualClasses:t.residualStyles;c!=null&&typeof e=="string"&&Zs(c,e)>=0&&(r[n+1]=Sf(r[n+1]))}function s1(t,e,r,n){let i=t[r+1],c=e===null,f=n?Ji(i):zo(i),p=!1;for(;f!==0&&(p===!1||c);){let x=t[f],m=t[f+1];VA(x,e)&&(p=!0,t[f+1]=n?Sf(m):bf(m)),f=n?Ji(m):zo(m)}p&&(t[r+1]=n?bf(i):Sf(i))}function VA(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Zs(t,e)>=0:!1}function ne(t,e,r){let n=Fe(),i=Zf();if(fi(n,i,e)){let c=Gt(),f=Kf();cy(c,f,n,t,e,n[mt],r,!1)}return ne}function a1(t,e,r,n,i){let c=e.inputs,f=i?"class":"style";Eh(t,r,c[f],f,n)}function Dl(t,e){return UA(t,e,null,!0),Dl}function UA(t,e,r,n){let i=Fe(),c=Gt(),f=cl(2);if(c.firstUpdatePass&&HA(c,t,f,n),e!==cn&&fi(i,f,e)){let p=c.data[Br()];YA(c,p,i,i[mt],t,i[f+1]=ZA(e,r),n,f)}}function jA(t,e){return e>=t.expandoStartIndex}function HA(t,e,r,n){let i=t.data;if(i[r+1]===null){let c=i[Br()],f=jA(t,r);XA(c,n)&&e===null&&!f&&(e=!1),e=zA(i,c,e,n),kA(i,c,e,r,f,n)}}function zA(t,e,r,n){let i=MI(t),c=n?e.residualClasses:e.residualStyles;if(i===null)(n?e.classBindings:e.styleBindings)===0&&(r=kd(null,t,e,r,n),r=Hs(r,e.attrs,n),c=null);else{let f=e.directiveStylingLast;if(f===-1||t[f]!==i)if(r=kd(i,t,e,r,n),c===null){let x=GA(t,e,n);x!==void 0&&Array.isArray(x)&&(x=kd(null,t,e,x[1],n),x=Hs(x,e.attrs,n),WA(t,e,n,x))}else c=$A(t,e,n)}return c!==void 0&&(n?e.residualClasses=c:e.residualStyles=c),r}function GA(t,e,r){let n=r?e.classBindings:e.styleBindings;if(zo(n)!==0)return t[Ji(n)]}function WA(t,e,r,n){let i=r?e.classBindings:e.styleBindings;t[Ji(i)]=n}function $A(t,e,r){let n,i=e.directiveEnd;for(let c=1+e.directiveStylingLast;c<i;c++){let f=t[c].hostAttrs;n=Hs(n,f,r)}return Hs(n,e.attrs,r)}function kd(t,e,r,n,i){let c=null,f=r.directiveEnd,p=r.directiveStylingLast;for(p===-1?p=r.directiveStart:p++;p<f&&(c=e[p],n=Hs(n,c.hostAttrs,i),c!==t);)p++;return t!==null&&(r.directiveStylingLast=p),n}function Hs(t,e,r){let n=r?1:2,i=-1;if(e!==null)for(let c=0;c<e.length;c++){let f=e[c];typeof f=="number"?i=f:i===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),KI(t,f,r?!0:e[++c]))}return t===void 0?null:t}function YA(t,e,r,n,i,c,f,p){if(!(e.type&3))return;let x=t.data,m=x[p+1],E=LA(m)?c1(x,e,r,i,zo(m),f):void 0;if(!Kc(E)){Kc(c)||FA(m)&&(c=c1(x,null,r,i,p,f));let D=H1(Br(),r);z2(n,f,D,i,c)}}function c1(t,e,r,n,i,c){let f=e===null,p;for(;i>0;){let x=t[i],m=Array.isArray(x),E=m?x[1]:x,D=E===null,T=r[i+1];T===cn&&(T=D?bn:void 0);let N=D?Td(T,n):E===n?T:void 0;if(m&&!Kc(N)&&(N=Td(x,n)),Kc(N)&&(p=N,f))return p;let H=t[i+1];i=f?Ji(H):zo(H)}if(e!==null){let x=c?e.residualClasses:e.residualStyles;x!=null&&(p=Td(x,n))}return p}function Kc(t){return t!==void 0}function ZA(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=sn(Xs(t)))),t}function XA(t,e){return(t.flags&(e?8:16))!==0}function Iy(t){let e=t[ks]??[],n=t[Pt][mt];for(let i of e)qA(i,n);t[ks]=bn}function qA(t,e){let r=0,n=t.firstChild;if(n){let i=t.data[Wc];for(;r<i;){let c=n.nextSibling;Pm(e,n,!1),n=c,r++}}}function Dy(t){Iy(t);for(let e=xn;e<t.length;e++)Jc(t[e])}function Jc(t){let e=t[De];for(let r=Lt;r<e.bindingStartIndex;r++)if(vr(t[r])){let n=t[r];Dy(n)}else Fr(t[r])&&Jc(t[r])}function QA(t){let e=t._views;for(let r of e){let n=aD(r);if(n!==null&&n[Sn]!==null)if(Fr(n))Jc(n);else{let i=n[Sn];Jc(i),Dy(n)}}}var KA=new RegExp(`^(\\d+)*(${zm}|${Hm})*(.*)`);function JA(t){let e=t.match(KA),[r,n,i,c]=e,f=n?parseInt(n,10):i,p=[];for(let[x,m,E]of c.matchAll(/(f|n)(\d*)/g)){let D=parseInt(E,10)||1;p.push(m,D)}return[f,...p]}function eb(t){return!t.prev&&t.parent?.type===8}function Bd(t){return t.index-Lt}function Al(t,e,r,n){let i=null,c=Bd(n),f=t.data[tD];if(f?.[c])i=nb(f[c],r);else if(e.firstChild===n)i=t.firstChild;else{let p=n.prev===null,x=n.prev??n.parent;if(eb(n)){let m=Bd(n.parent);i=lf(t,m)}else{let m=_n(x,r);if(p)i=m.firstChild;else{let E=Bd(x),D=lf(t,E);if(x.type===2&&D){let N=ph(t,E)+1;i=bl(N,D)}else i=m.nextSibling}}}return i}function bl(t,e){let r=e;for(let n=0;n<t;n++)r=r.nextSibling;return r}function tb(t,e){let r=t;for(let n=0;n<e.length;n+=2){let i=e[n],c=e[n+1];for(let f=0;f<c;f++)switch(i){case cf.FirstChild:r=r.firstChild;break;case cf.NextSibling:r=r.nextSibling;break}}return r}function nb(t,e){let[r,...n]=JA(t),i;if(r===Hm)i=e[Ln][Sn];else if(r===zm)i=h2(e[Ln][Sn]);else{let c=Number(r);i=rr(e[c+Lt])}return tb(i,n)}function rb(t,e){let r=[];for(let n of e)for(let i=0;i<(n[Gm]??1);i++){let c={data:n,firstChild:null};n[Wc]>0&&(c.firstChild=t,t=bl(n[Wc],t)),r.push(c)}return[t,r]}var Ay=()=>null;function ib(t,e){let r=t[ks];return!e||r===null||r.length===0?null:r[0].data[eD]===e?r.shift():(Iy(t),null)}function ob(){Ay=ib}function l1(t,e){return Ay(t,e)}function sb(t,e,r,n){let i=e.tView,f=t[we]&4096?4096:16,p=vl(t,i,r,f,null,e,null,null,null,n?.injector??null,n?.dehydratedView??null),x=t[e.index];p[Ws]=x;let m=t[mr];return m!==null&&(p[mr]=m.createEmbeddedView(i)),Sh(i,p,r),p}function u1(t,e){return!e||e.firstChild===null||Hc(t)}function ab(t,e,r,n=!0){let i=e[De];if(M2(i,e,t,r),n){let f=sf(r,t),p=e[mt],x=lh(p,t[Lr]);x!==null&&_2(i,t[sr],p,e,x,f)}let c=e[Pr];c!==null&&c.firstChild!==null&&(c.firstChild=null)}var Ci=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cb;let t=e;return t})();function cb(){let t=wn();return Sy(t,Fe())}var lb=Ci,by=class extends lb{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return Wo(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Jf(this._hostTNode,this._hostLView);if(om(e)){let r=kc(e,this._hostLView),n=Lc(e),i=r[De].data[n+8];return new Wi(i,r)}else return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let r=d1(this._lContainer);return r!==null&&r[e]||null}get length(){return this._lContainer.length-xn}createEmbeddedView(e,r,n){let i,c;typeof n=="number"?i=n:n!=null&&(i=n.index,c=n.injector);let f=l1(this._lContainer,e.ssrId),p=e.createEmbeddedViewImpl(r||{},c,f);return this.insertImpl(p,i,u1(this._hostTNode,f)),p}createComponent(e,r,n,i,c){let f=e&&!ZI(e),p;if(f)p=r;else{let H=r||{};p=H.index,n=H.injector,i=H.projectableNodes,c=H.environmentInjector||H.ngModuleRef}let x=f?e:new Ho(li(e)),m=n||this.parentInjector;if(!c&&x.ngModule==null){let J=(f?m:this.parentInjector).get(an,null);J&&(c=J)}let E=li(x.componentType??{}),D=l1(this._lContainer,E?.id??null),T=D?.firstChild??null,N=x.create(m,i,T,c);return this.insertImpl(N.hostView,p,u1(this._hostTNode,D)),N}insert(e,r){return this.insertImpl(e,r,!0)}insertImpl(e,r,n){let i=e._lView;if(pI(i)){let p=this.indexOf(e);if(p!==-1)this.detach(p);else{let x=i[Pt],m=new by(x,x[sr],x[Pt]);m.detach(m.indexOf(e))}}let c=this._adjustIndex(r),f=this._lContainer;return ab(f,i,c,n),e.attachToViewContainerRef(),gm(Vd(f),c,e),e}move(e,r){return this.insert(e,r)}indexOf(e){let r=d1(this._lContainer);return r!==null?r.indexOf(e):-1}remove(e){let r=this._adjustIndex(e,-1),n=of(this._lContainer,r);n&&(Uc(Vd(this._lContainer),r),Om(n[De],n))}detach(e){let r=this._adjustIndex(e,-1),n=of(this._lContainer,r);return n&&Uc(Vd(this._lContainer),r)!=null?new Ki(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function d1(t){return t[Pc]}function Vd(t){return t[Pc]||(t[Pc]=[])}function Sy(t,e){let r,n=e[t.index];return vr(n)?r=n:(r=fy(n,e,null,t),e[t.index]=r,El(e,r)),_y(r,e,t,n),new by(r,t,e)}function ub(t,e){let r=t[mt],n=r.createComment(""),i=_n(e,t),c=lh(r,i);return zc(r,c,n,k2(r,i),!1),n}var _y=Ty,Mh=()=>!1;function db(t,e,r){return Mh(t,e,r)}function Ty(t,e,r,n){if(t[Lr])return;let i;r.type&8?i=rr(n):i=ub(e,r),t[Lr]=i}function fb(t,e,r){if(t[Lr]&&t[ks])return!0;let n=r[Pr],i=e.index-Lt;if(!n||m2(e)||xl(n,i))return!1;let f=lf(n,i),p=n.data[fh]?.[i],[x,m]=rb(f,p);return t[Lr]=x,t[ks]=m,!0}function hb(t,e,r,n){Mh(t,r,e)||Ty(t,e,r,n)}function pb(){_y=hb,Mh=fb}function gb(t,e,r,n,i,c,f,p,x){let m=e.consts,E=Qs(e,t,4,f||null,Uo(m,p));vh(e,r,E,Uo(m,x)),ul(e,E);let D=E.tView=wh(2,E,n,i,c,e.directiveRegistry,e.pipeRegistry,null,e.schemas,m,null);return e.queries!==null&&(e.queries.template(e,E),D.queries=e.queries.embeddedTView(E)),E}function Ue(t,e,r,n,i,c,f,p){let x=Fe(),m=Gt(),E=t+Lt,D=m.firstCreatePass?gb(E,m,x,e,r,n,i,c,f):m.data[E];to(D,!1);let T=My(m,x,D,t);ll()&&gl(m,x,T,D),di(T,x);let N=fy(T,x,T,D);return x[E]=N,El(x,N),db(N,D,x),sl(D)&&Ch(m,x,D),f!=null&&xh(x,D,p),Ue}var My=Ny;function Ny(t,e,r,n){return gi(!0),e[mt].createComment("")}function mb(t,e,r,n){let i=e[Pr],c=!i||Ys()||xl(i,n);if(gi(c),c)return Ny(t,e,r,n);let f=i.data[J2]?.[n]??null;f!==null&&r.tView!==null&&r.tView.ssrId===null&&(r.tView.ssrId=f);let p=Al(i,t,e,r);Cl(i,n,p);let x=ph(i,n);return bl(x,p)}function yb(){My=mb}function Cb(t,e,r,n,i,c){let f=e.consts,p=Uo(f,i),x=Qs(e,t,2,n,p);return vh(e,r,x,Uo(f,c)),x.attrs!==null&&Xc(x,x.attrs,!1),x.mergedAttrs!==null&&Xc(x,x.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,x),x}function L(t,e,r,n){let i=Fe(),c=Gt(),f=Lt+t,p=i[mt],x=c.firstCreatePass?Cb(f,c,i,e,r,n):c.data[f],m=Oy(c,i,x,p,e,t);i[f]=m;let E=sl(x);return to(x,!0),Bm(p,m,x),(x.flags&32)!==32&&ll()&&gl(c,i,m,x),CI()===0&&di(m,i),xI(),E&&(Ch(c,i,x),yh(c,x,i)),n!==null&&xh(i,x),L}function P(){let t=wn();$f()?X1():(t=t.parent,to(t,!1));let e=t;vI(e)&&II(),wI();let r=Gt();return r.firstCreatePass&&(ul(r,t),zf(t)&&r.queries.elementEnd(t)),e.classesWithoutHost!=null&&LI(e)&&a1(r,e,Fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&kI(e)&&a1(r,e,Fe(),e.stylesWithoutHost,!1),P}function vn(t,e,r,n){return L(t,e,r,n),P(),vn}var Oy=(t,e,r,n,i,c)=>(gi(!0),ch(n,i,nm()));function xb(t,e,r,n,i,c){let f=e[Pr],p=!f||Ys()||xl(f,c);if(gi(p),p)return ch(n,i,nm());let x=Al(f,t,e,r);return Ym(f,c)&&Cl(f,c,x.nextSibling),f&&(Am(r)||bm(x))&&$s(r)&&(EI(r),Lm(x)),x}function wb(){Oy=xb}function vb(t,e,r,n,i){let c=e.consts,f=Uo(c,n),p=Qs(e,t,8,"ng-container",f);f!==null&&Xc(p,f,!0);let x=Uo(c,i);return vh(e,r,p,x),e.queries!==null&&e.queries.elementStart(e,p),p}function Nh(t,e,r){let n=Fe(),i=Gt(),c=t+Lt,f=i.firstCreatePass?vb(c,i,n,e,r):i.data[c];to(f,!0);let p=Ry(i,n,f,t);return n[c]=p,ll()&&gl(i,n,p,f),di(p,n),sl(f)&&(Ch(i,n,f),yh(i,f,n)),r!=null&&xh(n,f),Nh}function Oh(){let t=wn(),e=Gt();return $f()?X1():(t=t.parent,to(t,!1)),e.firstCreatePass&&(ul(e,t),zf(t)&&e.queries.elementEnd(t)),Oh}var Ry=(t,e,r,n)=>(gi(!0),Tm(e[mt],""));function Eb(t,e,r,n){let i,c=e[Pr],f=!c||Ys();if(gi(f),f)return Tm(e[mt],"");let p=Al(c,t,e,r),x=uD(c,n);return Cl(c,n,p),i=bl(x,p),i}function Ib(){Ry=Eb}function kt(){return Fe()}var Gi=void 0;function Db(t){let e=t,r=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return r===1&&n===0?1:5}var Ab=["en",[["a","p"],["AM","PM"],Gi],[["AM","PM"],Gi,Gi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gi,"{1} 'at' {0}",Gi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Db],Ud={};function Bn(t){let e=bb(t),r=f1(e);if(r)return r;let n=e.split("-")[0];if(r=f1(n),r)return r;if(n==="en")return Ab;throw new ce(701,!1)}function f1(t){return t in Ud||(Ud[t]=er.ng&&er.ng.common&&er.ng.common.locales&&er.ng.common.locales[t]),Ud[t]}var It=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(It||{});function bb(t){return t.toLowerCase().replace(/_/g,"-")}var el="en-US";var Sb=el;function _b(t){RE(t,"Expected localeId to be defined"),typeof t=="string"&&(Sb=t.toLowerCase().replace(/_/g,"-"))}function xi(t){return!!t&&typeof t.then=="function"}function Rh(t){return!!t&&typeof t.subscribe=="function"}function fe(t,e,r,n){let i=Fe(),c=Gt(),f=wn();return Mb(c,i,i[mt],f,t,e,n),fe}function Tb(t,e,r,n){let i=t.cleanup;if(i!=null)for(let c=0;c<i.length-1;c+=2){let f=i[c];if(f===r&&i[c+1]===n){let p=e[Ps],x=i[c+2];return p.length>x?p[x]:null}typeof f=="string"&&(c+=2)}return null}function Mb(t,e,r,n,i,c,f){let p=sl(n),m=t.firstCreatePass&&gy(t),E=e[nr],D=py(e),T=!0;if(n.type&3||f){let J=_n(n,e),Y=f?f(J):J,V=D.length,se=f?re=>f(rr(re[n.index])):n.index,Ke=null;if(!f&&p&&(Ke=Tb(t,e,i,n.index)),Ke!==null){let re=Ke.__ngLastListenerFn__||Ke;re.__ngNextListenerFn__=c,Ke.__ngLastListenerFn__=c,T=!1}else{c=p1(n,e,E,c,!1);let re=r.listen(Y,i,c);D.push(c,re),m&&m.push(i,se,V,V+1)}}else c=p1(n,e,E,c,!1);let N=n.outputs,H;if(T&&N!==null&&(H=N[i])){let J=H.length;if(J)for(let Y=0;Y<J;Y+=2){let V=H[Y],se=H[Y+1],j=e[V][se].subscribe(c),me=D.length;D.push(c,j),m&&m.push(i,n.index,me,-(me+1))}}}function h1(t,e,r,n){try{return pr(6,e,r),r(n)!==!1}catch(i){return my(t,i),!1}finally{pr(7,e,r)}}function p1(t,e,r,n,i){return function c(f){if(f===Function)return n;let p=t.componentOffset>-1?pi(t.index,e):e;Ih(p);let x=h1(e,r,n,f),m=c.__ngNextListenerFn__;for(;m;)x=h1(e,r,m,f)&&x,m=m.__ngNextListenerFn__;return i&&x===!1&&f.preventDefault(),x}}function de(t=1){return OI(t)}function Fh(t,e,r,n,i){let c=Fe(),f=Ey(c,e,r,n);if(f!==cn){let p=Gt(),x=Kf();cy(p,x,c,t,f,c[mt],i,!1)}return Fh}function Nb(t,e,r,n){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=n}function Yo(t){let e=AI();return Gf(e,Lt+t)}function G(t,e=""){let r=Fe(),n=Gt(),i=t+Lt,c=n.firstCreatePass?Qs(n,i,1,e,null):n.data[i],f=Fy(n,r,c,e,t);r[i]=f,ll()&&gl(n,r,f,c),to(c,!1)}var Fy=(t,e,r,n,i)=>(gi(!0),_m(e[mt],n));function Ob(t,e,r,n,i){let c=e[Pr],f=!c||Ys()||xl(c,i);return gi(f),f?_m(e[mt],n):Al(c,t,e,r)}function Rb(){Fy=Ob}function xt(t){return ln("",t,""),xt}function ln(t,e,r){let n=Fe(),i=Ey(n,t,e,r);return i!==cn&&Il(n,Br(),i),ln}function Zo(t,e,r,n,i){let c=Fe(),f=NA(c,t,e,r,n,i);return f!==cn&&Il(c,Br(),f),Zo}function Ks(t,e,r,n,i,c,f,p,x){let m=Fe(),E=OA(m,t,e,r,n,i,c,f,p,x);return E!==cn&&Il(m,Br(),E),Ks}function Ph(t,e,r,n,i,c,f,p,x,m,E){let D=Fe(),T=RA(D,t,e,r,n,i,c,f,p,x,m,E);return T!==cn&&Il(D,Br(),T),Ph}function Fb(t,e,r){let n=Gt();if(n.firstCreatePass){let i=ui(t);_f(r,n.data,n.blueprint,i,!0),_f(e,n.data,n.blueprint,i,!1)}}function _f(t,e,r,n,i){if(t=on(t),Array.isArray(t))for(let c=0;c<t.length;c++)_f(t[c],e,r,n,i);else{let c=Gt(),f=Fe(),p=wn(),x=jo(t)?t:on(t.provide),m=vm(t),E=p.providerIndexes&1048575,D=p.directiveStart,T=p.providerIndexes>>20;if(jo(t)||!t.multi){let N=new Xi(m,i,Q),H=Hd(x,e,i?E:E+T,D);H===-1?(Kd(Vc(p,f),c,x),jd(c,t,e.length),e.push(x),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),r.push(N),f.push(N)):(r[H]=N,f[H]=N)}else{let N=Hd(x,e,E+T,D),H=Hd(x,e,E,E+T),J=N>=0&&r[N],Y=H>=0&&r[H];if(i&&!Y||!i&&!J){Kd(Vc(p,f),c,x);let V=kb(i?Lb:Pb,r.length,i,n,m);!i&&Y&&(r[H].providerFactory=V),jd(c,t,e.length,0),e.push(x),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),r.push(V),f.push(V)}else{let V=Py(r[i?H:N],m,!i&&n);jd(c,t,N>-1?N:H,V)}!i&&n&&Y&&r[H].componentProviders++}}}function jd(t,e,r,n){let i=jo(e),c=i2(e);if(i||c){let x=(c?on(e.useClass):e).prototype.ngOnDestroy;if(x){let m=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let E=m.indexOf(r);E===-1?m.push(r,[n,x]):m[E+1].push(n,x)}else m.push(r,x)}}}function Py(t,e,r){return r&&t.componentProviders++,t.multi.push(e)-1}function Hd(t,e,r,n){for(let i=r;i<n;i++)if(e[i]===t)return i;return-1}function Pb(t,e,r,n){return Tf(this.multi,[])}function Lb(t,e,r,n){let i=this.multi,c;if(this.providerFactory){let f=this.providerFactory.componentProviders,p=qi(r,r[De],this.providerFactory.index,n);c=p.slice(0,f),Tf(i,c);for(let x=f;x<p.length;x++)c.push(p[x])}else c=[],Tf(i,c);return c}function Tf(t,e){for(let r=0;r<t.length;r++){let n=t[r];e.push(n())}return e}function kb(t,e,r,n,i){let c=new Xi(t,r,Q);return c.multi=[],c.index=e,c.componentProviders=0,Py(c,i,n&&!r),c}function wi(t,e=[]){return r=>{r.providersResolver=(n,i)=>Fb(n,i?i(t):t,e)}}var hi=class{},zs=class{};var Mf=class extends hi{constructor(e,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qc(this);let i=R1(e);this._bootstrapComponents=Dm(i.bootstrap),this._r3Injector=Em(e,r,[{provide:hi,useValue:this},{provide:wl,useValue:this.componentFactoryResolver},...n],sn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Nf=class extends zs{constructor(e){super(),this.moduleType=e}create(e){return new Mf(this.moduleType,e,[])}};var tl=class extends hi{constructor(e){super(),this.componentFactoryResolver=new qc(this),this.instance=null;let r=new Us([...e.providers,{provide:hi,useValue:this},{provide:wl,useValue:this.componentFactoryResolver}],e.parent||ih(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sl(t,e,r=null){return new tl({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}var Bb=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Cm(!1,n.type),c=i.length>0?Sl([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,c)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ie({token:e,providedIn:"environment",factory:()=>new e(ae(an))});let t=e;return t})();function wt(t){$o("NgStandalone"),t.getStandaloneInjector=e=>e.get(Bb).getOrCreateStandaloneInjector(t)}function Ly(t,e,r){let n=al()+t,i=Fe();return i[n]===cn?Th(i,n,r?e.call(r):e()):MA(i,n)}function Lh(t,e,r,n){return By(Fe(),al(),t,e,r,n)}function ky(t,e){let r=t[e];return r===cn?void 0:r}function By(t,e,r,n,i,c){let f=e+r;return fi(t,f,i)?Th(t,f+1,c?n.call(c,i):n(i)):ky(t,f+1)}function Vb(t,e,r,n,i,c,f){let p=e+r;return Qc(t,p,i,c)?Th(t,p+2,f?n.call(f,i,c):n(i,c)):ky(t,p+2)}function _l(t,e){let r=Gt(),n,i=t+Lt;r.firstCreatePass?(n=Ub(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??=[]).push(i,n.onDestroy)):n=r.data[i];let c=n.factory||(n.factory=Yi(n.type,!0)),f,p=Cn(Q);try{let x=Bc(!1),m=c();return Bc(x),Nb(r,Fe(),i,m),m}finally{Cn(p)}}function Ub(t,e){if(e)for(let r=e.length-1;r>=0;r--){let n=e[r];if(t===n.name)return n}}function Vy(t,e,r){let n=t+Lt,i=Fe(),c=Gf(i,n);return jy(i,n)?By(i,al(),e,c.transform,r,c):c.transform(r)}function Uy(t,e,r,n){let i=t+Lt,c=Fe(),f=Gf(c,i);return jy(c,i)?Vb(c,al(),e,f.transform,r,n,f):f.transform(r,n)}function jy(t,e){return t[De].data[e].pure}function jb(){return this._results[Symbol.iterator]()}var Of=class t{get changes(){return this._changes??=new Et}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let r=t.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=jb)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,r){return this._results.reduce(e,r)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,r){this.dirty=!1;let n=qI(e);(this._changesDetected=!XI(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},eo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Gb;let t=e;return t})(),Hb=eo,zb=class extends Hb{constructor(e,r,n){super(),this._declarationLView=e,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,n){let i=sb(this._declarationLView,this._declarationTContainer,e,{injector:r,dehydratedView:n});return new Ki(i)}};function Gb(){return Tl(wn(),Fe())}function Tl(t,e){return t.type&4?new zb(e,t,Wo(t,e)):null}var Rf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ff=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let r=e.queries;if(r!==null){let n=e.contentQueries!==null?e.contentQueries[0]:r.length,i=[];for(let c=0;c<n;c++){let f=r.getByIndex(c),p=this.queries[f.indexInDeclarationView];i.push(p.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let r=0;r<this.queries.length;r++)Gy(e,r).matches!==null&&this.queries[r].setDirty()}},Pf=class{constructor(e,r,n=null){this.predicate=e,this.flags=r,this.read=n}},Lf=class t{constructor(e=[]){this.queries=e}elementStart(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,r)}elementEnd(e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(e)}embeddedTView(e){let r=null;for(let n=0;n<this.length;n++){let i=r!==null?r.length:0,c=this.getByIndex(n).embeddedTView(e,i);c&&(c.indexInDeclarationView=n,r!==null?r.push(c):r=[c])}return r!==null?new t(r):null}template(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,r)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},kf=class t{constructor(e,r=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(e,r){this.isApplyingToNode(r)&&this.matchTNode(e,r)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,r){this.elementStart(e,r)}embeddedTView(e,r){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,r),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==r;)n=n.parent;return r===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,r){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let c=n[i];this.matchTNodeWithReadOption(e,r,Wb(r,c)),this.matchTNodeWithReadOption(e,r,Tc(r,e,c,!1,!1))}else n===eo?r.type&4&&this.matchTNodeWithReadOption(e,r,-1):this.matchTNodeWithReadOption(e,r,Tc(r,e,n,!1,!1))}matchTNodeWithReadOption(e,r,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===Tn||i===Ci||i===eo&&r.type&4)this.addMatch(r.index,-2);else{let c=Tc(r,e,i,!1,!1);c!==null&&this.addMatch(r.index,c)}else this.addMatch(r.index,n)}}addMatch(e,r){this.matches===null?this.matches=[e,r]:this.matches.push(e,r)}};function Wb(t,e){let r=t.localNames;if(r!==null){for(let n=0;n<r.length;n+=2)if(r[n]===e)return r[n+1]}return null}function $b(t,e){return t.type&11?Wo(t,e):t.type&4?Tl(t,e):null}function Yb(t,e,r,n){return r===-1?$b(e,t):r===-2?Zb(t,e,n):qi(t,t[De],r,e)}function Zb(t,e,r){if(r===Tn)return Wo(e,t);if(r===eo)return Tl(e,t);if(r===Ci)return Sy(e,t)}function Hy(t,e,r,n){let i=e[mr].queries[n];if(i.matches===null){let c=t.data,f=r.matches,p=[];for(let x=0;x<f.length;x+=2){let m=f[x];if(m<0)p.push(null);else{let E=c[m];p.push(Yb(e,E,f[x+1],r.metadata.read))}}i.matches=p}return i.matches}function Bf(t,e,r,n){let i=t.queries.getByIndex(r),c=i.matches;if(c!==null){let f=Hy(t,e,i,r);for(let p=0;p<c.length;p+=2){let x=c[p];if(x>0)n.push(f[p/2]);else{let m=c[p+1],E=e[-x];for(let D=xn;D<E.length;D++){let T=E[D];T[Ws]===T[Pt]&&Bf(T[De],T,m,n)}if(E[Vo]!==null){let D=E[Vo];for(let T=0;T<D.length;T++){let N=D[T];Bf(N[De],N,m,n)}}}}}return n}function kh(t){let e=Fe(),r=Gt(),n=q1();Xf(n+1);let i=Gy(r,n);if(t.dirty&&hI(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let c=i.crossesNgTemplate?Bf(r,e,n,[]):Hy(r,e,i,n);t.reset(c,pD),t.notifyOnChanges()}return!0}return!1}function zy(t,e,r){let n=Gt();n.firstCreatePass&&(Qb(n,new Pf(t,e,r),-1),(e&2)===2&&(n.staticViewQueries=!0)),qb(n,Fe(),e)}function Bh(){return Xb(Fe(),q1())}function Xb(t,e){return t[mr].queries[e].queryList}function qb(t,e,r){let n=new Of((r&4)===4);RD(t,e,n,n.destroy),e[mr]===null&&(e[mr]=new Ff),e[mr].queries.push(new Rf(n))}function Qb(t,e,r){t.queries===null&&(t.queries=new Lf),t.queries.track(new kf(e,r))}function Gy(t,e){return t.queries.getByIndex(e)}function Ml(t,e){return Tl(t,e)}var Nl=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Vf=class{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}},Ol=(()=>{let e=class e{compileModuleSync(n){return new Nf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),c=R1(n),f=Dm(c.declarations).reduce((p,x)=>{let m=li(x);return m&&p.push(new Ho(m)),p},[]);return new Vf(i,f)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Wy=new ue("");var Rl=new ue("Application Initializer"),$y=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=Z(Rl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let c of this.appInits){let f=c();if(xi(f))n.push(f);else if(Rh(f)){let p=new Promise((x,m)=>{f.subscribe({complete:x,error:m})});n.push(p)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(c=>{this.reject(c)}),n.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oo=new ue("appBootstrapListener");function Kb(){s0(()=>{throw new ce(600,!1)})}function Jb(t){return t.isBoundToModule}function eS(t,e,r){try{let n=r();return xi(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}var vi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Z(Jm),this.afterRenderEffectManager=Z(bh),this.componentTypes=[],this.components=[],this.isStable=Z(Xo).hasPendingTasks.pipe(Ie(n=>!n)),this._injector=Z(an)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let c=n instanceof $c;if(!this._injector.get($y).done){let N=!c&&O1(n),H=!1;throw new ce(405,H)}let p;c?p=n:p=this._injector.get(wl).resolveComponentFactory(n),this.componentTypes.push(p.componentType);let x=Jb(p)?void 0:this._injector.get(hi),m=i||p.selector,E=p.create(ar.NULL,[],m,x),D=E.location.nativeElement,T=E.injector.get(Wy,null);return T?.registerApplication(D),E.onDestroy(()=>{this.detachView(E.hostView),zd(this.components,E),T?.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{try{let n=this.afterRenderEffectManager.execute()}catch(n){this.internalErrorHandler(n)}this._runningTick=!1}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;zd(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(oo,[]);[...this._bootstrapListeners,...i].forEach(c=>c(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>zd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ce(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zd(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}var bc;function Vh(t){bc??=new WeakMap;let e=bc.get(t);if(e)return e;let r=t.isStable.pipe(Kn(n=>n)).toPromise().then(()=>{});return bc.set(t,r),t.onDestroy(()=>bc?.delete(t)),r}var tS=(()=>{let e=class e{constructor(){this.zone=Z(at),this.applicationRef=Z(vi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nS(t){return[{provide:at,useFactory:t},{provide:Qi,multi:!0,useFactory:()=>{let e=Z(tS,{optional:!0});return()=>e.initialize()}},{provide:Qi,multi:!0,useFactory:()=>{let e=Z(sS);return()=>{e.initialize()}}},{provide:Jm,useFactory:rS}]}function rS(){let t=Z(at),e=Z(xr);return r=>t.runOutsideAngular(()=>e.handleError(r))}function iS(t){let e=nS(()=>new at(oS(t)));return yi([[],e])}function oS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var sS=(()=>{let e=class e{constructor(){this.subscription=new Tt,this.initialized=!1,this.zone=Z(at),this.pendingTasks=Z(Xo)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{at.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{at.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aS(){return typeof $localize<"u"&&$localize.locale||el}var Fl=new ue("LocaleId",{providedIn:"root",factory:()=>Z(Fl,Ne.Optional|Ne.SkipSelf)||aS()});var Yy=new ue("PlatformDestroyListeners");var Oc=null;function cS(t=[],e){return ar.create({name:e,providers:[{provide:fl,useValue:"platform"},{provide:Yy,useValue:new Set([()=>Oc=null])},...t]})}function lS(t=[]){if(Oc)return Oc;let e=cS(t);return Oc=e,Kb(),uS(e),e}function uS(t){t.get(oh,null)?.forEach(r=>r())}function Zy(t){try{let{rootComponent:e,appProviders:r,platformProviders:n}=t,i=lS(n),c=[iS(),...r||[]],p=new tl({providers:c,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,x=p.get(at);return x.run(()=>{p.resolveInjectorInitializers();let m=p.get(xr,null),E;x.runOutsideAngular(()=>{E=x.onError.subscribe({next:N=>{m.handleError(N)}})});let D=()=>p.destroy(),T=i.get(Yy);return T.add(D),p.onDestroy(()=>{E.unsubscribe(),T.delete(D)}),eS(m,x,()=>{let N=p.get($y);return N.runInitializers(),N.donePromise.then(()=>{let H=p.get(Fl,el);_b(H||el);let J=p.get(vi);return e!==void 0&&J.bootstrap(e),J})})})}catch(e){return Promise.reject(e)}}var g1=!1;function dS(){g1||(g1=!0,sD(),wb(),Rb(),Ib(),yb(),pb(),ob(),OD())}function fS(t,e){return Vh(t)}function Xy(){return yi([{provide:Ic,useFactory:()=>{let t=!0;return Ns()&&(t=!!Z(no,{optional:!0})?.get(Wm,null)),t&&$o("NgHydration"),t}},{provide:Qi,useValue:()=>{Ns()&&Z(Ic)&&(hS(),dS())},multi:!0},{provide:ty,useFactory:()=>Ns()&&Z(Ic)},{provide:oo,useFactory:()=>{if(Ns()&&Z(Ic)){let t=Z(vi),e=Z(ar);return()=>{fS(t,e).then(()=>{at.assertInAngularZone(),QA(t)})}}return()=>{}},multi:!0}])}function hS(){let t=hl(),e;for(let r of t.body.childNodes)if(r.nodeType===Node.COMMENT_NODE&&r.textContent?.trim()===iD){e=r;break}if(!e)throw new ce(-507,!1)}function Ei(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function qy(t){let e=li(t);if(!e)return null;let r=new Ho(e);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var zh=null;function Gr(){return zh}function nC(t){zh||(zh=t)}var Hl=class{},Wt=new ue("DocumentToken"),Qh=(()=>{let e=class e{historyGo(n){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:()=>(()=>Z(pS))(),providedIn:"platform"});let t=e;return t})(),rC=new ue("Location Initialized"),pS=(()=>{let e=class e extends Qh{constructor(){super(),this._doc=Z(Wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gr().getBaseHref(this._doc)}onPopState(n){let i=Gr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Gr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,c){this._history.pushState(n,i,c)}replaceState(n,i,c){this._history.replaceState(n,i,c)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function Kh(t,e){if(t.length==0)return e;if(e.length==0)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,r==2?t+e.substring(1):r==1?t+e:t+"/"+e}function Qy(t){let e=t.match(/#|\?|$/),r=e&&e.index||t.length,n=r-(t[r-1]==="/"?1:0);return t.slice(0,n)+t.slice(r)}function jr(t){return t&&t[0]!=="?"?"?"+t:t}var Wr=(()=>{let e=class e{historyGo(n){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:()=>(()=>Z(Jh))(),providedIn:"root"});let t=e;return t})(),iC=new ue("appBaseHref"),Jh=(()=>{let e=class e extends Wr{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Z(Wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Kh(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+jr(this._platformLocation.search),c=this._platformLocation.hash;return c&&n?`${i}${c}`:i}pushState(n,i,c,f){let p=this.prepareExternalUrl(c+jr(f));this._platformLocation.pushState(n,i,p)}replaceState(n,i,c,f){let p=this.prepareExternalUrl(c+jr(f));this._platformLocation.replaceState(n,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(ae(Qh),ae(iC,8))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oC=(()=>{let e=class e extends Wr{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=Kh(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,c,f){let p=this.prepareExternalUrl(c+jr(f));p.length==0&&(p=this._platformLocation.pathname),this._platformLocation.pushState(n,i,p)}replaceState(n,i,c,f){let p=this.prepareExternalUrl(c+jr(f));p.length==0&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(ae(Qh),ae(iC,8))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),Qo=(()=>{let e=class e{constructor(n){this._subject=new Et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=yS(Qy(Ky(i))),this._locationStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+jr(i))}normalize(n){return e.stripTrailingSlash(mS(this._basePath,Ky(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",c=null){this._locationStrategy.pushState(c,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jr(i)),c)}replaceState(n,i="",c=null){this._locationStrategy.replaceState(c,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jr(i)),c)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(c=>c(n,i))}subscribe(n,i,c){return this._subject.subscribe({next:n,error:i,complete:c})}};e.normalizeQueryParams=jr,e.joinWithSlash=Kh,e.stripTrailingSlash=Qy,e.\u0275fac=function(i){return new(i||e)(ae(Wr))},e.\u0275prov=ie({token:e,factory:()=>gS(),providedIn:"root"});let t=e;return t})();function gS(){return new Qo(ae(Wr))}function mS(t,e){if(!t||!e.startsWith(t))return e;let r=e.substring(t.length);return r===""||["/",";","?","#"].includes(r[0])?r:e}function Ky(t){return t.replace(/\/index.html$/,"")}function yS(t){if(new RegExp("^(https?:)?//").test(t)){let[,r]=t.split(/\/\/[^\/]+/);return r}return t}var un=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(un||{}),it=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(it||{}),Mn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Mn||{}),Hr=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Hr||{});function CS(t){return Bn(t)[It.LocaleId]}function xS(t,e,r){let n=Bn(t),i=[n[It.DayPeriodsFormat],n[It.DayPeriodsStandalone]],c=Vn(i,e);return Vn(c,r)}function wS(t,e,r){let n=Bn(t),i=[n[It.DaysFormat],n[It.DaysStandalone]],c=Vn(i,e);return Vn(c,r)}function vS(t,e,r){let n=Bn(t),i=[n[It.MonthsFormat],n[It.MonthsStandalone]],c=Vn(i,e);return Vn(c,r)}function ES(t,e){let n=Bn(t)[It.Eras];return Vn(n,e)}function Pl(t,e){let r=Bn(t);return Vn(r[It.DateFormat],e)}function Ll(t,e){let r=Bn(t);return Vn(r[It.TimeFormat],e)}function kl(t,e){let n=Bn(t)[It.DateTimeFormat];return Vn(n,e)}function Gl(t,e){let r=Bn(t),n=r[It.NumberSymbols][e];if(typeof n>"u"){if(e===Hr.CurrencyDecimal)return r[It.NumberSymbols][Hr.Decimal];if(e===Hr.CurrencyGroup)return r[It.NumberSymbols][Hr.Group]}return n}function sC(t){if(!t[It.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[It.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function IS(t){let e=Bn(t);return sC(e),(e[It.ExtraData][2]||[]).map(n=>typeof n=="string"?Uh(n):[Uh(n[0]),Uh(n[1])])}function DS(t,e,r){let n=Bn(t);sC(n);let i=[n[It.ExtraData][0],n[It.ExtraData][1]],c=Vn(i,e)||[];return Vn(c,r)||[]}function Vn(t,e){for(let r=e;r>-1;r--)if(typeof t[r]<"u")return t[r];throw new Error("Locale data API: locale data undefined")}function Uh(t){let[e,r]=t.split(":");return{hours:+e,minutes:+r}}var AS=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Js={},bS=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,zr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(zr||{}),Ye=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ye||{}),$e=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}($e||{});function SS(t,e,r,n){let i=LS(t);e=Ur(r,e)||e;let f=[],p;for(;e;)if(p=bS.exec(e),p){f=f.concat(p.slice(1));let E=f.pop();if(!E)break;e=E}else{f.push(e);break}let x=i.getTimezoneOffset();n&&(x=cC(n,x),i=PS(i,n,!0));let m="";return f.forEach(E=>{let D=RS(E);m+=D?D(i,r,x):E==="''"?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function zl(t,e,r){let n=new Date(0);return n.setFullYear(t,e,r),n.setHours(0,0,0),n}function Ur(t,e){let r=CS(t);if(Js[r]=Js[r]||{},Js[r][e])return Js[r][e];let n="";switch(e){case"shortDate":n=Pl(t,Mn.Short);break;case"mediumDate":n=Pl(t,Mn.Medium);break;case"longDate":n=Pl(t,Mn.Long);break;case"fullDate":n=Pl(t,Mn.Full);break;case"shortTime":n=Ll(t,Mn.Short);break;case"mediumTime":n=Ll(t,Mn.Medium);break;case"longTime":n=Ll(t,Mn.Long);break;case"fullTime":n=Ll(t,Mn.Full);break;case"short":let i=Ur(t,"shortTime"),c=Ur(t,"shortDate");n=Bl(kl(t,Mn.Short),[i,c]);break;case"medium":let f=Ur(t,"mediumTime"),p=Ur(t,"mediumDate");n=Bl(kl(t,Mn.Medium),[f,p]);break;case"long":let x=Ur(t,"longTime"),m=Ur(t,"longDate");n=Bl(kl(t,Mn.Long),[x,m]);break;case"full":let E=Ur(t,"fullTime"),D=Ur(t,"fullDate");n=Bl(kl(t,Mn.Full),[E,D]);break}return n&&(Js[r][e]=n),n}function Bl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(r,n){return e!=null&&n in e?e[n]:r})),t}function lr(t,e,r="-",n,i){let c="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,c=r));let f=String(t);for(;f.length<e;)f="0"+f;return n&&(f=f.slice(f.length-e)),c+f}function _S(t,e){return lr(t,3).substring(0,e)}function St(t,e,r=0,n=!1,i=!1){return function(c,f){let p=TS(t,c);if((r>0||p>-r)&&(p+=r),t===Ye.Hours)p===0&&r===-12&&(p=12);else if(t===Ye.FractionalSeconds)return _S(p,e);let x=Gl(f,Hr.MinusSign);return lr(p,e,x,n,i)}}function TS(t,e){switch(t){case Ye.FullYear:return e.getFullYear();case Ye.Month:return e.getMonth();case Ye.Date:return e.getDate();case Ye.Hours:return e.getHours();case Ye.Minutes:return e.getMinutes();case Ye.Seconds:return e.getSeconds();case Ye.FractionalSeconds:return e.getMilliseconds();case Ye.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function ct(t,e,r=un.Format,n=!1){return function(i,c){return MS(i,c,t,e,r,n)}}function MS(t,e,r,n,i,c){switch(r){case $e.Months:return vS(e,i,n)[t.getMonth()];case $e.Days:return wS(e,i,n)[t.getDay()];case $e.DayPeriods:let f=t.getHours(),p=t.getMinutes();if(c){let m=IS(e),E=DS(e,i,n),D=m.findIndex(T=>{if(Array.isArray(T)){let[N,H]=T,J=f>=N.hours&&p>=N.minutes,Y=f<H.hours||f===H.hours&&p<H.minutes;if(N.hours<H.hours){if(J&&Y)return!0}else if(J||Y)return!0}else if(T.hours===f&&T.minutes===p)return!0;return!1});if(D!==-1)return E[D]}return xS(e,i,n)[f<12?0:1];case $e.Eras:return ES(e,n)[t.getFullYear()<=0?0:1];default:let x=r;throw new Error(`unexpected translation type ${x}`)}}function Vl(t){return function(e,r,n){let i=-1*n,c=Gl(r,Hr.MinusSign),f=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case zr.Short:return(i>=0?"+":"")+lr(f,2,c)+lr(Math.abs(i%60),2,c);case zr.ShortGMT:return"GMT"+(i>=0?"+":"")+lr(f,1,c);case zr.Long:return"GMT"+(i>=0?"+":"")+lr(f,2,c)+":"+lr(Math.abs(i%60),2,c);case zr.Extended:return n===0?"Z":(i>=0?"+":"")+lr(f,2,c)+":"+lr(Math.abs(i%60),2,c);default:throw new Error(`Unknown zone width "${t}"`)}}}var NS=0,jl=4;function OS(t){let e=zl(t,NS,1).getDay();return zl(t,0,1+(e<=jl?jl:jl+7)-e)}function aC(t){return zl(t.getFullYear(),t.getMonth(),t.getDate()+(jl-t.getDay()))}function jh(t,e=!1){return function(r,n){let i;if(e){let c=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,f=r.getDate();i=1+Math.floor((f+c)/7)}else{let c=aC(r),f=OS(c.getFullYear()),p=c.getTime()-f.getTime();i=1+Math.round(p/6048e5)}return lr(i,t,Gl(n,Hr.MinusSign))}}function Ul(t,e=!1){return function(r,n){let c=aC(r).getFullYear();return lr(c,t,Gl(n,Hr.MinusSign),e)}}var Hh={};function RS(t){if(Hh[t])return Hh[t];let e;switch(t){case"G":case"GG":case"GGG":e=ct($e.Eras,it.Abbreviated);break;case"GGGG":e=ct($e.Eras,it.Wide);break;case"GGGGG":e=ct($e.Eras,it.Narrow);break;case"y":e=St(Ye.FullYear,1,0,!1,!0);break;case"yy":e=St(Ye.FullYear,2,0,!0,!0);break;case"yyy":e=St(Ye.FullYear,3,0,!1,!0);break;case"yyyy":e=St(Ye.FullYear,4,0,!1,!0);break;case"Y":e=Ul(1);break;case"YY":e=Ul(2,!0);break;case"YYY":e=Ul(3);break;case"YYYY":e=Ul(4);break;case"M":case"L":e=St(Ye.Month,1,1);break;case"MM":case"LL":e=St(Ye.Month,2,1);break;case"MMM":e=ct($e.Months,it.Abbreviated);break;case"MMMM":e=ct($e.Months,it.Wide);break;case"MMMMM":e=ct($e.Months,it.Narrow);break;case"LLL":e=ct($e.Months,it.Abbreviated,un.Standalone);break;case"LLLL":e=ct($e.Months,it.Wide,un.Standalone);break;case"LLLLL":e=ct($e.Months,it.Narrow,un.Standalone);break;case"w":e=jh(1);break;case"ww":e=jh(2);break;case"W":e=jh(1,!0);break;case"d":e=St(Ye.Date,1);break;case"dd":e=St(Ye.Date,2);break;case"c":case"cc":e=St(Ye.Day,1);break;case"ccc":e=ct($e.Days,it.Abbreviated,un.Standalone);break;case"cccc":e=ct($e.Days,it.Wide,un.Standalone);break;case"ccccc":e=ct($e.Days,it.Narrow,un.Standalone);break;case"cccccc":e=ct($e.Days,it.Short,un.Standalone);break;case"E":case"EE":case"EEE":e=ct($e.Days,it.Abbreviated);break;case"EEEE":e=ct($e.Days,it.Wide);break;case"EEEEE":e=ct($e.Days,it.Narrow);break;case"EEEEEE":e=ct($e.Days,it.Short);break;case"a":case"aa":case"aaa":e=ct($e.DayPeriods,it.Abbreviated);break;case"aaaa":e=ct($e.DayPeriods,it.Wide);break;case"aaaaa":e=ct($e.DayPeriods,it.Narrow);break;case"b":case"bb":case"bbb":e=ct($e.DayPeriods,it.Abbreviated,un.Standalone,!0);break;case"bbbb":e=ct($e.DayPeriods,it.Wide,un.Standalone,!0);break;case"bbbbb":e=ct($e.DayPeriods,it.Narrow,un.Standalone,!0);break;case"B":case"BB":case"BBB":e=ct($e.DayPeriods,it.Abbreviated,un.Format,!0);break;case"BBBB":e=ct($e.DayPeriods,it.Wide,un.Format,!0);break;case"BBBBB":e=ct($e.DayPeriods,it.Narrow,un.Format,!0);break;case"h":e=St(Ye.Hours,1,-12);break;case"hh":e=St(Ye.Hours,2,-12);break;case"H":e=St(Ye.Hours,1);break;case"HH":e=St(Ye.Hours,2);break;case"m":e=St(Ye.Minutes,1);break;case"mm":e=St(Ye.Minutes,2);break;case"s":e=St(Ye.Seconds,1);break;case"ss":e=St(Ye.Seconds,2);break;case"S":e=St(Ye.FractionalSeconds,1);break;case"SS":e=St(Ye.FractionalSeconds,2);break;case"SSS":e=St(Ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Vl(zr.Short);break;case"ZZZZZ":e=Vl(zr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Vl(zr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Vl(zr.Long);break;default:return null}return Hh[t]=e,e}function cC(t,e){t=t.replace(/:/g,"");let r=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(r)?e:r}function FS(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function PS(t,e,r){let n=r?-1:1,i=t.getTimezoneOffset(),c=cC(e,i);return FS(t,n*(c-i))}function LS(t){if(Jy(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,c=1,f=1]=t.split("-").map(p=>+p);return zl(i,c-1,f)}let r=parseFloat(t);if(!isNaN(t-r))return new Date(r);let n;if(n=t.match(AS))return kS(n)}let e=new Date(t);if(!Jy(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function kS(t){let e=new Date(0),r=0,n=0,i=t[8]?e.setUTCFullYear:e.setFullYear,c=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=Number(t[9]+t[10]),n=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let f=Number(t[4]||0)-r,p=Number(t[5]||0)-n,x=Number(t[6]||0),m=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return c.call(e,f,p,x,m),e}function Jy(t){return t instanceof Date&&!isNaN(t.valueOf())}function Wl(t,e){e=encodeURIComponent(e);for(let r of t.split(";")){let n=r.indexOf("="),[i,c]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(c)}return null}var Gh=class{constructor(e,r,n,i){this.$implicit=e,this.ngForOf=r,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ii=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,c){this._viewContainer=n,this._template=i,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(!1)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((c,f,p)=>{if(c.previousIndex==null)i.createEmbeddedView(this._template,new Gh(c.item,this._ngForOf,-1,-1),p===null?void 0:p);else if(p==null)i.remove(f===null?void 0:f);else if(f!==null){let x=i.get(f);i.move(x,p),eC(x,c)}});for(let c=0,f=i.length;c<f;c++){let x=i.get(c).context;x.index=c,x.count=f,x.ngForOf=this._ngForOf}n.forEachIdentityChange(c=>{let f=i.get(c.currentIndex);eC(f,c)})}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Q(Ci),Q(eo),Q(mh))},e.\u0275dir=Ct({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function eC(t,e){t.context.$implicit=e.item}var Dr=(()=>{let e=class e{constructor(n,i){this._viewContainer=n,this._context=new Wh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){tC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){tC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Q(Ci),Q(eo))},e.\u0275dir=Ct({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Wh=class{constructor(){this.$implicit=null,this.ngIf=null}};function tC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${sn(e)}'.`)}function lC(t,e){return new ce(2100,!1)}var $h=class{createSubscription(e,r){return gh(()=>e.subscribe({next:r,error:n=>{throw n}}))}dispose(e){gh(()=>e.unsubscribe())}},Yh=class{createSubscription(e,r){return e.then(r,n=>{throw n})}dispose(e){}},BS=new Yh,VS=new $h,uC=(()=>{let e=class e{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(xi(n))return BS;if(Rh(n))return VS;throw lC(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this._ref.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(Q(ro,16))},e.\u0275pipe=jf({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var US="mediumDate",jS=new ue("DATE_PIPE_DEFAULT_TIMEZONE"),HS=new ue("DATE_PIPE_DEFAULT_OPTIONS"),dC=(()=>{let e=class e{constructor(n,i,c){this.locale=n,this.defaultTimezone=i,this.defaultOptions=c}transform(n,i,c,f){if(n==null||n===""||n!==n)return null;try{let p=i??this.defaultOptions?.dateFormat??US,x=c??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return SS(n,p,f||this.locale,x)}catch(p){throw lC(e,p.message)}}};e.\u0275fac=function(i){return new(i||e)(Q(Fl,16),Q(jS,24),Q(HS,24))},e.\u0275pipe=jf({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var $t=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=or({type:e}),e.\u0275inj=ir({});let t=e;return t})(),ep="browser",zS="server";function GS(t){return t===ep}function tp(t){return t===zS}var fC=(()=>{let e=class e{};e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>GS(Z(cr))?new Zh(Z(Wt),window):new Xh});let t=e;return t})(),Zh=class{constructor(e,r){this.document=e,this.window=r,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let r=WS(this.document,e);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let r=e.getBoundingClientRect(),n=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(n-c[0],i-c[1])}};function WS(t,e){let r=t.getElementById(e)||t.getElementsByName(e)[0];if(r)return r;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let c=i.shadowRoot;if(c){let f=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(f)return f}i=n.nextNode()}}return null}var Xh=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},qo=class{};var ta=class{},na=class{},Ar=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(r=>{let n=r.indexOf(":");if(n>0){let i=r.slice(0,n),c=i.toLowerCase(),f=r.slice(n+1).trim();this.maybeSetNormalizedName(i,c),this.headers.has(c)?this.headers.get(c).push(f):this.headers.set(c,[f])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){let r=new t;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){let r=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,r);let i=(e.op==="a"?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":let c=e.value;if(!c)this.headers.delete(r),this.normalizedNames.delete(r);else{let f=this.headers.get(r);if(!f)return;f=f.filter(p=>c.indexOf(p)===-1),f.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,f)}break}}setHeaderEntries(e,r){let n=(Array.isArray(r)?r:[r]).map(c=>c.toString()),i=e.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}};var ip=class{encodeKey(e){return hC(e)}encodeValue(e){return hC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function YS(t,e){let r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let c=i.indexOf("="),[f,p]=c==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,c)),e.decodeValue(i.slice(c+1))],x=r.get(f)||[];x.push(p),r.set(f,x)}),r}var ZS=/%(\d[a-f0-9])/gi,XS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hC(t){return encodeURIComponent(t).replace(ZS,(e,r)=>XS[r]??e)}function $l(t){return`${t}`}var Ai=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ip,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=YS(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{let n=e.fromObject[r],i=Array.isArray(n)?n.map($l):[$l(n)];this.map.set(r,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){let r=[];return Object.keys(e).forEach(n=>{let i=e[n];Array.isArray(i)?i.forEach(c=>{r.push({param:n,value:c,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let r=this.encoder.encodeKey(e);return this.map.get(e).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let r=new t({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let r=(e.op==="a"?this.map.get(e.param):void 0)||[];r.push($l(e.value)),this.map.set(e.param,r);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],i=n.indexOf($l(e.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var op=class{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function qS(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function pC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function gC(t){return typeof Blob<"u"&&t instanceof Blob}function mC(t){return typeof FormData<"u"&&t instanceof FormData}function QS(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ea=class t{constructor(e,r,n,i){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let c;if(qS(this.method)||i?(this.body=n!==void 0?n:null,c=i):c=n,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers||(this.headers=new Ar),this.context||(this.context=new op),!this.params)this.params=new Ai,this.urlWithParams=r;else{let f=this.params.toString();if(f.length===0)this.urlWithParams=r;else{let p=r.indexOf("?"),x=p===-1?"?":p<r.length-1?"&":"";this.urlWithParams=r+x+f}}}serializeBody(){return this.body===null?null:pC(this.body)||gC(this.body)||mC(this.body)||QS(this.body)||typeof this.body=="string"?this.body:this.body instanceof Ai?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||mC(this.body)?null:gC(this.body)?this.body.type||null:pC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ai?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let r=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,c=e.body!==void 0?e.body:this.body,f=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,p=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,x=e.headers||this.headers,m=e.params||this.params,E=e.context??this.context;return e.setHeaders!==void 0&&(x=Object.keys(e.setHeaders).reduce((D,T)=>D.set(T,e.setHeaders[T]),x)),e.setParams&&(m=Object.keys(e.setParams).reduce((D,T)=>D.set(T,e.setParams[T]),m)),new t(r,n,c,{params:m,headers:x,context:E,reportProgress:p,responseType:i,withCredentials:f})}},bi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(bi||{}),ra=class{constructor(e,r=200,n="OK"){this.headers=e.headers||new Ar,this.status=e.status!==void 0?e.status:r,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Zl=class t extends ra{constructor(e={}){super(e),this.type=bi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},so=class t extends ra{constructor(e={}){super(e),this.type=bi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Di=class extends ra{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function np(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ao=(()=>{let e=class e{constructor(n){this.handler=n}request(n,i,c={}){let f;if(n instanceof ea)f=n;else{let m;c.headers instanceof Ar?m=c.headers:m=new Ar(c.headers);let E;c.params&&(c.params instanceof Ai?E=c.params:E=new Ai({fromObject:c.params})),f=new ea(n,i,c.body!==void 0?c.body:null,{headers:m,context:c.context,params:E,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials,transferCache:c.transferCache})}let p=ye(f).pipe(Or(m=>this.handler.handle(m)));if(n instanceof ea||c.observe==="events")return p;let x=p.pipe(yn(m=>m instanceof so));switch(c.observe||"body"){case"body":switch(f.responseType){case"arraybuffer":return x.pipe(Ie(m=>{if(m.body!==null&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return x.pipe(Ie(m=>{if(m.body!==null&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return x.pipe(Ie(m=>{if(m.body!==null&&typeof m.body!="string")throw new Error("Response is not a string.");return m.body}));case"json":default:return x.pipe(Ie(m=>m.body))}case"response":return x;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Ai().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,c={}){return this.request("PATCH",n,np(c,i))}post(n,i,c={}){return this.request("POST",n,np(c,i))}put(n,i,c={}){return this.request("PUT",n,np(c,i))}};e.\u0275fac=function(i){return new(i||e)(ae(ta))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),KS=/^\)\]\}',?\n/,JS="X-Request-URL";function yC(t){if(t.url)return t.url;let e=JS.toLocaleLowerCase();return t.headers.get(e)}var rp=(()=>{let e=class e{constructor(){this.fetchImpl=Z(sp,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=Z(at)}handle(n){return new Oe(i=>{let c=new AbortController;return this.doRequest(n,c.signal,i).then(ap,f=>i.error(new Di({error:f}))),()=>c.abort()})}doRequest(n,i,c){return Ss(this,null,function*(){let f=this.createRequestInit(n),p;try{let H=this.fetchImpl(n.urlWithParams,ee({signal:i},f));e_(H),c.next({type:bi.Sent}),p=yield H}catch(H){c.error(new Di({error:H,status:H.status??0,statusText:H.statusText,url:n.urlWithParams,headers:H.headers}));return}let x=new Ar(p.headers),m=p.statusText,E=yC(p)??n.urlWithParams,D=p.status,T=null;if(n.reportProgress&&c.next(new Zl({headers:x,status:D,statusText:m,url:E})),p.body){let H=p.headers.get("content-length"),J=[],Y=p.body.getReader(),V=0,se,Ke,re=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Ss(this,null,function*(){for(;;){let{done:me,value:W}=yield Y.read();if(me)break;if(J.push(W),V+=W.length,n.reportProgress){Ke=n.responseType==="text"?(Ke??"")+(se??=new TextDecoder).decode(W,{stream:!0}):void 0;let ur=()=>c.next({type:bi.DownloadProgress,total:H?+H:void 0,loaded:V,partialText:Ke});re?re.run(ur):ur()}}}));let j=this.concatChunks(J,V);try{let me=p.headers.get("Content-Type")??"";T=this.parseBody(n,j,me)}catch(me){c.error(new Di({error:me,headers:new Ar(p.headers),status:p.status,statusText:p.statusText,url:yC(p)??n.urlWithParams}));return}}D===0&&(D=T?200:0),D>=200&&D<300?(c.next(new so({body:T,headers:x,status:D,statusText:m,url:E})),c.complete()):c.error(new Di({error:T,headers:x,status:D,statusText:m,url:E}))})}parseBody(n,i,c){switch(n.responseType){case"json":let f=new TextDecoder().decode(i).replace(KS,"");return f===""?null:JSON.parse(f);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:c});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},c=n.withCredentials?"include":void 0;if(n.headers.forEach((f,p)=>i[f]=p.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let f=n.detectContentTypeHeader();f!==null&&(i["Content-Type"]=f)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:c}}concatChunks(n,i){let c=new Uint8Array(i),f=0;for(let p of n)c.set(p,f),f+=p.length;return c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),sp=class{};function ap(){}function e_(t){t.then(ap,ap)}function t_(t,e){return e(t)}function n_(t,e,r){return(n,i)=>Ir(r,()=>e(n,c=>t(c,i)))}var bC=new ue(""),SC=new ue(""),_C=new ue("");var CC=(()=>{let e=class e extends ta{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=Z(Xo);let c=Z(_C,{optional:!0});this.backend=c??n}handle(n){if(this.chain===null){let c=Array.from(new Set([...this.injector.get(bC),...this.injector.get(SC,[])]));this.chain=c.reduceRight((f,p)=>n_(f,p,this.injector),t_)}let i=this.pendingTasks.add();return this.chain(n,c=>this.backend.handle(c)).pipe(zi(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(ae(na),ae(an))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})();var r_=/^\)\]\}',?\n/;function i_(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var xC=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new ce(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ut(i.\u0275loadImpl()):ye(null)).pipe(Ft(()=>new Oe(f=>{let p=i.build();if(p.open(n.method,n.urlWithParams),n.withCredentials&&(p.withCredentials=!0),n.headers.forEach((Y,V)=>p.setRequestHeader(Y,V.join(","))),n.headers.has("Accept")||p.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let Y=n.detectContentTypeHeader();Y!==null&&p.setRequestHeader("Content-Type",Y)}if(n.responseType){let Y=n.responseType.toLowerCase();p.responseType=Y!=="json"?Y:"text"}let x=n.serializeBody(),m=null,E=()=>{if(m!==null)return m;let Y=p.statusText||"OK",V=new Ar(p.getAllResponseHeaders()),se=i_(p)||n.url;return m=new Zl({headers:V,status:p.status,statusText:Y,url:se}),m},D=()=>{let{headers:Y,status:V,statusText:se,url:Ke}=E(),re=null;V!==204&&(re=typeof p.response>"u"?p.responseText:p.response),V===0&&(V=re?200:0);let j=V>=200&&V<300;if(n.responseType==="json"&&typeof re=="string"){let me=re;re=re.replace(r_,"");try{re=re!==""?JSON.parse(re):null}catch(W){re=me,j&&(j=!1,re={error:W,text:re})}}j?(f.next(new so({body:re,headers:Y,status:V,statusText:se,url:Ke||void 0})),f.complete()):f.error(new Di({error:re,headers:Y,status:V,statusText:se,url:Ke||void 0}))},T=Y=>{let{url:V}=E(),se=new Di({error:Y,status:p.status||0,statusText:p.statusText||"Unknown Error",url:V||void 0});f.error(se)},N=!1,H=Y=>{N||(f.next(E()),N=!0);let V={type:bi.DownloadProgress,loaded:Y.loaded};Y.lengthComputable&&(V.total=Y.total),n.responseType==="text"&&p.responseText&&(V.partialText=p.responseText),f.next(V)},J=Y=>{let V={type:bi.UploadProgress,loaded:Y.loaded};Y.lengthComputable&&(V.total=Y.total),f.next(V)};return p.addEventListener("load",D),p.addEventListener("error",T),p.addEventListener("timeout",T),p.addEventListener("abort",T),n.reportProgress&&(p.addEventListener("progress",H),x!==null&&p.upload&&p.upload.addEventListener("progress",J)),p.send(x),f.next({type:bi.Sent}),()=>{p.removeEventListener("error",T),p.removeEventListener("abort",T),p.removeEventListener("load",D),p.removeEventListener("timeout",T),n.reportProgress&&(p.removeEventListener("progress",H),x!==null&&p.upload&&p.upload.removeEventListener("progress",J)),p.readyState!==p.DONE&&p.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(ae(qo))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),TC=new ue("XSRF_ENABLED"),o_="XSRF-TOKEN",s_=new ue("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>o_}),a_="X-XSRF-TOKEN",c_=new ue("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>a_}),Xl=class{},l_=(()=>{let e=class e{constructor(n,i,c){this.doc=n,this.platform=i,this.cookieName=c,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wl(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(ae(Wt),ae(cr),ae(s_))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})();function u_(t,e){let r=t.url.toLowerCase();if(!Z(TC)||t.method==="GET"||t.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return e(t);let n=Z(Xl).getToken(),i=Z(c_);return n!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,n)})),e(t)}var MC=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(MC||{});function d_(t,e){return{\u0275kind:t,\u0275providers:e}}function NC(...t){let e=[ao,xC,CC,{provide:ta,useExisting:CC},{provide:na,useExisting:xC},{provide:bC,useValue:u_,multi:!0},{provide:TC,useValue:!0},{provide:Xl,useClass:l_}];for(let r of t)e.push(...r.\u0275providers);return yi(e)}function OC(){return d_(MC.Fetch,[rp,{provide:na,useExisting:rp},{provide:_C,useExisting:rp}])}var wC="b",vC="h",EC="s",IC="st",DC="u",AC="rt",Yl=new ue(""),f_=["GET","HEAD"];function h_(t,e){let E=Z(Yl),{isCacheActive:r}=E,n=e0(E,["isCacheActive"]),{transferCache:i,method:c}=t;if(!r||c==="POST"&&!n.includePostRequests&&!i||c!=="POST"&&!f_.includes(c)||i===!1||n.filter?.(t)===!1)return e(t);let f=Z(no),p=g_(t),x=f.get(p,null),m=n.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(m=i.includeHeaders),x){let{[wC]:D,[AC]:T,[vC]:N,[EC]:H,[IC]:J,[DC]:Y}=x,V=D;switch(T){case"arraybuffer":V=new TextEncoder().encode(D).buffer;break;case"blob":V=new Blob([D]);break}let se=new Ar(N);return ye(new so({body:V,headers:se,status:H,statusText:J,url:Y}))}return e(t).pipe(ft(D=>{D instanceof so&&f.set(p,{[wC]:D.body,[vC]:p_(D.headers,m),[EC]:D.status,[IC]:D.statusText,[DC]:D.url||"",[AC]:t.responseType})}))}function p_(t,e){if(!e)return{};let r={};for(let n of e){let i=t.getAll(n);i!==null&&(r[n]=i)}return r}function g_(t){let{params:e,method:r,responseType:n,url:i}=t,c=e.keys().sort().map(x=>`${x}=${e.getAll(x)}`).join("&"),f=r+"."+n+"."+i+"?"+c,p=m_(f);return p}function m_(t){let e=0;for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483647+1,e.toString()}function RC(t){return[{provide:Yl,useFactory:()=>($o("NgHttpTransferCache"),ee({isCacheActive:!0},t))},{provide:SC,useValue:h_,multi:!0,deps:[no,Yl]},{provide:oo,multi:!0,useFactory:()=>{let e=Z(vi),r=Z(Yl);return()=>{Vh(e).then(()=>{r.isCacheActive=!1})}}}]}var dp=class extends Hl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},fp=class t extends dp{static makeCurrent(){nC(new t)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=y_();return r==null?null:C_(r)}resetBaseElement(){ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wl(document.cookie,e)}},ia=null;function y_(){return ia=ia||document.querySelector("base"),ia?ia.getAttribute("href"):null}function C_(t){return new URL(t,document.baseURI).pathname}var x_=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),hp=new ue("EventManagerPlugins"),kC=(()=>{let e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(c=>{c.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,c){return this._findPluginFor(i).addEventListener(n,i,c)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(f=>f.supports(n)),!i)throw new ce(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.\u0275fac=function(i){return new(i||e)(ae(hp),ae(at))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),ql=class{constructor(e){this._doc=e}},lp="ng-app-id",BC=(()=>{let e=class e{constructor(n,i,c,f={}){this.doc=n,this.appId=i,this.nonce=c,this.platformId=f,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=tp(f),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(c=>c.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${lp}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(c=>{c.textContent!=null&&i.set(c.textContent,c)}),i}return null}changeUsageCount(n,i){let c=this.styleRef;if(c.has(n)){let f=c.get(n);return f.usage+=i,f.usage}return c.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let c=this.styleNodesInDOM,f=c?.get(i);if(f?.parentNode===n)return c.delete(i),f.removeAttribute(lp),f;{let p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=i,this.platformIsServer&&p.setAttribute(lp,this.appId),n.appendChild(p),p}}addStyleToHost(n,i){let c=this.getStyleElement(n,i),f=this.styleRef,p=f.get(i)?.elements;p?p.push(c):f.set(i,{elements:[c],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ae(Wt),ae(pl),ae(sh,8),ae(cr))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),up={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gp=/%COMP%/g,VC="%COMP%",w_=`_nghost-${VC}`,v_=`_ngcontent-${VC}`,E_=!0,I_=new ue("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>E_});function D_(t){return v_.replace(gp,t)}function A_(t){return w_.replace(gp,t)}function UC(t,e){return e.map(r=>r.replace(gp,t))}var FC=(()=>{let e=class e{constructor(n,i,c,f,p,x,m,E=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=c,this.removeStylesOnCompDestroy=f,this.doc=p,this.platformId=x,this.ngZone=m,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=tp(x),this.defaultRenderer=new oa(n,p,m,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===yr.ShadowDom&&(i=nt(ee({},i),{encapsulation:yr.Emulated}));let c=this.getOrCreateRenderer(n,i);return c instanceof Ql?c.applyToHost(n):c instanceof sa&&c.applyStyles(),c}getOrCreateRenderer(n,i){let c=this.rendererByCompId,f=c.get(i.id);if(!f){let p=this.doc,x=this.ngZone,m=this.eventManager,E=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,T=this.platformIsServer;switch(i.encapsulation){case yr.Emulated:f=new Ql(m,E,i,this.appId,D,p,x,T);break;case yr.ShadowDom:return new pp(m,E,n,i,p,x,this.nonce,T);default:f=new sa(m,E,i,D,p,x,T);break}c.set(i.id,f)}return f}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ae(kC),ae(BC),ae(pl),ae(I_),ae(Wt),ae(cr),ae(at),ae(sh))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),oa=class{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(up[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(PC(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(PC(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new ce(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;let c=up[i];c?e.setAttributeNS(c,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){let i=up[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(kr.DashCase|kr.Important)?e.style.setProperty(r,n,i&kr.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&kr.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=Gr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function PC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var pp=class extends oa{constructor(e,r,n,i,c,f,p,x){super(e,c,f,x),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=UC(i.id,i.styles);for(let E of m){let D=document.createElement("style");p&&D.setAttribute("nonce",p),D.textContent=E,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sa=class extends oa{constructor(e,r,n,i,c,f,p,x){super(e,c,f,p),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=x?UC(x,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ql=class extends sa{constructor(e,r,n,i,c,f,p,x){let m=i+"-"+n.id;super(e,r,n,c,f,p,x,m),this.contentAttr=D_(m),this.hostAttr=A_(m)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}},b_=(()=>{let e=class e extends ql{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,c){return n.addEventListener(i,c,!1),()=>this.removeEventListener(n,i,c)}removeEventListener(n,i,c){return n.removeEventListener(i,c)}};e.\u0275fac=function(i){return new(i||e)(ae(Wt))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),LC=["alt","control","meta","shift"],S_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},__={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},T_=(()=>{let e=class e extends ql{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,c){let f=e.parseEventName(i),p=e.eventCallback(f.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gr().onAndCancel(n,f.domEventName,p))}static parseEventName(n){let i=n.toLowerCase().split("."),c=i.shift();if(i.length===0||!(c==="keydown"||c==="keyup"))return null;let f=e._normalizeKey(i.pop()),p="",x=i.indexOf("code");if(x>-1&&(i.splice(x,1),p="code."),LC.forEach(E=>{let D=i.indexOf(E);D>-1&&(i.splice(D,1),p+=E+".")}),p+=f,i.length!=0||f.length===0)return null;let m={};return m.domEventName=c,m.fullKey=p,m}static matchEventFullKeyCode(n,i){let c=S_[n.key]||n.key,f="";return i.indexOf("code.")>-1&&(c=n.code,f="code."),c==null||!c?!1:(c=c.toLowerCase(),c===" "?c="space":c==="."&&(c="dot"),LC.forEach(p=>{if(p!==c){let x=__[p];x(n)&&(f+=p+".")}}),f+=c,f===i)}static eventCallback(n,i,c){return f=>{e.matchEventFullKeyCode(f,n)&&c.runGuarded(()=>i(f))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(i){return new(i||e)(ae(Wt))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})();function jC(t,e){return Zy(ee({rootComponent:t},M_(e)))}function M_(t){return{appProviders:[...P_,...t?.providers??[]],platformProviders:F_}}function N_(){fp.makeCurrent()}function O_(){return new xr}function R_(){return Im(document),document}var F_=[{provide:cr,useValue:ep},{provide:oh,useValue:N_,multi:!0},{provide:Wt,useFactory:R_,deps:[]}];var P_=[{provide:fl,useValue:"root"},{provide:xr,useFactory:O_,deps:[]},{provide:hp,useClass:b_,multi:!0,deps:[Wt,at,cr]},{provide:hp,useClass:T_,multi:!0,deps:[Wt]},FC,BC,kC,{provide:js,useExisting:FC},{provide:qo,useClass:x_,deps:[]},[]];function L_(){return new mp(ae(Wt))}var mp=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(i){return new(i||e)(ae(Wt))},e.\u0275prov=ie({token:e,factory:function(i){let c=null;return i?c=new i:c=L_(),c},providedIn:"root"});let t=e;return t})();function HC(...t){let e=[],r=new Set,n=r.has(1);for(let{\u0275providers:i,\u0275kind:c}of t)r.add(c),i.length&&e.push(i);return yi([[],Xy(),r.has(0)||n?[]:RC({}),e])}var be="primary",Ea=Symbol("RouteTitle"),vp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function ns(t){return new vp(t)}function B_(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let i={};for(let c=0;c<n.length;c++){let f=n[c],p=t[c];if(f.startsWith(":"))i[f.substring(1)]=p;else if(f!==p.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function V_(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!br(t[r],e[r]))return!1;return!0}function br(t,e){let r=t?Ep(t):void 0,n=e?Ep(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let c=0;c<r.length;c++)if(i=r[c],!QC(t[i],e[i]))return!1;return!0}function Ep(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function QC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((i,c)=>n[c]===i)}else return t===e}function Mi(t){return Cd(t)?t:xi(t)?ut(Promise.resolve(t)):ye(t)}var U_={exact:JC,subset:ex},KC={exact:j_,subset:H_,ignored:()=>!0};function zC(t,e,r){return U_[r.paths](t.root,e.root,r.matrixParams)&&KC[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function j_(t,e){return br(t,e)}function JC(t,e,r){if(!lo(t.segments,e.segments)||!eu(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!JC(t.children[n],e.children[n],r))return!1;return!0}function H_(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>QC(t[r],e[r]))}function ex(t,e,r){return tx(t,e,e.segments,r)}function tx(t,e,r,n){if(t.segments.length>r.length){let i=t.segments.slice(0,r.length);return!(!lo(i,r)||e.hasChildren()||!eu(i,r,n))}else if(t.segments.length===r.length){if(!lo(t.segments,r)||!eu(t.segments,r,n))return!1;for(let i in e.children)if(!t.children[i]||!ex(t.children[i],e.children[i],n))return!1;return!0}else{let i=r.slice(0,t.segments.length),c=r.slice(t.segments.length);return!lo(t.segments,i)||!eu(t.segments,i,n)||!t.children[be]?!1:tx(t.children[be],e,c,n)}}function eu(t,e,r){return e.every((n,i)=>KC[r](t[i].parameters,n.parameters))}var Si=class{constructor(e=new Xe([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ns(this.queryParams)),this._queryParamMap}toString(){return W_.serialize(this)}},Xe=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tu(this)}},co=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=ns(this.parameters)),this._parameterMap}toString(){return rx(this)}};function z_(t,e){return lo(t,e)&&t.every((r,n)=>br(r.parameters,e[n].parameters))}function lo(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function G_(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===be&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==be&&(r=r.concat(e(i,n)))}),r}var Ia=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:()=>(()=>new ha)(),providedIn:"root"});let t=e;return t})(),ha=class{parse(e){let r=new Dp(e);return new Si(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${aa(e.root,!0)}`,n=Z_(e.queryParams),i=typeof e.fragment=="string"?`#${$_(e.fragment)}`:"";return`${r}${n}${i}`}},W_=new ha;function tu(t){return t.segments.map(e=>rx(e)).join("/")}function aa(t,e){if(!t.hasChildren())return tu(t);if(e){let r=t.children[be]?aa(t.children[be],!1):"",n=[];return Object.entries(t.children).forEach(([i,c])=>{i!==be&&n.push(`${i}:${aa(c,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=G_(t,(n,i)=>i===be?[aa(t.children[be],!1)]:[`${i}:${aa(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[be]!=null?`${tu(t)}/${r[0]}`:`${tu(t)}/(${r.join("//")})`}}function nx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kl(t){return nx(t).replace(/%3B/gi,";")}function $_(t){return encodeURI(t)}function Ip(t){return nx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nu(t){return decodeURIComponent(t)}function GC(t){return nu(t.replace(/\+/g,"%20"))}function rx(t){return`${Ip(t.path)}${Y_(t.parameters)}`}function Y_(t){return Object.entries(t).map(([e,r])=>`;${Ip(e)}=${Ip(r)}`).join("")}function Z_(t){let e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(i=>`${Kl(r)}=${Kl(i)}`).join("&"):`${Kl(r)}=${Kl(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var X_=/^[^\/()?;#]+/;function yp(t){let e=t.match(X_);return e?e[0]:""}var q_=/^[^\/()?;=#]+/;function Q_(t){let e=t.match(q_);return e?e[0]:""}var K_=/^[^=?&#]+/;function J_(t){let e=t.match(K_);return e?e[0]:""}var eT=/^[^&#]+/;function tT(t){let e=t.match(eT);return e?e[0]:""}var Dp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[be]=new Xe(e,r)),n}parseSegment(){let e=yp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ce(4009,!1);return this.capture(e),new co(nu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=Q_(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=yp(this.remaining);i&&(n=i,this.capture(n))}e[nu(r)]=nu(n)}parseQueryParam(e){let r=J_(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let f=tT(this.remaining);f&&(n=f,this.capture(n))}let i=GC(r),c=GC(n);if(e.hasOwnProperty(i)){let f=e[i];Array.isArray(f)||(f=[f],e[i]=f),f.push(c)}else e[i]=c}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=yp(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new ce(4010,!1);let c;n.indexOf(":")>-1?(c=n.slice(0,n.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=be);let f=this.parseChildren();r[c]=Object.keys(f).length===1?f[be]:new Xe([],f),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ce(4011,!1)}};function ix(t){return t.segments.length>0?new Xe([],{[be]:t}):t}function ox(t){let e={};for(let[n,i]of Object.entries(t.children)){let c=ox(i);if(n===be&&c.segments.length===0&&c.hasChildren())for(let[f,p]of Object.entries(c.children))e[f]=p;else(c.segments.length>0||c.hasChildren())&&(e[n]=c)}let r=new Xe(t.segments,e);return nT(r)}function nT(t){if(t.numberOfChildren===1&&t.children[be]){let e=t.children[be];return new Xe(t.segments.concat(e.segments),e.children)}return t}function rs(t){return t instanceof Si}function rT(t,e,r=null,n=null){let i=sx(t);return ax(i,e,r,n)}function sx(t){let e;function r(c){let f={};for(let x of c.children){let m=r(x);f[x.outlet]=m}let p=new Xe(c.url,f);return c===t&&(e=p),p}let n=r(t.root),i=ix(n);return e??i}function ax(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Cp(i,i,i,r,n);let c=iT(e);if(c.toRoot())return Cp(i,i,new Xe([],{}),r,n);let f=oT(c,i,t),p=f.processChildren?ua(f.segmentGroup,f.index,c.commands):lx(f.segmentGroup,f.index,c.commands);return Cp(i,f.segmentGroup,p,r,n)}function ru(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function pa(t){return typeof t=="object"&&t!=null&&t.outlets}function Cp(t,e,r,n,i){let c={};n&&Object.entries(n).forEach(([x,m])=>{c[x]=Array.isArray(m)?m.map(E=>`${E}`):`${m}`});let f;t===e?f=r:f=cx(t,e,r);let p=ix(ox(f));return new Si(p,c,i)}function cx(t,e,r){let n={};return Object.entries(t.children).forEach(([i,c])=>{c===e?n[i]=r:n[i]=cx(c,e,r)}),new Xe(t.segments,n)}var iu=class{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&ru(n[0]))throw new ce(4003,!1);let i=n.find(pa);if(i&&i!==n.at(-1))throw new ce(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function iT(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new iu(!0,0,t);let e=0,r=!1,n=t.reduce((i,c,f)=>{if(typeof c=="object"&&c!=null){if(c.outlets){let p={};return Object.entries(c.outlets).forEach(([x,m])=>{p[x]=typeof m=="string"?m.split("/"):m}),[...i,{outlets:p}]}if(c.segmentPath)return[...i,c.segmentPath]}return typeof c!="string"?[...i,c]:f===0?(c.split("/").forEach((p,x)=>{x==0&&p==="."||(x==0&&p===""?r=!0:p===".."?e++:p!=""&&i.push(p))}),i):[...i,c]},[]);return new iu(r,e,n)}var es=class{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function oT(t,e,r){if(t.isAbsolute)return new es(e,!0,0);if(!r)return new es(e,!1,NaN);if(r.parent===null)return new es(r,!0,0);let n=ru(t.commands[0])?0:1,i=r.segments.length-1+n;return sT(r,i,t.numberOfDoubleDots)}function sT(t,e,r){let n=t,i=e,c=r;for(;c>i;){if(c-=i,n=n.parent,!n)throw new ce(4005,!1);i=n.segments.length}return new es(n,!1,i-c)}function aT(t){return pa(t[0])?t[0].outlets:{[be]:t}}function lx(t,e,r){if(t||(t=new Xe([],{})),t.segments.length===0&&t.hasChildren())return ua(t,e,r);let n=cT(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let c=new Xe(t.segments.slice(0,n.pathIndex),{});return c.children[be]=new Xe(t.segments.slice(n.pathIndex),t.children),ua(c,0,i)}else return n.match&&i.length===0?new Xe(t.segments,{}):n.match&&!t.hasChildren()?Ap(t,e,r):n.match?ua(t,0,i):Ap(t,e,r)}function ua(t,e,r){if(r.length===0)return new Xe(t.segments,{});{let n=aT(r),i={};if(Object.keys(n).some(c=>c!==be)&&t.children[be]&&t.numberOfChildren===1&&t.children[be].segments.length===0){let c=ua(t.children[be],e,r);return new Xe(t.segments,c.children)}return Object.entries(n).forEach(([c,f])=>{typeof f=="string"&&(f=[f]),f!==null&&(i[c]=lx(t.children[c],e,f))}),Object.entries(t.children).forEach(([c,f])=>{n[c]===void 0&&(i[c]=f)}),new Xe(t.segments,i)}}function cT(t,e,r){let n=0,i=e,c={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return c;let f=t.segments[i],p=r[n];if(pa(p))break;let x=`${p}`,m=n<r.length-1?r[n+1]:null;if(i>0&&x===void 0)break;if(x&&m&&typeof m=="object"&&m.outlets===void 0){if(!$C(x,m,f))return c;n+=2}else{if(!$C(x,{},f))return c;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function Ap(t,e,r){let n=t.segments.slice(0,e),i=0;for(;i<r.length;){let c=r[i];if(pa(c)){let x=lT(c.outlets);return new Xe(n,x)}if(i===0&&ru(r[0])){let x=t.segments[e];n.push(new co(x.path,WC(r[0]))),i++;continue}let f=pa(c)?c.outlets[be]:`${c}`,p=i<r.length-1?r[i+1]:null;f&&p&&ru(p)?(n.push(new co(f,WC(p))),i+=2):(n.push(new co(f,{})),i++)}return new Xe(n,{})}function lT(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=Ap(new Xe([],{}),0,n))}),e}function WC(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function $C(t,e,r){return t==r.path&&br(e,r.parameters)}var da="imperative",Un=class{constructor(e,r){this.id=e,this.url=r}},is=class extends Un{constructor(e,r,n="imperative",i=null){super(e,r),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Sr=class extends Un{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_i=class extends Un{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ti=class extends Un{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=16}},ga=class extends Un{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ou=class extends Un{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bp=class extends Un{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sp=class extends Un{constructor(e,r,n,i,c){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_p=class extends Un{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tp=class extends Un{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mp=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Np=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Op=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rp=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fp=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pp=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},su=class{constructor(e,r,n){this.routerEvent=e,this.position=r,this.anchor=n,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ma=class{},ya=class{constructor(e){this.url=e}};var Lp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Da,this.attachRef=null}},Da=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let c=this.getOrCreateContext(n);c.outlet=i,this.contexts.set(n,c)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Lp,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),au=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=kp(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=kp(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=Bp(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Bp(e,this._root).map(r=>r.value)}};function kp(t,e){if(t===e.value)return e;for(let r of e.children){let n=kp(t,r);if(n)return n}return null}function Bp(t,e){if(t===e.value)return[e];for(let r of e.children){let n=Bp(t,r);if(n.length)return n.unshift(e),n}return[]}var Nn=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function Jo(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var cu=class extends au{constructor(e,r){super(e),this.snapshot=r,Zp(this,e)}toString(){return this.snapshot.toString()}};function ux(t){let e=uT(t),r=new dt([new co("",{})]),n=new dt({}),i=new dt({}),c=new dt({}),f=new dt(""),p=new Kt(r,n,c,f,i,be,t,e.root);return p.snapshot=e.root,new cu(new Nn(p,[]),e)}function uT(t){let e={},r={},n={},i="",c=new Ca([],e,n,i,r,be,t,null,{});return new lu("",new Nn(c,[]))}var Kt=class{constructor(e,r,n,i,c,f,p,x){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=c,this.outlet=f,this.component=p,this._futureSnapshot=x,this.title=this.dataSubject?.pipe(Ie(m=>m[Ea]))??ye(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(e=>ns(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(e=>ns(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yp(t,e,r="emptyOnly"){let n,{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:ee(ee({},e.params),t.params),data:ee(ee({},e.data),t.data),resolve:ee(ee(ee(ee({},t.data),e.data),i?.data),t._resolvedData)}:n={params:ee({},t.params),data:ee({},t.data),resolve:ee(ee({},t.data),t._resolvedData??{})},i&&fx(i)&&(n.resolve[Ea]=i.title),n}var Ca=class{get title(){return this.data?.[Ea]}constructor(e,r,n,i,c,f,p,x,m){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=c,this.outlet=f,this.component=p,this.routeConfig=x,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ns(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ns(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},lu=class extends au{constructor(e,r){super(r),this.url=e,Zp(this,r)}toString(){return dx(this._root)}};function Zp(t,e){e.value._routerState=t,e.children.forEach(r=>Zp(t,r))}function dx(t){let e=t.children.length>0?` { ${t.children.map(dx).join(", ")} } `:"";return`${t.value}${e}`}function xp(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,br(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),br(e.params,r.params)||t.paramsSubject.next(r.params),V_(e.url,r.url)||t.urlSubject.next(r.url),br(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vp(t,e){let r=br(t.params,e.params)&&z_(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||Vp(t.parent,e.parent))}function fx(t){return typeof t.title=="string"||t.title===null}var Xp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=be,this.activateEvents=new Et,this.deactivateEvents=new Et,this.attachEvents=new Et,this.detachEvents=new Et,this.parentContexts=Z(Da),this.location=Z(Ci),this.changeDetector=Z(ro),this.environmentInjector=Z(an),this.inputBinder=Z(hu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:c}=n.name;if(i)return;this.isTrackedInParentContexts(c)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(c)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ce(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ce(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ce(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new ce(4013,!1);this._activatedRoute=n;let c=this.location,p=n.snapshot.component,x=this.parentContexts.getOrCreateContext(this.name).children,m=new Up(n,x,c.injector);this.activated=c.createComponent(p,{index:c.length,injector:m,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ct({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Er]});let t=e;return t})(),Up=class{constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===Kt?this.route:e===Da?this.childContexts:this.parent.get(e,r)}},hu=new ue(""),YC=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,c=Ms([i.queryParams,i.params,i.data]).pipe(Ft(([f,p,x],m)=>(x=ee(ee(ee({},f),p),x),m===0?ye(x):Promise.resolve(x)))).subscribe(f=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let p=qy(i.component);if(!p){this.unsubscribeFromRouteData(n);return}for(let{templateName:x}of p.inputs)n.activatedComponentRef.setInput(x,f[x])});this.outletDataSubscriptions.set(n,c)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})();function dT(t,e,r){let n=xa(t,e._root,r?r._root:void 0);return new cu(n,e)}function xa(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let i=fT(t,e,r);return new Nn(n,i)}else{if(t.shouldAttach(e.value)){let c=t.retrieve(e.value);if(c!==null){let f=c.route;return f.value._futureSnapshot=e.value,f.children=e.children.map(p=>xa(t,p)),f}}let n=hT(e.value),i=e.children.map(c=>xa(t,c));return new Nn(n,i)}}function fT(t,e,r){return e.children.map(n=>{for(let i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return xa(t,n,i);return xa(t,n)})}function hT(t){return new Kt(new dt(t.url),new dt(t.params),new dt(t.queryParams),new dt(t.fragment),new dt(t.data),t.outlet,t.component,t)}var hx="ngNavigationCancelingError";function px(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gx(!1,0,e);return i.url=r,i.navigationBehaviorOptions=n,i}function gx(t,e,r){let n=new Error("NavigationCancelingError: "+(t||""));return n[hx]=!0,n.cancellationCode=e,r&&(n.url=r),n}function pT(t){return mx(t)&&rs(t.url)}function mx(t){return t&&t[hx]}var gT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=yt({type:e,selectors:[["ng-component"]],standalone:!0,features:[wt],decls:1,vars:0,template:function(i,c){i&1&&vn(0,"router-outlet")},dependencies:[Xp],encapsulation:2});let t=e;return t})();function mT(t,e){return t.providers&&!t._injector&&(t._injector=Sl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qp(t){let e=t.children&&t.children.map(qp),r=e?nt(ee({},t),{children:e}):ee({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==be&&(r.component=gT),r}function _r(t){return t.outlet||be}function yT(t,e){let r=t.filter(n=>_r(n)===e);return r.push(...t.filter(n=>_r(n)!==e)),r}function Aa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var CT=(t,e,r,n)=>Ie(i=>(new jp(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)),jp=class{constructor(e,r,n,i,c){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=c}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),xp(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let i=Jo(r);e.children.forEach(c=>{let f=c.value.outlet;this.deactivateRoutes(c,i[f],n),delete i[f]}),Object.values(i).forEach(c=>{this.deactivateRouteAndItsChildren(c,n)})}deactivateRoutes(e,r,n){let i=e.value,c=r?r.value:null;if(i===c)if(i.component){let f=n.getContext(i.outlet);f&&this.deactivateChildRoutes(e,r,f.children)}else this.deactivateChildRoutes(e,r,n);else c&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,c=Jo(e);for(let f of Object.values(c))this.deactivateRouteAndItsChildren(f,i);if(n&&n.outlet){let f=n.outlet.detach(),p=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:f,route:e,contexts:p})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,c=Jo(e);for(let f of Object.values(c))this.deactivateRouteAndItsChildren(f,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let i=Jo(r);e.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],n),this.forwardEvent(new Pp(c.value.snapshot))}),e.children.length&&this.forwardEvent(new Rp(e.value.snapshot))}activateRoutes(e,r,n){let i=e.value,c=r?r.value:null;if(xp(i),i===c)if(i.component){let f=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,f.children)}else this.activateChildRoutes(e,r,n);else if(i.component){let f=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),f.children.onOutletReAttached(p.contexts),f.attachRef=p.componentRef,f.route=p.route.value,f.outlet&&f.outlet.attach(p.componentRef,p.route.value),xp(p.route.value),this.activateChildRoutes(e,null,f.children)}else{let p=Aa(i.snapshot);f.attachRef=null,f.route=i,f.injector=p,f.outlet&&f.outlet.activateWith(i,f.injector),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,n)}},uu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ts=class{constructor(e,r){this.component=e,this.route=r}};function xT(t,e,r){let n=t._root,i=e?e._root:null;return ca(n,i,r,[n.value])}function wT(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ss(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!x1(t)?t:e.get(t):n}function ca(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let c=Jo(e);return t.children.forEach(f=>{vT(f,c[f.value.outlet],r,n.concat([f.value]),i),delete c[f.value.outlet]}),Object.entries(c).forEach(([f,p])=>fa(p,r.getContext(f),i)),i}function vT(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let c=t.value,f=e?e.value:null,p=r?r.getContext(t.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){let x=ET(f,c,c.routeConfig.runGuardsAndResolvers);x?i.canActivateChecks.push(new uu(n)):(c.data=f.data,c._resolvedData=f._resolvedData),c.component?ca(t,e,p?p.children:null,n,i):ca(t,e,r,n,i),x&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new ts(p.outlet.component,f))}else f&&fa(e,p,i),i.canActivateChecks.push(new uu(n)),c.component?ca(t,null,p?p.children:null,n,i):ca(t,null,r,n,i);return i}function ET(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!lo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!lo(t.url,e.url)||!br(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vp(t,e)||!br(t.queryParams,e.queryParams);case"paramsChange":default:return!Vp(t,e)}}function fa(t,e,r){let n=Jo(t),i=t.value;Object.entries(n).forEach(([c,f])=>{i.component?e?fa(f,e.children.getContext(c),r):fa(f,null,r):fa(f,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new ts(e.outlet.component,i)):r.canDeactivateChecks.push(new ts(null,i)):r.canDeactivateChecks.push(new ts(null,i))}function ba(t){return typeof t=="function"}function IT(t){return typeof t=="boolean"}function DT(t){return t&&ba(t.canLoad)}function AT(t){return t&&ba(t.canActivate)}function bT(t){return t&&ba(t.canActivateChild)}function ST(t){return t&&ba(t.canDeactivate)}function _T(t){return t&&ba(t.canMatch)}function yx(t){return t instanceof Qn||t?.name==="EmptyError"}var Jl=Symbol("INITIAL_VALUE");function os(){return Ft(t=>Ms(t.map(e=>e.pipe(Rr(1),Dd(Jl)))).pipe(Ie(e=>{for(let r of e)if(r!==!0){if(r===Jl)return Jl;if(r===!1||r instanceof Si)return r}return!0}),yn(e=>e!==Jl),Rr(1)))}function TT(t,e){return bt(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:f}}=r;return f.length===0&&c.length===0?ye(nt(ee({},r),{guardsResult:!0})):MT(f,n,i,t).pipe(bt(p=>p&&IT(p)?NT(n,c,t,e):ye(p)),Ie(p=>nt(ee({},r),{guardsResult:p})))})}function MT(t,e,r,n){return ut(t).pipe(bt(i=>LT(i.component,i.route,r,e,n)),Kn(i=>i!==!0,!0))}function NT(t,e,r,n){return ut(e).pipe(Or(i=>To(RT(i.route.parent,n),OT(i.route,n),PT(t,i.path,r),FT(t,i.route,r))),Kn(i=>i!==!0,!0))}function OT(t,e){return t!==null&&e&&e(new Fp(t)),ye(!0)}function RT(t,e){return t!==null&&e&&e(new Op(t)),ye(!0)}function FT(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return ye(!0);let i=n.map(c=>Cc(()=>{let f=Aa(e)??r,p=ss(c,f),x=AT(p)?p.canActivate(e,t):Ir(f,()=>p(e,t));return Mi(x).pipe(Kn())}));return ye(i).pipe(os())}function PT(t,e,r){let n=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(f=>wT(f)).filter(f=>f!==null).map(f=>Cc(()=>{let p=f.guards.map(x=>{let m=Aa(f.node)??r,E=ss(x,m),D=bT(E)?E.canActivateChild(n,t):Ir(m,()=>E(n,t));return Mi(D).pipe(Kn())});return ye(p).pipe(os())}));return ye(c).pipe(os())}function LT(t,e,r,n,i){let c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||c.length===0)return ye(!0);let f=c.map(p=>{let x=Aa(e)??i,m=ss(p,x),E=ST(m)?m.canDeactivate(t,e,r,n):Ir(x,()=>m(t,e,r,n));return Mi(E).pipe(Kn())});return ye(f).pipe(os())}function kT(t,e,r,n){let i=e.canLoad;if(i===void 0||i.length===0)return ye(!0);let c=i.map(f=>{let p=ss(f,t),x=DT(p)?p.canLoad(e,r):Ir(t,()=>p(e,r));return Mi(x)});return ye(c).pipe(os(),Cx(n))}function Cx(t){return pd(ft(e=>{if(rs(e))throw px(t,e)}),Ie(e=>e===!0))}function BT(t,e,r,n){let i=e.canMatch;if(!i||i.length===0)return ye(!0);let c=i.map(f=>{let p=ss(f,t),x=_T(p)?p.canMatch(e,r):Ir(t,()=>p(e,r));return Mi(x)});return ye(c).pipe(os(),Cx(n))}var wa=class{constructor(e){this.segmentGroup=e||null}},du=class extends Error{constructor(e){super(),this.urlTree=e}};function Ko(t){return oi(new wa(t))}function VT(t){return oi(new ce(4e3,!1))}function UT(t){return oi(gx(!1,3))}var Hp=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return ye(n);if(i.numberOfChildren>1||!i.children[be])return VT(e.redirectTo);i=i.children[be]}}applyRedirectCommands(e,r,n){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r.startsWith("/"))throw new du(i);return i}applyRedirectCreateUrlTree(e,r,n,i){let c=this.createSegmentGroup(e,r.root,n,i);return new Si(c,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([i,c])=>{if(typeof c=="string"&&c.startsWith(":")){let p=c.substring(1);n[i]=r[p]}else n[i]=c}),n}createSegmentGroup(e,r,n,i){let c=this.createSegments(e,r.segments,n,i),f={};return Object.entries(r.children).forEach(([p,x])=>{f[p]=this.createSegmentGroup(e,x,n,i)}),new Xe(c,f)}createSegments(e,r,n,i){return r.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,i):this.findOrReturn(c,n))}findPosParam(e,r,n){let i=n[r.path.substring(1)];if(!i)throw new ce(4001,!1);return i}findOrReturn(e,r){let n=0;for(let i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}},zp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jT(t,e,r,n,i){let c=Qp(t,e,r);return c.matched?(n=mT(e,n),BT(n,e,r,i).pipe(Ie(f=>f===!0?c:ee({},zp)))):ye(c)}function Qp(t,e,r){if(e.path==="**")return HT(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?ee({},zp):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||B_)(r,t,e);if(!i)return ee({},zp);let c={};Object.entries(i.posParams??{}).forEach(([p,x])=>{c[p]=x.path});let f=i.consumed.length>0?ee(ee({},c),i.consumed[i.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:f,positionalParamSegments:i.posParams??{}}}function HT(t){return{matched:!0,parameters:t.at(-1)?.parameters??{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ZC(t,e,r,n){return r.length>0&&WT(t,r,n)?{segmentGroup:new Xe(e,GT(n,new Xe(r,t.children))),slicedSegments:[]}:r.length===0&&$T(t,r,n)?{segmentGroup:new Xe(t.segments,zT(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new Xe(t.segments,t.children),slicedSegments:r}}function zT(t,e,r,n){let i={};for(let c of r)if(pu(t,e,c)&&!n[_r(c)]){let f=new Xe([],{});i[_r(c)]=f}return ee(ee({},n),i)}function GT(t,e){let r={};r[be]=e;for(let n of t)if(n.path===""&&_r(n)!==be){let i=new Xe([],{});r[_r(n)]=i}return r}function WT(t,e,r){return r.some(n=>pu(t,e,n)&&_r(n)!==be)}function $T(t,e,r){return r.some(n=>pu(t,e,n))}function pu(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function YT(t,e,r,n){return _r(t)!==n&&(n===be||!pu(e,r,t))?!1:Qp(e,t,r).matched}function ZT(t,e,r){return e.length===0&&!t.children[r]}var Gp=class{};function XT(t,e,r,n,i,c,f="emptyOnly"){return new Wp(t,e,r,n,i,f,c).recognize()}var qT=31,Wp=class{constructor(e,r,n,i,c,f,p){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=c,this.paramsInheritanceStrategy=f,this.urlSerializer=p,this.applyRedirects=new Hp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ce(4002,`'${e.segmentGroup}'`)}recognize(){let e=ZC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ie(r=>{let n=new Ca([],Object.freeze({}),Object.freeze(ee({},this.urlTree.queryParams)),this.urlTree.fragment,{},be,this.rootComponentType,null,{}),i=new Nn(n,r),c=new lu("",i),f=rT(n,[],this.urlTree.queryParams,this.urlTree.fragment);return f.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(f),this.inheritParamsAndData(c._root,null),{state:c,tree:f}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,be).pipe(Qt(n=>{if(n instanceof du)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof wa?this.noMatchError(n):n}))}inheritParamsAndData(e,r){let n=e.value,i=Yp(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(c=>this.inheritParamsAndData(c,n))}processSegmentGroup(e,r,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0).pipe(Ie(c=>c instanceof Nn?[c]:[]))}processChildren(e,r,n){let i=[];for(let c of Object.keys(n.children))c==="primary"?i.unshift(c):i.push(c);return ut(i).pipe(Or(c=>{let f=n.children[c],p=yT(r,c);return this.processSegmentGroup(e,p,f,c)}),Id((c,f)=>(c.push(...f),c)),si(null),Ed(),bt(c=>{if(c===null)return Ko(n);let f=xx(c);return QT(f),ye(f)}))}processSegment(e,r,n,i,c,f){return ut(r).pipe(Or(p=>this.processSegmentAgainstRoute(p._injector??e,r,p,n,i,c,f).pipe(Qt(x=>{if(x instanceof wa)return ye(null);throw x}))),Kn(p=>!!p),Qt(p=>{if(yx(p))return ZT(n,i,c)?ye(new Gp):Ko(n);throw p}))}processSegmentAgainstRoute(e,r,n,i,c,f,p){return YT(n,i,c,f)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,c,f):this.allowRedirects&&p?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,c,f):Ko(i):Ko(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,c,f){let{matched:p,consumedSegments:x,positionalParamSegments:m,remainingSegments:E}=Qp(r,i,c);if(!p)return Ko(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qT&&(this.allowRedirects=!1));let D=this.applyRedirects.applyRedirectCommands(x,i.redirectTo,m);return this.applyRedirects.lineralizeSegments(i,D).pipe(bt(T=>this.processSegment(e,n,r,T.concat(E),f,!1)))}matchSegmentAgainstRoute(e,r,n,i,c){let f=jT(r,n,i,e,this.urlSerializer);return n.path==="**"&&(r.children={}),f.pipe(Ft(p=>p.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(Ft(({routes:x})=>{let m=n._loadedInjector??e,{consumedSegments:E,remainingSegments:D,parameters:T}=p,N=new Ca(E,T,Object.freeze(ee({},this.urlTree.queryParams)),this.urlTree.fragment,JT(n),_r(n),n.component??n._loadedComponent??null,n,eM(n)),{segmentGroup:H,slicedSegments:J}=ZC(r,E,D,x);if(J.length===0&&H.hasChildren())return this.processChildren(m,x,H).pipe(Ie(V=>V===null?null:new Nn(N,V)));if(x.length===0&&J.length===0)return ye(new Nn(N,[]));let Y=_r(n)===c;return this.processSegment(m,x,H,J,Y?be:c,!0).pipe(Ie(V=>new Nn(N,V instanceof Nn?[V]:[])))}))):Ko(r)))}getChildConfig(e,r,n){return r.children?ye({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?ye({routes:r._loadedRoutes,injector:r._loadedInjector}):kT(e,r,n,this.urlSerializer).pipe(bt(i=>i?this.configLoader.loadChildren(e,r).pipe(ft(c=>{r._loadedRoutes=c.routes,r._loadedInjector=c.injector})):UT(r))):ye({routes:[],injector:e})}};function QT(t){t.sort((e,r)=>e.value.outlet===be?-1:r.value.outlet===be?1:e.value.outlet.localeCompare(r.value.outlet))}function KT(t){let e=t.value.routeConfig;return e&&e.path===""}function xx(t){let e=[],r=new Set;for(let n of t){if(!KT(n)){e.push(n);continue}let i=e.find(c=>n.value.routeConfig===c.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(let n of r){let i=xx(n.children);e.push(new Nn(n.value,i))}return e.filter(n=>!r.has(n))}function JT(t){return t.data||{}}function eM(t){return t.resolve||{}}function tM(t,e,r,n,i,c){return bt(f=>XT(t,e,r,n,f.extractedUrl,i,c).pipe(Ie(({state:p,tree:x})=>nt(ee({},f),{targetSnapshot:p,urlAfterRedirects:x}))))}function nM(t,e){return bt(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return ye(r);let c=new Set(i.map(x=>x.route)),f=new Set;for(let x of c)if(!f.has(x))for(let m of wx(x))f.add(m);let p=0;return ut(f).pipe(Or(x=>c.has(x)?rM(x,n,t,e):(x.data=Yp(x,x.parent,t).resolve,ye(void 0))),ft(()=>p++),Mo(1),bt(x=>p===f.size?ye(r):Pn))})}function wx(t){let e=t.children.map(r=>wx(r)).flat();return[t,...e]}function rM(t,e,r,n){let i=t.routeConfig,c=t._resolve;return i?.title!==void 0&&!fx(i)&&(c[Ea]=i.title),iM(c,t,e,n).pipe(Ie(f=>(t._resolvedData=f,t.data=Yp(t,t.parent,r).resolve,null)))}function iM(t,e,r,n){let i=Ep(t);if(i.length===0)return ye({});let c={};return ut(i).pipe(bt(f=>oM(t[f],e,r,n).pipe(Kn(),ft(p=>{c[f]=p}))),Mo(1),vd(c),Qt(f=>yx(f)?Pn:oi(f)))}function oM(t,e,r,n){let i=Aa(e)??n,c=ss(t,i),f=c.resolve?c.resolve(e,r):Ir(i,()=>c(e,r));return Mi(f)}function wp(t){return Ft(e=>{let r=t(e);return r?ut(r).pipe(Ie(()=>e)):ye(e)})}var vx=(()=>{let e=class e{buildTitle(n){let i,c=n.root;for(;c!==void 0;)i=this.getResolvedTitleForRoute(c)??i,c=c.children.find(f=>f.outlet===be);return i}getResolvedTitleForRoute(n){return n.data[Ea]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:()=>(()=>Z(sM))(),providedIn:"root"});let t=e;return t})(),sM=(()=>{let e=class e extends vx{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ae(mp))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sa=new ue("",{providedIn:"root",factory:()=>({})}),va=new ue("ROUTES"),Kp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Z(Ol)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ye(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Mi(n.loadComponent()).pipe(Ie(Ex),ft(f=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=f}),zi(()=>{this.componentLoaders.delete(n)})),c=new So(i,()=>new gn).pipe(bo());return this.componentLoaders.set(n,c),c}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ye({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let f=aM(i,this.compiler,n,this.onLoadEndListener).pipe(zi(()=>{this.childrenLoaders.delete(i)})),p=new So(f,()=>new gn).pipe(bo());return this.childrenLoaders.set(i,p),p}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aM(t,e,r,n){return Mi(t.loadChildren()).pipe(Ie(Ex),bt(i=>i instanceof zs||Array.isArray(i)?ye(i):ut(e.compileModuleAsync(i))),Ie(i=>{n&&n(t);let c,f,p=!1;return Array.isArray(i)?(f=i,p=!0):(c=i.create(r).injector,f=c.get(va,[],{optional:!0,self:!0}).flat()),{routes:f.map(qp),injector:c}}))}function cM(t){return t&&typeof t=="object"&&"default"in t}function Ex(t){return cM(t)?t.default:t}var Jp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:()=>(()=>Z(lM))(),providedIn:"root"});let t=e;return t})(),lM=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ix=new ue(""),Dx=new ue("");function uM(t,e,r){let n=t.get(Dx),i=t.get(Wt);return t.get(at).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let c,f=new Promise(m=>{c=m}),p=i.startViewTransition(()=>(c(),dM(t))),{onViewTransitionCreated:x}=n;return x&&Ir(t,()=>x({transition:p,from:e,to:r})),f})}function dM(t){return new Promise(e=>{Ah(e,{injector:t})})}var eg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gn,this.transitionAbortSubject=new gn,this.configLoader=Z(Kp),this.environmentInjector=Z(an),this.urlSerializer=Z(Ia),this.rootContexts=Z(Da),this.location=Z(Qo),this.inputBindingEnabled=Z(hu,{optional:!0})!==null,this.titleStrategy=Z(vx),this.options=Z(Sa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Z(Jp),this.createViewTransition=Z(Ix,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ye(void 0),this.rootComponentType=null;let n=c=>this.events.next(new Mp(c)),i=c=>this.events.next(new Np(c));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(nt(ee(ee({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,c){return this.transitions=new dt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:da,restoredState:null,currentSnapshot:c.snapshot,targetSnapshot:null,currentRouterState:c,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yn(f=>f.id!==0),Ie(f=>nt(ee({},f),{extractedUrl:this.urlHandlingStrategy.extract(f.rawUrl)})),Ft(f=>{this.currentTransition=f;let p=!1,x=!1;return ye(f).pipe(ft(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?nt(ee({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ft(m=>{let E=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),D=m.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!E&&D!=="reload"){let T="";return this.events.next(new Ti(m.id,this.urlSerializer.serialize(m.rawUrl),T,0)),m.resolve(null),Pn}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return ye(m).pipe(Ft(T=>{let N=this.transitions?.getValue();return this.events.next(new is(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),N!==this.transitions?.getValue()?Pn:Promise.resolve(T)}),tM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ft(T=>{f.targetSnapshot=T.targetSnapshot,f.urlAfterRedirects=T.urlAfterRedirects,this.currentNavigation=nt(ee({},this.currentNavigation),{finalUrl:T.urlAfterRedirects});let N=new ou(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(N)}));if(E&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){let{id:T,extractedUrl:N,source:H,restoredState:J,extras:Y}=m,V=new is(T,this.urlSerializer.serialize(N),H,J);this.events.next(V);let se=ux(this.rootComponentType).snapshot;return this.currentTransition=f=nt(ee({},m),{targetSnapshot:se,urlAfterRedirects:N,extras:nt(ee({},Y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=N,ye(f)}else{let T="";return this.events.next(new Ti(m.id,this.urlSerializer.serialize(m.extractedUrl),T,1)),m.resolve(null),Pn}}),ft(m=>{let E=new bp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(E)}),Ie(m=>(this.currentTransition=f=nt(ee({},m),{guards:xT(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),f)),TT(this.environmentInjector,m=>this.events.next(m)),ft(m=>{if(f.guardsResult=m.guardsResult,rs(m.guardsResult))throw px(this.urlSerializer,m.guardsResult);let E=new Sp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(E)}),yn(m=>m.guardsResult?!0:(this.cancelNavigationTransition(m,"",3),!1)),wp(m=>{if(m.guards.canActivateChecks.length)return ye(m).pipe(ft(E=>{let D=new _p(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(D)}),Ft(E=>{let D=!1;return ye(E).pipe(nM(this.paramsInheritanceStrategy,this.environmentInjector),ft({next:()=>D=!0,complete:()=>{D||this.cancelNavigationTransition(E,"",2)}}))}),ft(E=>{let D=new Tp(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(D)}))}),wp(m=>{let E=D=>{let T=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(D.routeConfig).pipe(ft(N=>{D.component=N}),Ie(()=>{})));for(let N of D.children)T.push(...E(N));return T};return Ms(E(m.targetSnapshot.root)).pipe(si(null),Rr(1))}),wp(()=>this.afterPreactivation()),Ft(()=>{let{currentSnapshot:m,targetSnapshot:E}=f,D=this.createViewTransition?.(this.environmentInjector,m.root,E.root);return D?ut(D).pipe(Ie(()=>f)):ye(f)}),Ie(m=>{let E=dT(n.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=f=nt(ee({},m),{targetRouterState:E}),this.currentNavigation.targetRouterState=E,f}),ft(()=>{this.events.next(new ma)}),CT(this.rootContexts,n.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Rr(1),ft({next:m=>{p=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sr(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{p=!0}}),Ad(this.transitionAbortSubject.pipe(ft(m=>{throw m}))),zi(()=>{if(!p&&!x){let m="";this.cancelNavigationTransition(f,m,1)}this.currentNavigation?.id===f.id&&(this.currentNavigation=null)}),Qt(m=>{if(x=!0,mx(m))this.events.next(new _i(f.id,this.urlSerializer.serialize(f.extractedUrl),m.message,m.cancellationCode)),pT(m)?this.events.next(new ya(m.url)):f.resolve(!1);else{this.events.next(new ga(f.id,this.urlSerializer.serialize(f.extractedUrl),m,f.targetSnapshot??void 0));try{f.resolve(n.errorHandler(m))}catch(E){f.reject(E)}}return Pn}))}))}cancelNavigationTransition(n,i,c){let f=new _i(n.id,this.urlSerializer.serialize(n.extractedUrl),i,c);this.events.next(f),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fM(t){return t!==da}var hM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:()=>(()=>Z(pM))(),providedIn:"root"});let t=e;return t})(),$p=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},pM=(()=>{let e=class e extends $p{};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=mi(e)))(c||e)}})(),e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ax=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:()=>(()=>Z(gM))(),providedIn:"root"});let t=e;return t})(),gM=(()=>{let e=class e extends Ax{constructor(){super(...arguments),this.location=Z(Qo),this.urlSerializer=Z(Ia),this.options=Z(Sa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Z(Jp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Si,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ux(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof is)this.stateMemento=this.createStateMemento();else if(n instanceof Ti)this.rawUrlTree=i.initialUrl;else if(n instanceof ou){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let c=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(c,i)}}else n instanceof ma?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof _i&&(n.code===3||n.code===2)?this.restoreHistory(i):n instanceof ga?this.restoreHistory(i,!0):n instanceof Sr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let c=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(c)||i.extras.replaceUrl){let f=this.browserPageId,p=ee(ee({},i.extras.state),this.generateNgRouterState(i.id,f));this.location.replaceState(c,"",p)}else{let f=ee(ee({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(c,"",f)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let c=this.browserPageId,f=this.currentPageId-c;f!==0?this.location.historyGo(f):this.currentUrlTree===n.finalUrl&&f===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=mi(e)))(c||e)}})(),e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),la=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(la||{});function bx(t,e){t.events.pipe(yn(r=>r instanceof Sr||r instanceof _i||r instanceof ga||r instanceof Ti),Ie(r=>r instanceof Sr||r instanceof Ti?la.COMPLETE:(r instanceof _i?r.code===0||r.code===1:!1)?la.REDIRECTING:la.FAILED),yn(r=>r!==la.REDIRECTING),Rr(1)).subscribe(()=>{e()})}function mM(t){throw t}var yM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Yt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Z(Nl),this.stateManager=Z(Ax),this.options=Z(Sa,{optional:!0})||{},this.pendingTasks=Z(Xo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Z(eg),this.urlSerializer=Z(Ia),this.location=Z(Qo),this.urlHandlingStrategy=Z(Jp),this._events=new gn,this.errorHandler=this.options.errorHandler||mM,this.navigated=!1,this.routeReuseStrategy=Z(hM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Z(va,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Z(hu,{optional:!0}),this.eventsSubscription=new Tt,this.isNgZoneEnabled=Z(at)instanceof at&&at.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let c=this.navigationTransitions.currentTransition,f=this.navigationTransitions.currentNavigation;if(c!==null&&f!==null){if(this.stateManager.handleRouterEvent(i,f),i instanceof _i&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Sr)this.navigated=!0;else if(i instanceof ya){let p=this.urlHandlingStrategy.merge(i.url,c.currentRawUrl),x={skipLocationChange:c.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||fM(c.source)};this.scheduleNavigation(p,da,null,x,{resolve:c.resolve,reject:c.reject,promise:c.promise})}}wM(i)&&this._events.next(i)}catch(c){this.navigationTransitions.transitionAbortSubject.next(c)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),da,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)}))}navigateToSyncWithBrowser(n,i,c){let f={replaceUrl:!0},p=c?.navigationId?c:null;if(c){let m=ee({},c);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(f.state=m)}let x=this.parseUrl(n);this.scheduleNavigation(x,i,p,f)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(qp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:c,queryParams:f,fragment:p,queryParamsHandling:x,preserveFragment:m}=i,E=m?this.currentUrlTree.fragment:p,D=null;switch(x){case"merge":D=ee(ee({},this.currentUrlTree.queryParams),f);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=f||null}D!==null&&(D=this.removeEmptyProps(D));let T;try{let N=c?c.snapshot:this.routerState.snapshot.root;T=sx(N)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),T=this.currentUrlTree.root}return ax(T,n,D,E??null)}navigateByUrl(n,i={skipLocationChange:!1}){let c=rs(n)?n:this.parseUrl(n),f=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(f,da,null,i)}navigate(n,i={skipLocationChange:!1}){return xM(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let c;if(i===!0?c=ee({},yM):i===!1?c=ee({},CM):c=i,rs(n))return zC(this.currentUrlTree,n,c);let f=this.parseUrl(n);return zC(this.currentUrlTree,f,c)}removeEmptyProps(n){return Object.entries(n).reduce((i,[c,f])=>(f!=null&&(i[c]=f),i),{})}scheduleNavigation(n,i,c,f,p){if(this.disposed)return Promise.resolve(!1);let x,m,E;p?(x=p.resolve,m=p.reject,E=p.promise):E=new Promise((T,N)=>{x=T,m=N});let D=this.pendingTasks.add();return bx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:f,resolve:x,reject:m,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(T=>Promise.reject(T))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xM(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ce(4008,!1)}function wM(t){return!(t instanceof ma)&&!(t instanceof ya)}var Sx=(()=>{let e=class e{constructor(n,i,c,f,p,x){this.router=n,this.route=i,this.tabIndexAttribute=c,this.renderer=f,this.el=p,this.locationStrategy=x,this.href=null,this.commands=null,this.onChanges=new gn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let m=p.nativeElement.tagName?.toLowerCase();this.isAnchorElement=m==="a"||m==="area",this.isAnchorElement?this.subscription=n.events.subscribe(E=>{E instanceof Sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,c,f,p){if(this.urlTree===null||this.isAnchorElement&&(n!==0||i||c||f||p||typeof this.target=="string"&&this.target!="_self"))return!0;let x={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,x),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let n=this.href===null?null:Um(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){let c=this.renderer,f=this.el.nativeElement;i!==null?c.setAttribute(f,n,i):c.removeAttribute(f,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Q(Yt),Q(Kt),eh("tabindex"),Q(Vr),Q(Tn),Q(Wr))},e.\u0275dir=Ct({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,c){i&1&&fe("click",function(p){return c.onClick(p.button,p.ctrlKey,p.shiftKey,p.altKey,p.metaKey)}),i&2&&io("target",c.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ei],skipLocationChange:["skipLocationChange","skipLocationChange",Ei],replaceUrl:["replaceUrl","replaceUrl",Ei],routerLink:"routerLink"},standalone:!0,features:[_h,Er]});let t=e;return t})();var fu=class{};var vM=(()=>{let e=class e{constructor(n,i,c,f,p){this.router=n,this.injector=c,this.preloadingStrategy=f,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(yn(n=>n instanceof Sr),Or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let c=[];for(let f of i){f.providers&&!f._injector&&(f._injector=Sl(f.providers,n,`Route: ${f.path}`));let p=f._injector??n,x=f._loadedInjector??p;(f.loadChildren&&!f._loadedRoutes&&f.canLoad===void 0||f.loadComponent&&!f._loadedComponent)&&c.push(this.preloadConfig(p,f)),(f.children||f._loadedRoutes)&&c.push(this.processRoutes(x,f.children??f._loadedRoutes))}return ut(c).pipe(_o())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let c;i.loadChildren&&i.canLoad===void 0?c=this.loader.loadChildren(n,i):c=ye(null);let f=c.pipe(bt(p=>p===null?ye(void 0):(i._loadedRoutes=p.routes,i._loadedInjector=p.injector,this.processRoutes(p.injector??n,p.routes))));if(i.loadComponent&&!i._loadedComponent){let p=this.loader.loadComponent(i);return ut([f,p]).pipe(_o())}else return f})}};e.\u0275fac=function(i){return new(i||e)(ae(Yt),ae(Ol),ae(an),ae(fu),ae(Kp))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_x=new ue(""),EM=(()=>{let e=class e{constructor(n,i,c,f,p={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=c,this.zone=f,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof is?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Sr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ti&&n.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof su&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new su(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){ry()},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})();function Tx(t,...e){return yi([{provide:va,multi:!0,useValue:t},[],{provide:Kt,useFactory:Mx,deps:[Yt]},{provide:oo,multi:!0,useFactory:Nx},e.map(r=>r.\u0275providers)])}function Mx(t){return t.routerState.root}function _a(t,e){return{\u0275kind:t,\u0275providers:e}}function Nx(){let t=Z(ar);return e=>{let r=t.get(vi);if(e!==r.components[0])return;let n=t.get(Yt),i=t.get(Ox);t.get(tg)===1&&n.initialNavigation(),t.get(Rx,null,Ne.Optional)?.setUpPreloading(),t.get(_x,null,Ne.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ox=new ue("",{factory:()=>new gn}),tg=new ue("",{providedIn:"root",factory:()=>1});function IM(){return _a(2,[{provide:tg,useValue:0},{provide:Rl,multi:!0,deps:[ar],useFactory:e=>{let r=e.get(rC,Promise.resolve());return()=>r.then(()=>new Promise(n=>{let i=e.get(Yt),c=e.get(Ox);bx(i,()=>{n(!0)}),e.get(eg).afterPreactivation=()=>(n(!0),c.closed?ye(void 0):c),i.initialNavigation()}))}}])}function DM(){return _a(3,[{provide:Rl,multi:!0,useFactory:()=>{let e=Z(Yt);return()=>{e.setUpLocationChangeListener()}}},{provide:tg,useValue:2}])}var Rx=new ue("");function AM(t){return _a(0,[{provide:Rx,useExisting:vM},{provide:fu,useExisting:t}])}function bM(){return _a(8,[YC,{provide:hu,useExisting:YC}])}function SM(t){let e=[{provide:Ix,useValue:uM},{provide:Dx,useValue:ee({skipNextTransition:!!t?.skipInitialTransition},t)}];return _a(9,e)}var XC=new ue("ROUTER_FORROOT_GUARD"),_M=[Qo,{provide:Ia,useClass:ha},Yt,Da,{provide:Kt,useFactory:Mx,deps:[Yt]},Kp,[]],Tr=(()=>{let e=class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[_M,[],{provide:va,multi:!0,useValue:n},{provide:XC,useFactory:OM,deps:[[Yt,new dl,new nh]]},{provide:Sa,useValue:i||{}},i?.useHash?MM():NM(),TM(),i?.preloadingStrategy?AM(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?RM(i):[],i?.bindToComponentInputs?bM().\u0275providers:[],i?.enableViewTransitions?SM().\u0275providers:[],FM()]}}static forChild(n){return{ngModule:e,providers:[{provide:va,multi:!0,useValue:n}]}}};e.\u0275fac=function(i){return new(i||e)(ae(XC,8))},e.\u0275mod=or({type:e}),e.\u0275inj=ir({});let t=e;return t})();function TM(){return{provide:_x,useFactory:()=>{let t=Z(fC),e=Z(at),r=Z(Sa),n=Z(eg),i=Z(Ia);return r.scrollOffset&&t.setOffset(r.scrollOffset),new EM(i,n,t,e,r)}}}function MM(){return{provide:Wr,useClass:oC}}function NM(){return{provide:Wr,useClass:Jh}}function OM(t){return"guarded"}function RM(t){return[t.initialNavigation==="disabled"?DM().\u0275providers:[],t.initialNavigation==="enabledBlocking"?IM().\u0275providers:[]]}var qC=new ue("");function FM(){return[{provide:qC,useFactory:Nx},{provide:oo,multi:!0,useExisting:qC}]}var jn=(()=>{let e=class e{constructor(n){this.httpClient=n,this.url="/api",this.clients$=new dt([])}refreshClients(){this.httpClient.get(`${this.url}/clients`).pipe(Qt(this.handleError)).subscribe(n=>{this.clients$.next(n)})}getClients(){return this.refreshClients(),this.clients$.asObservable()}getClient(n){return this.httpClient.get(`${this.url}/clients/${n}`).pipe(Qt(this.handleError))}createClient(n){return this.httpClient.post(`${this.url}/clients`,n,{responseType:"text"}).pipe(Qt(this.handleError))}updateClient(n,i){return this.httpClient.put(`${this.url}/clients/${n}`,i,{responseType:"text"}).pipe(Qt(this.handleError))}deleteClient(n){return this.httpClient.delete(`${this.url}/clients/${n}`,{responseType:"text"}).pipe(ft(()=>this.refreshClients()),Qt(this.handleError))}handleError(n){return console.error("An error occurred:",n),oi(()=>new Error("An error occurred; please try again later."))}getNewUserInfo(n){return this.httpClient.get(`${this.url}/users/${n}`).pipe(Qt(this.handleError))}checkIn(n,i){return this.httpClient.post(`${this.url}/check-in`,{zoneId:n,userId:i})}checkOut(n,i){return this.httpClient.post(`${this.url}/check-out`,{zoneId:n,userId:i})}};e.\u0275fac=function(i){return new(i||e)(ae(ao))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var PM=t=>["/clients",t],LM=t=>["edit/",t];function kM(t,e){if(t&1){let r=kt();L(0,"tr")(1,"td"),G(2),P(),L(3,"td")(4,"button",5),G(5,"View"),P(),L(6,"button",6),G(7,"Edit"),P(),L(8,"button",7),fe("click",function(){let c=Ge(r).$implicit,f=de();return We(f.deleteClient(c._id||""))}),G(9,"Delete"),P()()()}if(t&2){let r=e.$implicit;$(2),xt(r.clientname),$(2),ne("routerLink",Lh(3,PM,r._id)),$(2),ne("routerLink",Lh(5,LM,r._id))}}var BM=()=>["new"],Fx=(()=>{let e=class e{constructor(n){this.clientService=n,this.clients$=new Oe}ngOnInit(){this.fetchClients()}deleteClient(n){this.clientService.deleteClient(n).subscribe({next:()=>this.fetchClients()})}fetchClients(){this.clients$=this.clientService.getClients()}};e.\u0275fac=function(i){return new(i||e)(Q(jn))},e.\u0275cmp=yt({type:e,selectors:[["app-clients-list"]],standalone:!0,features:[wt],decls:15,vars:5,consts:[[1,"text-center","m-5"],[1,"layout"],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","mt-3",3,"routerLink"],[1,"btn","btn-info","me-1",3,"routerLink"],[1,"btn","btn-primary","me-1",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(i,c){i&1&&(L(0,"h2",0),G(1,"Clients List"),P(),L(2,"div",1)(3,"table",2)(4,"thead")(5,"tr")(6,"td"),G(7,"Client Name "),P(),L(8,"td"),G(9," Actions "),P()()(),L(10,"tbody"),Ue(11,kM,10,7,"tr",3),_l(12,"async"),P()(),L(13,"button",4),G(14,"Add a New Client"),P()()),i&2&&($(11),ne("ngForOf",Vy(12,2,c.clients$)),$(2),ne("routerLink",Ly(4,BM)))},dependencies:[Tr,Sx,$t,Ii,uC],encapsulation:2});let t=e;return t})();var Gx=(()=>{let e=class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(i){return new(i||e)(Q(Vr),Q(Tn))},e.\u0275dir=Ct({type:e});let t=e;return t})(),sg=(()=>{let e=class e extends Gx{};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=mi(e)))(c||e)}})(),e.\u0275dir=Ct({type:e,features:[kn]});let t=e;return t})(),Ra=new ue("NgValueAccessor");var VM={provide:Ra,useExisting:wr(()=>Oi),multi:!0};function UM(){let t=Gr()?Gr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var jM=new ue("CompositionEventMode"),Oi=(()=>{let e=class e extends Gx{constructor(n,i,c){super(n,i),this._compositionMode=c,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!UM())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(i){return new(i||e)(Q(Vr),Q(Tn),Q(jM,8))},e.\u0275dir=Ct({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,c){i&1&&fe("input",function(p){return c._handleInput(p.target.value)})("blur",function(){return c.onTouched()})("compositionstart",function(){return c._compositionStart()})("compositionend",function(p){return c._compositionEnd(p.target.value)})},features:[wi([VM]),kn]});let t=e;return t})();function Ni(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Wx(t){return t!=null&&typeof t.length=="number"}var Eu=new ue("NgValidators"),ag=new ue("NgAsyncValidators"),HM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Oa=class{static min(e){return zM(e)}static max(e){return GM(e)}static required(e){return $x(e)}static requiredTrue(e){return WM(e)}static email(e){return $M(e)}static minLength(e){return YM(e)}static maxLength(e){return ZM(e)}static pattern(e){return XM(e)}static nullValidator(e){return mu(e)}static compose(e){return Kx(e)}static composeAsync(e){return ew(e)}};function zM(t){return e=>{if(Ni(e.value)||Ni(t))return null;let r=parseFloat(e.value);return!isNaN(r)&&r<t?{min:{min:t,actual:e.value}}:null}}function GM(t){return e=>{if(Ni(e.value)||Ni(t))return null;let r=parseFloat(e.value);return!isNaN(r)&&r>t?{max:{max:t,actual:e.value}}:null}}function $x(t){return Ni(t.value)?{required:!0}:null}function WM(t){return t.value===!0?null:{required:!0}}function $M(t){return Ni(t.value)||HM.test(t.value)?null:{email:!0}}function YM(t){return e=>Ni(e.value)||!Wx(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function ZM(t){return e=>Wx(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function XM(t){if(!t)return mu;let e,r;return typeof t=="string"?(r="",t.charAt(0)!=="^"&&(r+="^"),r+=t,t.charAt(t.length-1)!=="$"&&(r+="$"),e=new RegExp(r)):(r=t.toString(),e=t),n=>{if(Ni(n.value))return null;let i=n.value;return e.test(i)?null:{pattern:{requiredPattern:r,actualValue:i}}}}function mu(t){return null}function Yx(t){return t!=null}function Zx(t){return xi(t)?ut(t):t}function Xx(t){let e={};return t.forEach(r=>{e=r!=null?ee(ee({},e),r):e}),Object.keys(e).length===0?null:e}function qx(t,e){return e.map(r=>r(t))}function qM(t){return!t.validate}function Qx(t){return t.map(e=>qM(e)?e:r=>e.validate(r))}function Kx(t){if(!t)return null;let e=t.filter(Yx);return e.length==0?null:function(r){return Xx(qx(r,e))}}function Jx(t){return t!=null?Kx(Qx(t)):null}function ew(t){if(!t)return null;let e=t.filter(Yx);return e.length==0?null:function(r){let n=qx(r,e).map(Zx);return wd(n).pipe(Ie(Xx))}}function tw(t){return t!=null?ew(Qx(t)):null}function Px(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function nw(t){return t._rawValidators}function rw(t){return t._rawAsyncValidators}function ng(t){return t?Array.isArray(t)?t:[t]:[]}function yu(t,e){return Array.isArray(t)?t.includes(e):t===e}function Lx(t,e){let r=ng(e);return ng(t).forEach(i=>{yu(r,i)||r.push(i)}),r}function kx(t,e){return ng(e).filter(r=>!yu(t,r))}var Cu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},fo=class extends Cu{get formDirective(){return null}get path(){return null}},ho=class extends Cu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},QM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},u6=nt(ee({},QM),{"[class.ng-submitted]":"isSubmitted"}),ds=(()=>{let e=class e extends xu{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(Q(ho,2))},e.\u0275dir=Ct({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,c){i&2&&Dl("ng-untouched",c.isUntouched)("ng-touched",c.isTouched)("ng-pristine",c.isPristine)("ng-dirty",c.isDirty)("ng-valid",c.isValid)("ng-invalid",c.isInvalid)("ng-pending",c.isPending)},features:[kn]});let t=e;return t})(),iw=(()=>{let e=class e extends xu{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(Q(fo,10))},e.\u0275dir=Ct({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,c){i&2&&Dl("ng-untouched",c.isUntouched)("ng-touched",c.isTouched)("ng-pristine",c.isPristine)("ng-dirty",c.isDirty)("ng-valid",c.isValid)("ng-invalid",c.isInvalid)("ng-pending",c.isPending)("ng-submitted",c.isSubmitted)},features:[kn]});let t=e;return t})();var Ta="VALID",gu="INVALID",cs="PENDING",Ma="DISABLED";function cg(t){return(Iu(t)?t.validators:t)||null}function KM(t){return Array.isArray(t)?Jx(t):t||null}function lg(t,e){return(Iu(e)?e.asyncValidators:t)||null}function JM(t){return Array.isArray(t)?tw(t):t||null}function Iu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function ow(t,e,r){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new ce(1e3,"");if(!n[r])throw new ce(1001,"")}function sw(t,e,r){t._forEachChild((n,i)=>{if(r[i]===void 0)throw new ce(1002,"")})}var ls=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ta}get invalid(){return this.status===gu}get pending(){return this.status==cs}get disabled(){return this.status===Ma}get enabled(){return this.status!==Ma}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Lx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Lx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kx(e,this._rawAsyncValidators))}hasValidator(e){return yu(this._rawValidators,e)}hasAsyncValidator(e){return yu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=cs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Ma,this.errors=null,this._forEachChild(n=>{n.disable(nt(ee({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(nt(ee({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Ta,this._forEachChild(n=>{n.enable(nt(ee({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(nt(ee({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ta||this.status===cs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ma:Ta}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=cs,this._hasOwnPendingAsyncValidator=!0;let r=Zx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Et,this.statusChanges=new Et}_calculateStatus(){return this._allControlsDisabled()?Ma:this.errors?gu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cs)?cs:this._anyControlsHaveStatus(gu)?gu:Ta}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Iu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=KM(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=JM(this._rawAsyncValidators)}},us=class extends ls{constructor(e,r,n){super(cg(r),lg(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,n={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){sw(this,!0,e),Object.keys(e).forEach(n=>{ow(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(n=>{let i=this.controls[n];i&&i.patchValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((n,i)=>{n.reset(e?e[i]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,n)=>(e[n]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,n)=>n._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let n=this.controls[r];n&&e(n,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,n]of Object.entries(this.controls))if(this.contains(r)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,n,i)=>((n.enabled||this.disabled)&&(r[i]=n.value),r))}_reduceChildren(e,r){let n=e;return this._forEachChild((i,c)=>{n=r(n,i,c)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var rg=class extends us{};var Du=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>Au}),Au="always";function aw(t,e){return[...e.path,t]}function ig(t,e,r=Au){ug(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),tN(t,e),rN(t,e),nN(t,e),eN(t,e)}function Bx(t,e,r=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),vu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function wu(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function eN(t,e){if(e.valueAccessor.setDisabledState){let r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}function ug(t,e){let r=nw(t);e.validator!==null?t.setValidators(Px(r,e.validator)):typeof r=="function"&&t.setValidators([r]);let n=rw(t);e.asyncValidator!==null?t.setAsyncValidators(Px(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let i=()=>t.updateValueAndValidity();wu(e._rawValidators,i),wu(e._rawAsyncValidators,i)}function vu(t,e){let r=!1;if(t!==null){if(e.validator!==null){let i=nw(t);if(Array.isArray(i)&&i.length>0){let c=i.filter(f=>f!==e.validator);c.length!==i.length&&(r=!0,t.setValidators(c))}}if(e.asyncValidator!==null){let i=rw(t);if(Array.isArray(i)&&i.length>0){let c=i.filter(f=>f!==e.asyncValidator);c.length!==i.length&&(r=!0,t.setAsyncValidators(c))}}}let n=()=>{};return wu(e._rawValidators,n),wu(e._rawAsyncValidators,n),r}function tN(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&cw(t,e)})}function nN(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&cw(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function cw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function rN(t,e){let r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}function iN(t,e){t==null,ug(t,e)}function oN(t,e){return vu(t,e)}function lw(t,e){if(!t.hasOwnProperty("model"))return!1;let r=t.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function sN(t){return Object.getPrototypeOf(t.constructor)===sg}function aN(t,e){t._syncPendingControls(),e.forEach(r=>{let n=r.control;n.updateOn==="submit"&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function uw(t,e){if(!e)return null;Array.isArray(e);let r,n,i;return e.forEach(c=>{c.constructor===Oi?r=c:sN(c)?n=c:i=c}),i||n||r||null}function cN(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function Vx(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function Ux(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Na=class extends ls{constructor(e=null,r,n){super(cg(r),lg(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Iu(r)&&(r.nonNullable||r.initialValueIsDefault)&&(Ux(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ux(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lN=t=>t instanceof Na;var uN={provide:ho,useExisting:wr(()=>Fa)},jx=(()=>Promise.resolve())(),Fa=(()=>{let e=class e extends ho{constructor(n,i,c,f,p,x){super(),this._changeDetectorRef=p,this.callSetDisabledState=x,this.control=new Na,this._registered=!1,this.name="",this.update=new Et,this._parent=n,this._setValidators(i),this._setAsyncValidators(c),this.valueAccessor=uw(this,f)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),lw(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ig(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){jx.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,c=i!==0&&Ei(i);jx.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?aw(n,this._parent):[n]}};e.\u0275fac=function(i){return new(i||e)(Q(fo,9),Q(Eu,10),Q(ag,10),Q(Ra,10),Q(ro,8),Q(Du,8))},e.\u0275dir=Ct({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[wi([uN]),kn,Er]});let t=e;return t})(),dw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ct({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var dN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=or({type:e}),e.\u0275inj=ir({});let t=e;return t})();var fw=new ue("NgModelWithFormControlWarning");var fN={provide:fo,useExisting:wr(()=>dg)},dg=(()=>{let e=class e extends fo{constructor(n,i,c){super(),this.callSetDisabledState=c,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Et,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return ig(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){Bx(n.control||null,n,!1),cN(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,aN(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,c=this.form.get(n.path);i!==c&&(Bx(i||null,n),lN(c)&&(ig(c,n,this.callSetDisabledState),n.control=c))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);iN(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&oN(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ug(this.form,this),this._oldForm&&vu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(Q(Eu,10),Q(ag,10),Q(Du,8))},e.\u0275dir=Ct({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,c){i&1&&fe("submit",function(p){return c.onSubmit(p)})("reset",function(){return c.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wi([fN]),kn,Er]});let t=e;return t})();var hN={provide:ho,useExisting:wr(()=>fg)},fg=(()=>{let e=class e extends ho{set isDisabled(n){}constructor(n,i,c,f,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.name=null,this.update=new Et,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(c),this.valueAccessor=uw(this,f)}ngOnChanges(n){this._added||this._setUpControl(),lw(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return aw(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(Q(fo,13),Q(Eu,10),Q(ag,10),Q(Ra,10),Q(fw,8))},e.\u0275dir=Ct({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[wi([hN]),kn,Er]});let t=e;return t})(),pN={provide:Ra,useExisting:wr(()=>bu),multi:!0};function hw(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function gN(t){return t.split(":")[0]}var bu=(()=>{let e=class e extends sg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),c=hw(i,n);this.setProperty("value",c)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=gN(n);return this._optionMap.has(i)?this._optionMap.get(i):n}};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=mi(e)))(c||e)}})(),e.\u0275dir=Ct({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,c){i&1&&fe("change",function(p){return c.onChange(p.target.value)})("blur",function(){return c.onTouched()})},inputs:{compareWith:"compareWith"},features:[wi([pN]),kn]});let t=e;return t})(),pw=(()=>{let e=class e{constructor(n,i,c){this._element=n,this._renderer=i,this._select=c,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(hw(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(Q(Tn),Q(Vr),Q(bu,9))},e.\u0275dir=Ct({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),mN={provide:Ra,useExisting:wr(()=>gw),multi:!0};function Hx(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function yN(t){return t.split(":")[0]}var gw=(()=>{let e=class e extends sg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let c=n.map(f=>this._getOptionId(f));i=(f,p)=>{f._setSelected(c.indexOf(p.toString())>-1)}}else i=(c,f)=>{c._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let c=[],f=i.selectedOptions;if(f!==void 0){let p=f;for(let x=0;x<p.length;x++){let m=p[x],E=this._getOptionValue(m.value);c.push(E)}}else{let p=i.options;for(let x=0;x<p.length;x++){let m=p[x];if(m.selected){let E=this._getOptionValue(m.value);c.push(E)}}}this.value=c,n(c)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=yN(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=mi(e)))(c||e)}})(),e.\u0275dir=Ct({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,c){i&1&&fe("change",function(p){return c.onChange(p.target)})("blur",function(){return c.onTouched()})},inputs:{compareWith:"compareWith"},features:[wi([mN]),kn]});let t=e;return t})(),mw=(()=>{let e=class e{constructor(n,i,c){this._element=n,this._renderer=i,this._select=c,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Hx(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Hx(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(Q(Tn),Q(Vr),Q(gw,9))},e.\u0275dir=Ct({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var CN=(()=>{let e=class e{constructor(){this._validator=mu}ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):mu,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ct({type:e,features:[Er]});let t=e;return t})();var xN={provide:Eu,useExisting:wr(()=>hg),multi:!0};var hg=(()=>{let e=class e extends CN{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ei,this.createValidator=n=>$x}enabled(n){return n}};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=mi(e)))(c||e)}})(),e.\u0275dir=Ct({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,c){i&2&&io("required",c._enabled?"":null)},inputs:{required:"required"},features:[wi([xN]),kn]});let t=e;return t})();var yw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=or({type:e}),e.\u0275inj=ir({imports:[dN]});let t=e;return t})(),og=class extends ls{constructor(e,r,n){super(cg(r),lg(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,n={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,r={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),r&&(this.controls.splice(i,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){sw(this,!1,e),e.forEach((n,i)=>{ow(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(e.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((r,n)=>n._syncPendingControls()?!0:r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((r,n)=>{e(r,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function zx(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Cw=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,i=null){let c=this._reduceControls(n),f={};return zx(i)?f=i:i!==null&&(f.validators=i.validator,f.asyncValidators=i.asyncValidator),new us(c,f)}record(n,i=null){let c=this._reduceControls(n);return new rg(c,i)}control(n,i,c){let f={};return this.useNonNullable?(zx(i)?f=i:(f.validators=i,f.asyncValidators=c),new Na(n,nt(ee({},f),{nonNullable:!0}))):new Na(n,i,c)}array(n,i,c){let f=n.map(p=>this._createControl(p));return new og(f,i,c)}_reduceControls(n){let i={};return Object.keys(n).forEach(c=>{i[c]=this._createControl(n[c])}),i}_createControl(n){if(n instanceof Na)return n;if(n instanceof ls)return n;if(Array.isArray(n)){let i=n[0],c=n.length>1?n[1]:null,f=n.length>2?n[2]:null;return this.control(i,c,f)}else return this.control(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ri=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Du,useValue:n.callSetDisabledState??Au}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=or({type:e}),e.\u0275inj=ir({imports:[yw]});let t=e;return t})(),xw=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:fw,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Du,useValue:n.callSetDisabledState??Au}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=or({type:e}),e.\u0275inj=ir({imports:[yw]});let t=e;return t})();function wN(t,e){t&1&&(L(0,"div"),G(1," Client name is required. "),P())}function vN(t,e){t&1&&(L(0,"div"),G(1," Client name must be at least 3 characters long. "),P())}function EN(t,e){if(t&1&&(L(0,"div",6),Ue(1,wN,2,0,"div",7)(2,vN,2,0,"div",7),P()),t&2){let r=de();$(),ne("ngIf",r.clientname.errors==null?null:r.clientname.errors.required),$(),ne("ngIf",r.clientname.errors==null?null:r.clientname.errors.minlength)}}var Su=(()=>{let e=class e{constructor(n){this.fb=n,this.initialState=new dt({}),this.formValuesChanged=new Et,this.formSubmitted=new Et,this.clientForm=new us({})}get clientname(){return this.clientForm.get("clientname")}ngOnInit(){this.initialState.subscribe(n=>{this.clientForm=this.fb.group({clientname:[n.clientname,[Oa.required,Oa.minLength(3)]]})}),this.clientForm.valueChanges.subscribe(n=>this.formValuesChanged.emit(n))}submitForm(){this.formSubmitted.emit(this.clientForm.value)}};e.\u0275fac=function(i){return new(i||e)(Q(Cw))},e.\u0275cmp=yt({type:e,selectors:[["app-client-form"]],inputs:{initialState:"initialState"},outputs:{formValuesChanged:"formValuesChanged",formSubmitted:"formSubmitted"},standalone:!0,features:[wt],decls:8,vars:3,consts:[["autocomplete","off",1,"client-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","clientname"],["type","text","id","clientname","formControlName","clientname","placeholder","Client Name","required",""],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(i,c){i&1&&(L(0,"form",0),fe("ngSubmit",function(){return c.submitForm()}),L(1,"div",1)(2,"label",2),G(3,"Client Name"),P(),vn(4,"input",3),P(),Ue(5,EN,3,2,"div",4),L(6,"button",5),G(7,"Submit"),P()()),i&2&&(ne("formGroup",c.clientForm),$(5),ne("ngIf",c.clientname.invalid&&(c.clientname.dirty||c.clientname.touched)),$(),ne("disabled",c.clientForm.invalid))},dependencies:[$t,Dr,xw,dw,Oi,ds,iw,hg,dg,fg],styles:[".client-form[_ngcontent-%COMP%]{max-width:560px;margin-left:auto;margin-right:auto}"]});let t=e;return t})();var ww=(()=>{let e=class e{constructor(n,i){this.router=n,this.clientService=i}addClient(n){this.clientService.createClient(n).subscribe({next:()=>{this.router.navigate([""])},error:i=>{alert("Failed to create client"),console.error(i)}})}};e.\u0275fac=function(i){return new(i||e)(Q(Yt),Q(jn))},e.\u0275cmp=yt({type:e,selectors:[["app-add-client"]],standalone:!0,features:[wt],decls:3,vars:0,consts:[[1,"text-center","m-5"],[3,"formSubmitted"]],template:function(i,c){i&1&&(L(0,"h2",0),G(1,"Add a New Client"),P(),L(2,"app-client-form",1),fe("formSubmitted",function(p){return c.addClient(p)}),P())},dependencies:[Su,Ri],encapsulation:2});let t=e;return t})();var vw=(()=>{let e=class e{constructor(n,i,c){this.router=n,this.route=i,this.clientService=c,this.client=new dt({})}ngOnInit(){let n=this.route.snapshot.paramMap.get("id");if(!n){alert("No id provided");return}this.clientService.getClient(n).subscribe(i=>{this.client.next(i)})}editClient(n){this.clientService.updateClient(this.client.value._id||"",n).subscribe({next:()=>{this.router.navigate(["/clients"])},error:i=>{alert("Failed to update client"),console.error(i)}})}};e.\u0275fac=function(i){return new(i||e)(Q(Yt),Q(Kt),Q(jn))},e.\u0275cmp=yt({type:e,selectors:[["app-edit-client"]],standalone:!0,features:[wt],decls:3,vars:1,consts:[[1,"text-center","m-5"],[3,"initialState","formSubmitted"]],template:function(i,c){i&1&&(L(0,"h2",0),G(1,"Edit a Client"),P(),L(2,"app-client-form",1),fe("formSubmitted",function(p){return c.editClient(p)}),P()),i&2&&($(2),ne("initialState",c.client))},dependencies:[Su,Ri],encapsulation:2});let t=e;return t})();var fs=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl="/api/users"}createNewUser(n){return this.http.post(this.apiUrl,n)}getNewUserInfo(n){return this.http.get(`${this.apiUrl}/${n}`)}fetchUsersByIds(n){return this.http.post(`${this.apiUrl}/fetchByIds`,{ids:n})}updateUser(n){return this.http.put(`${this.apiUrl}/${n._id}`,n)}deleteUser(n){return this.http.delete(`${this.apiUrl}/${n}`)}};e.\u0275fac=function(i){return new(i||e)(ae(ao))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IN(t,e){if(t&1){let r=kt();L(0,"li"),G(1),L(2,"button",16),fe("click",function(){let c=Ge(r).$implicit,f=de();return We(f.deleteUser(c._id||""))}),G(3,"Delete"),P()()}if(t&2){let r=e.$implicit;$(),Ks(" ",r.firstname," ",r.lastname," - ",r.role," - ",r.email," ")}}function DN(t,e){if(t&1){let r=kt();L(0,"li",17)(1,"span",18),G(2),P(),L(3,"div",19)(4,"button",20),fe("click",function(){let c=Ge(r).index,f=de();return We(f.editLocation(c))}),G(5,"Edit"),P(),L(6,"button",16),fe("click",function(){let c=Ge(r).index,f=de();return We(f.deleteLocation(c))}),G(7,"Delete"),P(),L(8,"button",21),fe("click",function(){let c=Ge(r).$implicit,f=de();return We(f.viewZones(c))}),G(9,"View Zones"),P()()()}if(t&2){let r=e.$implicit;$(2),xt(r.locationname)}}function AN(t,e){if(t&1&&(L(0,"div"),vn(1,"img",30),P()),t&2){let r=de().$implicit;$(),ne("src",r.qrcode,qs)}}function bN(t,e){t&1&&(L(0,"p"),G(1,"Missing QR Code"),P())}function SN(t,e){if(t&1){let r=kt();L(0,"li",26),G(1),Ue(2,AN,2,1,"div",27)(3,bN,2,0,"ng-template",null,28,Ml),L(5,"button",29),fe("click",function(){let c=Ge(r).$implicit,f=de(2);return We(f.viewSteps(c))}),G(6,"View Steps"),P()()}if(t&2){let r=e.$implicit,n=Yo(4);$(),ln(" ",r.zonename," "),$(),ne("ngIf",r.qrcode)("ngIfElse",n)}}function _N(t,e){if(t&1){let r=kt();L(0,"div",22)(1,"h2"),G(2),P(),L(3,"ul",23),Ue(4,SN,7,3,"li",24),P(),L(5,"div")(6,"input",25),fe("ngModelChange",function(i){Ge(r);let c=de();return We(c.newZoneName=i)}),P(),L(7,"button",13),fe("click",function(){Ge(r);let i=de();return We(i.addZone())}),G(8,"Add Zone"),P()()()}if(t&2){let r=de();$(2),ln("",r.selectedLocation.locationname," Zones"),$(2),ne("ngForOf",r.selectedLocation.zone),$(2),ne("ngModel",r.newZoneName)}}function TN(t,e){if(t&1&&(L(0,"li",35),G(1),P()),t&2){let r=e.$implicit;$(),ln(" ",r," ")}}function MN(t,e){if(t&1){let r=kt();L(0,"div",31)(1,"h2"),G(2),P(),L(3,"ul",32),Ue(4,TN,2,1,"li",33),P(),L(5,"div")(6,"input",34),fe("ngModelChange",function(i){Ge(r);let c=de();return We(c.newStep=i)}),P(),L(7,"button",13),fe("click",function(){Ge(r);let i=de();return We(i.addStep())}),G(8,"Add Step"),P()()()}if(t&2){let r=de();$(2),ln("",r.selectedZone.zonename," Steps"),$(2),ne("ngForOf",r.selectedZone.steps),$(2),ne("ngModel",r.newStep)}}var Ew=(()=>{let e=class e{constructor(n,i,c,f){this.route=n,this.clientService=i,this.userService=c,this.router=f,this.newLocationName="",this.newZoneName="",this.newStep="",this.newUserFirstName="",this.newUserLastName="",this.newUserRole="",this.newUserEmail="",this.newUserPassword="",this.users=[]}ngOnInit(){this.loadClient()}loadClient(){let n=this.route.snapshot.paramMap.get("id");n&&this.clientService.getClient(n).subscribe(i=>{this.client=i,console.log("Loaded client: ",i),console.log("UserRefs: ",this.client.userRefs),this.client?.userRefs&&this.userService.fetchUsersByIds(this.client.userRefs).subscribe(c=>{this.users=c})})}addUser(){let n={firstname:this.newUserFirstName,lastname:this.newUserLastName,role:this.newUserRole,email:this.newUserEmail,passwordHash:this.newUserPassword,assignedlocations:[],clientid:this.client?._id,_id:"",assignedzones:[]};this.userService.createNewUser(n).subscribe({next:i=>{console.log("User created successfully",i),this.client&&this.client.userRefs&&i._id&&(this.client.userRefs.push(i._id),console.log(this.client.userRefs[0]),this.updateClient())},error:i=>console.error("Error creating newuser:",i)})}updateUser(n){this.userService.updateUser(n).subscribe({next:()=>{console.log("User updated successfully"),this.loadClient()},error:i=>console.error("Error updating user:",i)})}deleteUser(n){this.userService.deleteUser(n).subscribe({next:()=>{console.log("User deleted successfully"),this.loadClient()},error:i=>console.error("Error deleting user:",i)})}editLocation(n){}deleteLocation(n){this.client&&(this.client.location.splice(n,1),this.updateClient())}updateClient(){this.client&&this.client._id&&this.clientService.updateClient(this.client._id.toString(),this.client).subscribe({next:()=>this.loadClient(),error:n=>console.error(n)})}addLocation(){if(this.client&&(this.client.location||(this.client.location=[]),this.newLocationName)){let n={locationname:this.newLocationName,zone:[],assignedusers:[],_id:""};this.client.location.push(n),this.updateClient()}}viewZones(n){this.selectedLocation=n}addZone(){if(this.selectedLocation&&this.newZoneName.trim()){this.selectedLocation.zone||(this.selectedLocation.zone=[]);let n={zonename:this.newZoneName,steps:[],assignedusers:[],lastcheckin:"",lastcheckout:"",lastuser:"",timespent:"",qrcode:"",_id:""};this.selectedLocation&&this.selectedLocation.zone.push(n),this.newZoneName="",this.updateClient()}}viewSteps(n){this.selectedZone=n}addStep(){this.selectedZone&&(this.selectedZone.steps||(this.selectedZone.steps=[]),this.newStep&&(this.selectedZone.steps.push(this.newStep),this.newStep="",this.updateClient()))}};e.\u0275fac=function(i){return new(i||e)(Q(Kt),Q(jn),Q(fs),Q(Yt))},e.\u0275cmp=yt({type:e,selectors:[["app-client-detail"]],standalone:!0,features:[wt],decls:23,vars:11,consts:[[1,"client-detail"],[4,"ngFor","ngForOf"],[1,"add-newuser"],["type","text","placeholder","First Name",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name",3,"ngModel","ngModelChange"],["type","text","placeholder","Role",3,"ngModel","ngModelChange"],["type","email","placeholder","Email",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",3,"ngModel","ngModelChange"],[3,"click"],[1,"location-list"],["class","location-item",4,"ngFor","ngForOf"],[1,"add-location"],["type","text","placeholder","Location Name",1,"location-input",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-sm",3,"click"],["class","zone-display",4,"ngIf"],["class","steps-display",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"location-item"],[1,"location-name"],[1,"location-actions"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"zone-display"],[1,"zone-list"],["class","zone-item",4,"ngFor","ngForOf"],["type","text","placeholder","New Zone Name",1,"zone-input",3,"ngModel","ngModelChange"],[1,"zone-item"],[4,"ngIf","ngIfElse"],["noQrCode",""],[1,"btn","btn-success","btn-sm",3,"click"],["alt","QR Code",2,"width","100px","height","100px",3,"src"],[1,"steps-display"],[1,"steps-list"],["class","step-item",4,"ngFor","ngForOf"],["type","text","placeholder","New Step",1,"step-input",3,"ngModel","ngModelChange"],[1,"step-item"]],template:function(i,c){i&1&&(L(0,"div",0)(1,"h1"),G(2),P(),L(3,"h2"),G(4,"Associated Users"),P(),L(5,"ul"),Ue(6,IN,4,4,"li",1),P(),L(7,"div",2)(8,"input",3),fe("ngModelChange",function(p){return c.newUserFirstName=p}),P(),L(9,"input",4),fe("ngModelChange",function(p){return c.newUserLastName=p}),P(),L(10,"input",5),fe("ngModelChange",function(p){return c.newUserRole=p}),P(),L(11,"input",6),fe("ngModelChange",function(p){return c.newUserEmail=p}),P(),L(12,"input",7),fe("ngModelChange",function(p){return c.newUserPassword=p}),P(),L(13,"button",8),fe("click",function(){return c.addUser()}),G(14,"Add User"),P()(),L(15,"ul",9),Ue(16,DN,10,1,"li",10),P(),L(17,"div",11)(18,"input",12),fe("ngModelChange",function(p){return c.newLocationName=p}),P(),L(19,"button",13),fe("click",function(){return c.addLocation()}),G(20,"Add Location"),P()(),Ue(21,_N,9,3,"div",14)(22,MN,9,3,"div",15),P()),i&2&&($(2),ln("",c.client==null?null:c.client.clientname,"'s Details"),$(4),ne("ngForOf",c.users),$(2),ne("ngModel",c.newUserFirstName),$(),ne("ngModel",c.newUserLastName),$(),ne("ngModel",c.newUserRole),$(),ne("ngModel",c.newUserEmail),$(),ne("ngModel",c.newUserPassword),$(4),ne("ngForOf",c.client==null?null:c.client.location),$(2),ne("ngModel",c.newLocationName),$(3),ne("ngIf",c.selectedLocation),$(),ne("ngIf",c.selectedZone))},dependencies:[$t,Ii,Dr,Ri,Oi,ds,Fa],encapsulation:2});let t=e;return t})();var Iw=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl="/api"}register(n){return this.http.post(`${this.apiUrl}/auth/register`,n)}login(n){return this.http.post(`${this.apiUrl}/auth/login`,n).pipe()}};e.\u0275fac=function(i){return new(i||e)(ae(ao))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ON(t,e){if(t&1){let r=kt();L(0,"div")(1,"button",1),fe("click",function(){Ge(r);let i=de();return We(i.showLogin())}),G(2,"Login"),P(),L(3,"button",1),fe("click",function(){Ge(r);let i=de();return We(i.showRegister())}),G(4,"Register"),P()()}}function RN(t,e){if(t&1){let r=kt();L(0,"div")(1,"input",2),fe("ngModelChange",function(i){Ge(r);let c=de();return We(c.user.email=i)}),P(),L(2,"input",3),fe("ngModelChange",function(i){Ge(r);let c=de();return We(c.user.password=i)}),P(),L(3,"button",1),fe("click",function(){Ge(r);let i=de();return We(i.login())}),G(4,"Login"),P()()}if(t&2){let r=de();$(),ne("ngModel",r.user.email),$(),ne("ngModel",r.user.password)}}function FN(t,e){if(t&1){let r=kt();L(0,"div")(1,"input",4),fe("ngModelChange",function(i){Ge(r);let c=de();return We(c.user.firstname=i)}),P(),L(2,"input",5),fe("ngModelChange",function(i){Ge(r);let c=de();return We(c.user.lastname=i)}),P(),L(3,"input",2),fe("ngModelChange",function(i){Ge(r);let c=de();return We(c.user.email=i)}),P(),L(4,"input",3),fe("ngModelChange",function(i){Ge(r);let c=de();return We(c.user.password=i)}),P(),L(5,"select",6),fe("ngModelChange",function(i){Ge(r);let c=de();return We(c.user.role=i)}),L(6,"option",7),G(7,"Select your role"),P(),L(8,"option",8),G(9,"Superuser"),P(),L(10,"option",9),G(11,"Manager"),P(),L(12,"option",10),G(13,"Employee"),P()(),L(14,"button",1),fe("click",function(){Ge(r);let i=de();return We(i.register())}),G(15,"Register"),P()()}if(t&2){let r=de();$(),ne("ngModel",r.user.firstname),$(),ne("ngModel",r.user.lastname),$(),ne("ngModel",r.user.email),$(),ne("ngModel",r.user.password),$(),ne("ngModel",r.user.role)}}var Dw=(()=>{let e=class e{constructor(n,i){this.authService=n,this.router=i,this.user={firstname:"",lastname:"",email:"",password:"",role:""},this.showLoginForm=!1,this.showRegisterForm=!1}showLogin(){this.showLoginForm=!0,this.showRegisterForm=!1}showRegister(){this.showRegisterForm=!0,this.showLoginForm=!1}login(){let n={email:this.user.email,password:this.user.password};this.authService.login(n).subscribe({next:i=>{console.log("Login successful",i),this.navigateToDashboard(i.role,i.clientid,i.userID)},error:i=>{console.error("Login failed",i)}})}register(){this.authService.register(this.user).subscribe({next:n=>{console.log("Registration successful",n),this.navigateToDashboard(this.user.role,n.clientid,n.userID)},error:n=>{console.error("Registration failed",n)}})}navigateToDashboard(n,i,c){switch(n){case"superuser":this.router.navigate(["/superuser-dashboard"]);break;case"manager":this.router.navigate(["/client/",i]);break;case"employee":this.router.navigate(["/employee/",c]);break;default:console.error("Unknown role",n);break}}};e.\u0275fac=function(i){return new(i||e)(Q(Iw),Q(Yt))},e.\u0275cmp=yt({type:e,selectors:[["app-landing-page"]],standalone:!0,features:[wt],decls:5,vars:3,consts:[[4,"ngIf"],[3,"click"],["type","email","placeholder","Email",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",3,"ngModel","ngModelChange"],["type","text","placeholder","First Name",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","superuser"],["value","manager"],["value","employee"]],template:function(i,c){i&1&&(L(0,"h1"),G(1,"Janitorial Management Application"),P(),Ue(2,ON,5,0,"div",0)(3,RN,5,2,"div",0)(4,FN,16,5,"div",0)),i&2&&($(2),ne("ngIf",!c.showLoginForm&&!c.showRegisterForm),$(),ne("ngIf",c.showLoginForm),$(),ne("ngIf",c.showRegisterForm))},dependencies:[$t,Dr,Ri,pw,mw,Oi,bu,ds,Fa,Tr]});let t=e;return t})();var Aw=(()=>{let e=class e{constructor(){this.currentDate=new Date}ngOnInit(){this.updateTime()}ngOnDestroy(){this.timerId&&clearInterval(this.timerId)}updateTime(){this.timerId=setInterval(()=>{this.currentDate=new Date},1e3)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=yt({type:e,selectors:[["app-datetime"]],standalone:!0,features:[wt],decls:4,vars:4,template:function(i,c){i&1&&(L(0,"div")(1,"p"),G(2),_l(3,"date"),P()()),i&2&&($(2),ln("Current Date and Time: ",Uy(3,1,c.currentDate,"full"),""))},dependencies:[$t,dC,Tr]});let t=e;return t})();function PN(t,e){if(t&1&&(L(0,"tr")(1,"td"),G(2),P(),L(3,"td"),G(4),P(),L(5,"td"),G(6),P(),L(7,"td"),G(8),P(),L(9,"td"),G(10),P(),L(11,"td"),G(12),P()()),t&2){let r=e.$implicit;$(2),xt(r.firstname),$(2),xt(r.lastname),$(2),xt(r.role),$(2),xt(r.email),$(2),xt(r.assignedlocations.length),$(2),xt(r.assignedzones.length)}}function LN(t,e){if(t&1&&(L(0,"div")(1,"h2"),G(2,"Associated Users"),P(),L(3,"table")(4,"tr")(5,"th"),G(6,"First Name"),P(),L(7,"th"),G(8,"Last Name"),P(),L(9,"th"),G(10,"Role"),P(),L(11,"th"),G(12,"Email"),P(),L(13,"th"),G(14,"Locations"),P(),L(15,"th"),G(16,"Zones"),P()(),Ue(17,PN,13,6,"tr",1),P()()),t&2){let r=de();$(17),ne("ngForOf",r.users)}}function kN(t,e){if(t&1&&(L(0,"option",6),G(1),P()),t&2){let r=e.$implicit;ne("value",r._id),$(),Ks("",r.firstname," ",r.lastname," - ",r.role," - ",r.email,"")}}function BN(t,e){if(t&1){let r=kt();L(0,"tr")(1,"td"),G(2),P(),L(3,"td")(4,"button",5),fe("click",function(){let c=Ge(r).$implicit,f=de(2).$implicit,p=de(2);return We(p.unassignUser(c,f))}),G(5,"Unassign"),P()()()}if(t&2){let r=e.$implicit,n=de(4);$(2),xt(n.getUserInfo(r))}}function VN(t,e){if(t&1&&(L(0,"div"),vn(1,"img",10),P()),t&2){let r=de().$implicit;$(),Fh("alt","QR Code for ",r.zonename,""),ne("src",r.qrcode,qs)}}function UN(t,e){t&1&&(L(0,"p"),G(1,"Missing QR Code"),P())}function jN(t,e){if(t&1&&(L(0,"option",6),G(1),P()),t&2){let r=e.$implicit;ne("value",r._id),$(),Zo(" ",r.firstname," ",r.lastname," ")}}function HN(t,e){if(t&1){let r=kt();L(0,"div")(1,"select",2,11),Ue(3,jN,2,3,"option",4),P(),L(4,"button",5),fe("click",function(){Ge(r);let i=Yo(2),c=de().$implicit,f=de(4);return We(f.assignUsersToZone(i,c))}),G(5,"Assign Selected Users"),P()()}if(t&2){let r=de().$implicit,n=de(4);$(3),ne("ngForOf",n.getUnassignedUsersForZone(r._id))}}function zN(t,e){if(t&1){let r=kt();L(0,"tr")(1,"td"),G(2),P(),L(3,"td"),G(4),P(),L(5,"td"),G(6),P(),L(7,"td")(8,"button",5),fe("click",function(){let c=Ge(r).$implicit,f=de(2).$implicit,p=de(4);return We(p.unassignUserFromZone(c._id,f))}),G(9,"Unassign"),P()()()}if(t&2){let r=e.$implicit;$(2),Zo("",r.firstname," ",r.lastname,""),$(2),ln("Role: ",r.role,""),$(2),ln("Email: ",r.email,"")}}function GN(t,e){if(t&1&&(L(0,"div")(1,"table"),Ue(2,zN,10,4,"tr",1),P()()),t&2){let r=de(5);$(2),ne("ngForOf",r.assignedUsersForZone)}}function WN(t,e){if(t&1){let r=kt();L(0,"div"),G(1),Ue(2,VN,2,2,"div",8)(3,UN,2,0,"ng-template",null,9,Ml),L(5,"div")(6,"button",5),fe("click",function(){let c=Ge(r).$implicit,f=de(4);return We(f.toggleSelectedZone(c._id))}),G(7,"Assign Users"),P(),Ue(8,HN,6,1,"div",0)(9,GN,3,1,"div",0),P()()}if(t&2){let r=e.$implicit,n=Yo(4),i=de(4);$(),Ph(" ",r.zonename," Last Checkin: ",r.lastcheckin," Last Checkout: ",r.lastcheckout," Time Spent: ",r.timespent," Last User: ",r.lastuser," "),$(),ne("ngIf",r.qrcode)("ngIfElse",n),$(6),ne("ngIf",i.isZoneSelected(r._id)),$(),ne("ngIf",i.isZoneSelected(r._id))}}function $N(t,e){if(t&1&&(L(0,"table"),Ue(1,BN,6,1,"tr",1),L(2,"tr")(3,"td",7)(4,"h3"),G(5),P(),Ue(6,WN,10,9,"div",1),P()()()),t&2){let r=de().$implicit,n=de(2);$(),ne("ngForOf",r.assignedusers),$(4),ln("Zones in ",n.selectedLocation.locationname,""),$(),ne("ngForOf",n.selectedLocation.zone)}}function YN(t,e){if(t&1){let r=kt();L(0,"div")(1,"table")(2,"tr")(3,"td"),G(4),P(),L(5,"td")(6,"select",2,3),Ue(8,kN,2,5,"option",4),P(),L(9,"button",5),fe("click",function(){let c=Ge(r).$implicit,f=Yo(7),p=de(2);return We(p.submitAssignedUsers(f,c))}),G(10,"Assign Users"),P(),L(11,"button",5),fe("click",function(){let c=Ge(r).$implicit,f=de(2);return We(f.viewZones(c))}),G(12,"View Zones"),P()()()(),Ue(13,$N,7,3,"table",0),P()}if(t&2){let r=e.$implicit,n=de(2);$(4),xt(r.locationname),$(4),ne("ngForOf",n.users),$(5),ne("ngIf",n.selectedLocation&&n.selectedLocation._id===r._id)}}function ZN(t,e){if(t&1&&(L(0,"div")(1,"h2"),G(2,"Locations"),P(),Ue(3,YN,14,3,"div",1),P()),t&2){let r=de();$(3),ne("ngForOf",r.client.location)}}var bw=(()=>{let e=class e{constructor(n,i,c){this.clientService=n,this.userService=i,this.route=c,this.users=[],this.assignedUsersForZone=[]}ngOnInit(){this.loadClientAndUsers()}loadClientAndUsers(){let n=this.route.snapshot.paramMap.get("id");n&&this.clientService.getClient(n).subscribe(i=>{this.client=i,i.userRefs&&i.userRefs.length>0&&this.loadUsers(i.userRefs)})}unassignUserFromZone(n,i){this.updateZoneUserAssignments([n],i,!1)}getUsersForLocation(n){return this.users.filter(i=>i.assignedlocations.includes(n))}loadUsers(n){this.userService.fetchUsersByIds(n).subscribe(i=>{this.users=i})}viewZones(n){this.selectedZone=void 0,this.selectedLocation=n,this.selectedZoneId=void 0}toggleSelectedZone(n){this.selectedZoneId===n?(this.selectedZoneId=void 0,this.assignedUsersForZone=[]):(this.selectedZoneId=n,this.loadAssignedUsersForZone(n))}loadAssignedUsersForZone(n){this.assignedUsersForZone=this.users.filter(i=>i.assignedzones?.includes(n))}isZoneSelected(n){return this.selectedZoneId===n}submitAssignedUsers(n,i){let c=Array.from(n.selectedOptions).map(f=>f.value);this.updateUserAssignments(c,i)}unassignUser(n,i){this.updateUserAssignments([n],i,!1)}getUserInfo(n){let i=this.users.find(c=>c._id===n);return i?`${i.firstname} ${i.lastname} - ${i.role} - ${i.email}`:"User not found"}assignUsersToZone(n,i){let c=Array.from(n.selectedOptions).map(f=>f.value);this.updateZoneUserAssignments(c,i)}updateUserAssignments(n,i,c=!0){n.forEach(f=>{let p=this.users.find(x=>x._id===f);if(!p){console.error("User not found:",f);return}c?p.assignedlocations.includes(i._id)||p.assignedlocations.push(i._id):p.assignedlocations.includes(i._id)&&(p.assignedlocations=p.assignedlocations.filter(x=>x!==i._id),p.assignedzones=p.assignedzones.filter(x=>!i.zone.some(m=>m._id===x))),this.userService.updateUser(p).subscribe()}),c?i.assignedusers=Array.from(new Set([...i.assignedusers,...n])):i.assignedusers=i.assignedusers.filter(f=>!n.includes(f)),this.client&&this.client._id&&this.clientService.updateClient(this.client._id,this.client).subscribe({next:()=>this.loadClientAndUsers(),error:f=>console.error("Error updating client:",f)})}updateZoneUserAssignments(n,i,c=!0){n.forEach(f=>{let p=this.users.find(x=>x._id===f);if(!p){console.error("User not found:",f);return}c?p.assignedzones.includes(i._id)||(p.assignedzones.push(i._id),this.userService.updateUser(p).subscribe()):p.assignedzones.includes(i._id)&&(p.assignedzones=p.assignedzones.filter(x=>x!==i._id),this.userService.updateUser(p).subscribe())}),i.assignedusers=c?[...i.assignedusers,...n]:i.assignedusers.filter(f=>!n.includes(f)),this.client&&this.client._id&&this.clientService.updateClient(this.client._id,this.client).subscribe({next:()=>{console.log("Client updated successfully."),this.loadClientAndUsers()},error:f=>console.error("Error updating client:",f)})}getUnassignedUsersForZone(n){let i=this.selectedLocation;return i?this.users.filter(c=>c.assignedlocations?.includes(i._id)&&(!c.assignedzones||!c.assignedzones.includes(n))):[]}};e.\u0275fac=function(i){return new(i||e)(Q(jn),Q(fs),Q(Kt))},e.\u0275cmp=yt({type:e,selectors:[["app-managerdashboard"]],standalone:!0,features:[wt],decls:6,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["multiple",""],["assignedUsersSelect",""],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[3,"value"],["colspan","2"],[4,"ngIf","ngIfElse"],["noQrCode",""],[2,"width","100px","height","100px",3,"src","alt"],["assignUsersSelect",""]],template:function(i,c){i&1&&(L(0,"div")(1,"h1"),G(2),P(),vn(3,"app-datetime"),Ue(4,LN,18,1,"div",0)(5,ZN,4,1,"div",0),P()),i&2&&($(2),ln("",c.client==null?null:c.client.clientname,"'s Dashboard"),$(2),ne("ngIf",c.users.length>0),$(),ne("ngIf",c.client))},dependencies:[Aw,$t,Ii,Dr,Tr],styles:[".container[_ngcontent-%COMP%]{padding:15px;display:flex;flex-direction:column;align-items:center;max-width:800px;margin:auto}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center}h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}h2[_ngcontent-%COMP%]{font-size:20px;margin:20px 0}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.scan-message[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:15px;margin:20px 0;border-radius:5px;width:100%;text-align:center}#qr-reader[_ngcontent-%COMP%]{width:100%;max-width:500px;height:auto;margin:20px 0}.scan-btn[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;padding:10px 20px;font-size:16px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.scan-btn[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]});let t=e;return t})();var K=function(t){return t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",t}(K||{}),Sw=new Map([[K.QR_CODE,"QR_CODE"],[K.AZTEC,"AZTEC"],[K.CODABAR,"CODABAR"],[K.CODE_39,"CODE_39"],[K.CODE_93,"CODE_93"],[K.CODE_128,"CODE_128"],[K.DATA_MATRIX,"DATA_MATRIX"],[K.MAXICODE,"MAXICODE"],[K.ITF,"ITF"],[K.EAN_13,"EAN_13"],[K.EAN_8,"EAN_8"],[K.PDF_417,"PDF_417"],[K.RSS_14,"RSS_14"],[K.RSS_EXPANDED,"RSS_EXPANDED"],[K.UPC_A,"UPC_A"],[K.UPC_E,"UPC_E"],[K.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function _w(t){return Object.values(K).includes(t)}var Mr=function(t){return t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",t}(Mr||{}),En=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Mr.SCAN_TYPE_CAMERA,Mr.SCAN_TYPE_FILE],t}();var _u=function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Sw.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Sw.get(e))},t}();var mg=function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}();var Tw=function(t){return t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",t}(Tw||{}),Tu=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Tw.UNKWOWN_ERROR}},t}();var Mu=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Hn(t){return typeof t>"u"||t===null}function Mw(t,e,r){return t>r?r:t<e?e:t}var Fi=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}();var ke=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}();var yg=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}();var Cg=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(i),f=Object.keys(e),p=0,x=f;p<x.length;p++){var m=x[p];if(c.has(m))return r.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},t}();var qe=eE(Ow());var xg=function(){function t(e,r,n){if(this.formatMap=new Map([[K.QR_CODE,qe.BarcodeFormat.QR_CODE],[K.AZTEC,qe.BarcodeFormat.AZTEC],[K.CODABAR,qe.BarcodeFormat.CODABAR],[K.CODE_39,qe.BarcodeFormat.CODE_39],[K.CODE_93,qe.BarcodeFormat.CODE_93],[K.CODE_128,qe.BarcodeFormat.CODE_128],[K.DATA_MATRIX,qe.BarcodeFormat.DATA_MATRIX],[K.MAXICODE,qe.BarcodeFormat.MAXICODE],[K.ITF,qe.BarcodeFormat.ITF],[K.EAN_13,qe.BarcodeFormat.EAN_13],[K.EAN_8,qe.BarcodeFormat.EAN_8],[K.PDF_417,qe.BarcodeFormat.PDF_417],[K.RSS_14,qe.BarcodeFormat.RSS_14],[K.RSS_EXPANDED,qe.BarcodeFormat.RSS_EXPANDED],[K.UPC_A,qe.BarcodeFormat.UPC_A],[K.UPC_E,qe.BarcodeFormat.UPC_E],[K.UPC_EAN_EXTENSION,qe.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!qe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),c=new Map;c.set(qe.DecodeHintType.POSSIBLE_FORMATS,i),c.set(qe.DecodeHintType.TRY_HARDER,!1),this.hints=c}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(c){i(c)}})},t.prototype.decode=function(e){var r=new qe.MultiFormatReader(this.verbose,this.hints),n=new qe.HTMLCanvasElementLuminanceSource(e),i=new qe.BinaryBitmap(new qe.HybridBinarizer(n)),c=r.decode(i);return{text:c.text,format:_u.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var c=i[n];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}();var XN=function(t,e,r,n){function i(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(E){try{m(n.next(E))}catch(D){f(D)}}function x(E){try{m(n.throw(E))}catch(D){f(D)}}function m(E){E.done?c(E.value):i(E.value).then(p,x)}m((n=n.apply(t,e||[])).next())})},qN=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,i,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(m){return function(E){return x([m,E])}}function x(m){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(c=m[0]&2?i.return:m[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,m[1])).done)return c;switch(i=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){r.label=m[1];break}if(m[0]===6&&r.label<c[1]){r.label=c[1],c=m;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(m);break}c[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(E){m=[6,E],i=0}finally{n=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},wg=function(){function t(e,r,n){if(this.formatMap=new Map([[K.QR_CODE,"qr_code"],[K.AZTEC,"aztec"],[K.CODABAR,"codabar"],[K.CODE_39,"code_39"],[K.CODE_93,"code_93"],[K.CODE_128,"code_128"],[K.DATA_MATRIX,"data_matrix"],[K.ITF,"itf"],[K.EAN_13,"ean_13"],[K.EAN_8,"ean_8"],[K.PDF_417,"pdf417"],[K.UPC_A,"upc_a"],[K.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return XN(this,void 0,void 0,function(){var r,n;return qN(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:_u.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,c=e;i<c.length;i++){var f=c[i],p=f.boundingBox.width*f.boundingBox.height;p>n&&(n=p,r=f)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var c=i[n];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}();var Rw=function(t,e,r,n){function i(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(E){try{m(n.next(E))}catch(D){f(D)}}function x(E){try{m(n.throw(E))}catch(D){f(D)}}function m(E){E.done?c(E.value):i(E.value).then(p,x)}m((n=n.apply(t,e||[])).next())})},Fw=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,i,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(m){return function(E){return x([m,E])}}function x(m){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(c=m[0]&2?i.return:m[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,m[1])).done)return c;switch(i=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){r.label=m[1];break}if(m[0]===6&&r.label<c[1]){r.label=c[1],c=m;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(m);break}c[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(E){m=[6,E],i=0}finally{n=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Pw=function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&wg.isSupported()?(this.primaryDecoder=new wg(e,n,i),this.secondaryDecoder=new xg(e,n,i)):this.primaryDecoder=new xg(e,n,i)}return t.prototype.decodeAsync=function(e){return Rw(this,void 0,void 0,function(){var r;return Fw(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return Rw(this,void 0,void 0,function(){var r,n;return Fw(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var c=e/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}();var vg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ou=function(t,e,r,n){function i(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(E){try{m(n.next(E))}catch(D){f(D)}}function x(E){try{m(n.throw(E))}catch(D){f(D)}}function m(E){E.done?c(E.value):i(E.value).then(p,x)}m((n=n.apply(t,e||[])).next())})},Ru=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,i,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(m){return function(E){return x([m,E])}}function x(m){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(c=m[0]&2?i.return:m[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,m[1])).done)return c;switch(i=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){r.label=m[1];break}if(m[0]===6&&r.label<c[1]){r.label=c[1],c=m;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(m);break}c[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(E){m=[6,E],i=0}finally{n=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Lw=function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t}(),QN=function(t){vg(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(Lw),KN=function(t){vg(e,t);function e(r){return t.call(this,"zoom",r)||this}return e}(QN),JN=function(t){vg(e,t);function e(r){return t.call(this,"torch",r)||this}return e}(Lw),e3=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new KN(this.track)},t.prototype.torchFeature=function(){return new JN(this.track)},t}(),t3=function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return Ou(this,void 0,void 0,function(){var c,f;return Ru(this,function(p){switch(p.label){case 0:return c=new t(e,r,i),n.aspectRatio?(f={aspectRatio:n.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:p.sent(),p.label=2;case 2:return c.setupSurface(),[2,c]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Ou(this,void 0,void 0,function(){return Ru(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),c=i.length,f=0;e.mediaStream.getVideoTracks().forEach(function(p){e.mediaStream.removeTrack(p),p.stop(),++f,f>=c&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new e3(this.getFirstTrackOrFail())},t}(),kw=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return Ou(this,void 0,void 0,function(){return Ru(this,function(i){return[2,t3.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return Ou(this,void 0,void 0,function(){var r,n;return Ru(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t}();var Bw=function(t,e,r,n){function i(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(E){try{m(n.next(E))}catch(D){f(D)}}function x(E){try{m(n.throw(E))}catch(D){f(D)}}function m(E){E.done?c(E.value):i(E.value).then(p,x)}m((n=n.apply(t,e||[])).next())})},Vw=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,i,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(m){return function(E){return x([m,E])}}function x(m){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(c=m[0]&2?i.return:m[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,m[1])).done)return c;switch(i=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){r.label=m[1];break}if(m[0]===6&&r.label<c[1]){r.label=c[1],c=m;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(m);break}c[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(E){m=[6,E],i=0}finally{n=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Uw=function(){function t(){}return t.failIfNotSupported=function(){return Bw(this,void 0,void 0,function(){return Vw(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Bw(this,void 0,void 0,function(){return Vw(this,function(r){return[2,kw.create(e)]})})},t}();var n3=function(t,e,r,n){function i(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(E){try{m(n.next(E))}catch(D){f(D)}}function x(E){try{m(n.throw(E))}catch(D){f(D)}}function m(E){E.done?c(E.value):i(E.value).then(p,x)}m((n=n.apply(t,e||[])).next())})},r3=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,i,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(m){return function(E){return x([m,E])}}function x(m){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(c=m[0]&2?i.return:m[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,m[1])).done)return c;switch(i=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){r.label=m[1];break}if(m[0]===6&&r.label<c[1]){r.label=c[1],c=m;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(m);break}c[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(E){m=[6,E],i=0}finally{n=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},jw=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Fi.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Fi.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return n3(this,void 0,void 0,function(){var e,r,n,i,c,f,p;return r3(this,function(x){switch(x.label){case 0:return e=function(m){for(var E=m.getVideoTracks(),D=0,T=E;D<T.length;D++){var N=T[D];N.enabled=!1,N.stop(),m.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=x.sent(),i=[],c=0,f=n;c<f.length;c++)p=f[c],p.kind==="videoinput"&&i.push({id:p.deviceId,label:p.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(c){for(var f=[],p=0,x=c;p<x.length;p++){var m=x[p];m.kind==="video"&&f.push({id:m.id,label:m.label})}e(f)},i=MediaStreamTrack;i.getSources(n)})},t}();var ht=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED",t}(ht||{}),i3=function(){function t(){this.state=ht.NOT_STARTED,this.onGoingTransactionNewState=ht.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===ht.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ht.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===ht.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ht.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ht.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case ht.UNKNOWN:throw"Transition from unknown is not allowed";case ht.NOT_STARTED:this.failIfNewStateIs(e,[ht.PAUSED]);break;case ht.SCANNING:break;case ht.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var c=i[n];if(e===c)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),o3=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===ht.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==ht.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ht.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===ht.PAUSED},t}();var Hw=function(){function t(){}return t.create=function(){return new o3(new i3)},t}();var s3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),On=function(t){s3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(En),a3=function(){function t(e,r){this.logger=r,this.fps=On.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=On.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Cg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Hn(this.qrbox)},t.create=function(e,r){return new t(e,r)},t}(),hs=function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n,i;typeof r=="boolean"?this.verbose=r===!0:r&&(i=r,this.verbose=i.verbose===!0,n=i.experimentalFeatures),this.logger=new Mu(this.verbose),this.qrcode=new Pw(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Hw.create()}return t.prototype.start=function(e,r,n,i){var c=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;i?f=i:f=this.verbose?this.logger.log:function(){};var p=a3.create(r,this.logger);this.clearElement();var x=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=x,E=document.getElementById(this.elementId),D=E.clientWidth?E.clientWidth:On.DEFAULT_WIDTH;E.style.position="relative",this.shouldScan=!0,this.element=E;var T=this,N=this.stateManagerProxy.startTransition(ht.SCANNING);return new Promise(function(H,J){var Y=m?p.videoConstraints:T.createVideoConstraints(e);if(!Y){N.cancel(),J("videoConstraints should be defined");return}var V={};(!m||p.aspectRatio)&&(V.aspectRatio=p.aspectRatio);var se={onRenderSurfaceReady:function(Ke,re){T.setupUi(Ke,re,p),T.isScanning=!0,T.foreverScan(p,n,f)}};Uw.failIfNotSupported().then(function(Ke){Ke.create(Y).then(function(re){return re.render(c.element,V,se).then(function(j){T.renderedCamera=j,N.execute(),H(null)}).catch(function(j){N.cancel(),J(j)})}).catch(function(re){N.cancel(),J(Fi.errorGettingUserMedia(re))})}).catch(function(Ke){N.cancel(),J(Fi.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ht.PAUSED),this.showPausedState(),(Hn(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(ht.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ht.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var c=document.getElementById(On.SHADED_REGION_ELEMENT_ID);c&&e.element.removeChild(c)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Hn(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,c){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var f=new Image;f.onload=function(){var p=f.width,x=f.height,m=document.getElementById(n.elementId),E=m.clientWidth?m.clientWidth:On.DEFAULT_WIDTH,D=Math.max(m.clientHeight?m.clientHeight:x,On.FILE_SCAN_MIN_HEIGHT),T=n.computeCanvasDrawConfig(p,x,E,D);if(r){var N=n.createCanvasElement(E,D,"qr-canvas-visible");N.style.display="inline-block",m.appendChild(N);var H=N.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=E,H.canvas.height=D,H.drawImage(f,0,0,p,x,T.x,T.y,T.width,T.height)}var J=On.FILE_SCAN_HIDDEN_CANVAS_PADDING,Y=Math.max(f.width,T.width),V=Math.max(f.height,T.height),se=Y+2*J,Ke=V+2*J,re=n.createCanvasElement(se,Ke);m.appendChild(re);var j=re.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=se,j.canvas.height=Ke,j.drawImage(f,0,0,p,x,J,J,Y,V);try{n.qrcode.decodeRobustlyAsync(re).then(function(me){i(mg.createFromQrcodeResult(me))}).catch(c)}catch(me){c("QR code parse error, error = ".concat(me))}},f.onerror=c,f.onabort=c,f.onstalled=c,f.onsuspend=c,f.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return jw.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!Cg.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[K.QR_CODE,K.AZTEC,K.CODABAR,K.CODE_39,K.CODE_93,K.CODE_128,K.DATA_MATRIX,K.MAXICODE,K.ITF,K.EAN_13,K.EAN_8,K.PDF_417,K.RSS_14,K.RSS_EXPANDED,K.UPC_A,K.UPC_E,K.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,c=e.formatsToSupport;i<c.length;i++){var f=c[i];_w(f)?n.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Hn(e))return!0;if(!Hn(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Hn(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return Hn(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,c=n.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(e,r,c),p=function(m){if(m<On.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(On.MIN_QR_BOX_SIZE,"px.")},x=function(m){return m>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=e),m};p(f.width),p(f.height),f.width=x(f.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=Hn(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var c=this.toQrdimensions(e,r,i);c.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=n.isShadedBoxEnabled()&&c.height<=r,p={x:0,y:0,width:e,height:r},x=f?this.getShadedRegionBounds(e,r,c):p,m=this.createCanvasElement(x.width,x.height),E={willReadFrequently:!0},D=m.getContext("2d",E);D.canvas.width=x.width,D.canvas.height=x.height,this.element.append(m),f&&this.possiblyInsertShadingElement(this.element,e,r,c),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=D,this.canvasElement=m},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=Fi.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,mg.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var c=Fi.codeParseError(i);return r(c,Tu.createFrom(c)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),f=c.videoWidth/c.clientWidth,p=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*f,m=this.qrRegion.height*p,E=this.qrRegion.x*f,D=this.qrRegion.y*p;this.context.drawImage(c,E,D,x,m,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(N){!N&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){T()})):T()}).catch(function(N){i.logger.logError("Error happend while scanning context",N),T()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},c="exact",f=function(H){if(H in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(H,"'")},p=Object.keys(e);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var x=Object.keys(e)[0];if(x!==r&&x!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(x===r){var m=e.facingMode;if(typeof m=="string"){if(f(m))return{facingMode:m}}else if(typeof m=="object")if(c in m){if(f(m["".concat(c)]))return{facingMode:{exact:m["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var E=typeof m;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var D=e.deviceId;if(typeof D=="string")return{deviceId:D};if(typeof D=="object"){if(c in D)return{deviceId:{exact:D["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var T=typeof D;throw"Invalid type of 'deviceId' = ".concat(T)}}}var N=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var c=(n-e)/2,f=(i-r)/2;return{x:c,y:f,width:e,height:r}}else{var p=e,x=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(x)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?On.BORDER_SHADER_MATCH_COLOR:On.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,c=r,f=document.createElement("canvas");return f.style.width="".concat(i,"px"),f.style.height="".concat(c,"px"),f.style.display="none",f.id=Hn(n)?"qr-canvas":n,f},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var c=document.createElement("div");c.style.position="absolute";var f=(r-i.width)/2,p=(n-i.height)/2;if(c.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(On.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var x=5,m=40;this.insertShaderBorders(c,m,x,-x,null,0,!0),this.insertShaderBorders(c,m,x,-x,null,0,!1),this.insertShaderBorders(c,m,x,null,-x,0,!0),this.insertShaderBorders(c,m,x,null,-x,0,!1),this.insertShaderBorders(c,x,m+x,-x,null,-x,!0),this.insertShaderBorders(c,x,m+x,null,-x,-x,!0),this.insertShaderBorders(c,x,m+x,-x,null,-x,!1),this.insertShaderBorders(c,x,m+x,null,-x,-x,!1),this.hasBorderShaders=!0}e.append(c)}},t.prototype.insertShaderBorders=function(e,r,n,i,c,f,p){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=On.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(r,"px"),x.style.height="".concat(n,"px"),i!==null&&(x.style.top="".concat(i,"px")),c!==null&&(x.style.bottom="".concat(c,"px")),p?x.style.left="".concat(f,"px"):x.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),e.appendChild(x)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}();var Eg="data:image/svg+xml;base64,",zw=Eg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Gw=Eg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Ig=Eg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Ww="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=";var $w=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),Yw=function(){function t(){this.data=$w.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=$w.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}();var c3=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=yg.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(i);var c=document.createElement("a");c.innerText=yg.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),l3=function(){function t(e,r){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=r,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Ig,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Ww,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Ig,this.infoIcon.style.opacity="0.6")},t}(),Zw=function(){function t(){var e=this;this.infoDiv=new c3,this.infoIcon=new l3(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}();var u3=function(t,e,r,n){function i(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(E){try{m(n.next(E))}catch(D){f(D)}}function x(E){try{m(n.throw(E))}catch(D){f(D)}}function m(E){E.done?c(E.value):i(E.value).then(p,x)}m((n=n.apply(t,e||[])).next())})},d3=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,i,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(m){return function(E){return x([m,E])}}function x(m){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(c=m[0]&2?i.return:m[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,m[1])).done)return c;switch(i=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){r.label=m[1];break}if(m[0]===6&&r.label<c[1]){r.label=c[1],c=m;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(m);break}c[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(E){m=[6,E],i=0}finally{n=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Dg=function(){function t(){}return t.hasPermissions=function(){return u3(this,void 0,void 0,function(){var e,r,n,i;return d3(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=c.sent(),r=0,n=e;r<n.length;r++)if(i=n[r],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t}();var Yr=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,r=this.supportedScanTypes;e<r.length;e++){var n=r[e];if(t.isCameraScanType(n))return!0}return!1},t.isCameraScanType=function(e){return e===Mr.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Mr.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return En.DEFAULT_SUPPORTED_SCAN_TYPE;var r=En.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,i=e;n<i.length;n++){var c=i[n];if(!En.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return e},t}();var Vt=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}();var In=function(){function t(){}return t.createElement=function(e,r){var n=document.createElement(e);return n.id=r,n.classList.add(Vt.ALL_ELEMENT_CLASS),e==="button"&&n.setAttribute("type","button"),n},t}();var qw=function(t,e,r,n){function i(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(E){try{m(n.next(E))}catch(D){f(D)}}function x(E){try{m(n.throw(E))}catch(D){f(D)}}function m(E){E.done?c(E.value):i(E.value).then(p,x)}m((n=n.apply(t,e||[])).next())})},Qw=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,i,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(m){return function(E){return x([m,E])}}function x(m){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(c=m[0]&2?i.return:m[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,m[1])).done)return c;switch(i=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){r.label=m[1];break}if(m[0]===6&&r.label<c[1]){r.label=c[1],c=m;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(m);break}c[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(E){m=[6,E],i=0}finally{n=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Xw=function(){function t(e,r,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=r,this.onTorchActionFailureCallback=n}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return qw(this,void 0,void 0,function(){var e,r;return Qw(this,function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return r=n.sent(),this.propagateFailure(e,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,r){e===r?(this.buttonController.setText(r?ke.torchOffButton():ke.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},t.prototype.propagateFailure=function(e,r){var n=e?ke.torchOnFailedMessage():ke.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),Kw=function(){function t(e,r){this.onTorchActionFailureCallback=r,this.torchButton=In.createElement("button",Vt.TORCH_BUTTON_ID),this.torchController=new Xw(e,this,r)}return t.prototype.render=function(e,r){var n=this;this.torchButton.innerText=ke.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var i=this;this.torchButton.addEventListener("click",function(c){return qw(n,void 0,void 0,function(){return Qw(this,function(f){switch(f.label){case 0:return[4,i.torchController.flipState()];case 1:return f.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Vt.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Vt.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Vt.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Vt.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new Xw(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=ke.torchOnButton(),this.torchController.reset()},t.create=function(e,r,n,i){var c=new t(r,i);return c.render(e,n),c},t}();var Jw=function(){function t(e,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=In.createElement("button",Vt.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=In.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var x=p.target;if(!(x.files&&x.files.length===0)){var m=x.files,E=m[0],D=E.name;c.setImageNameToButton(D),n(E)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(p){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(p){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(p){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(p){p.stopPropagation(),p.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var x=p.dataTransfer;if(x){var m=x.files;if(!m||m.length===0)return;for(var E=!1,D=0;D<m.length;++D){var T=m.item(D);if(T){var N=/image.*/;if(T.type.match(N)){E=!0;var H=T.name;c.setImageNameToButton(H),n(T),f.innerText=ke.dragAndDropMessage();break}}}E||(f.innerText=ke.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=ke.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var r=20;if(e.length>r){var n=e.substring(0,8),i=e.length,c=e.substring(i-8,i);e="".concat(n,"....").concat(c)}var f=ke.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=f},t.prototype.setInitialValueToButton=function(){var e=ke.fileSelectionChooseImage()+" - "+ke.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,r,n){var i=new t(e,r,n);return i},t}();var ev=function(){function t(e){this.selectElement=In.createElement("select",Vt.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var i=ke.selectCamera();r.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var c=1,f=0,p=this.cameras;f<p.length;f++){var x=p[f],m=x.id,E=x.label==null?m:x.label;(!E||E==="")&&(E=[ke.anonymousCameraPrefix(),c++].join(" "));var D=document.createElement("option");D.value=m,D.innerText=E,this.options.push(D),this.selectElement.appendChild(D)}r.appendChild(this.selectElement),e.appendChild(r)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var r=0,n=this.options;r<n.length;r++){var i=n[r];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,r){var n=new t(r);return n.render(e),n},t}();var tv=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=In.createElement("input",Vt.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=ke.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=ke.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,r,n,i){this.rangeInput.min=e.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,r){var n=new t;return n.render(e,r),n},t}();var zn=function(t){return t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",t}(zn||{});function f3(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function h3(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var p3=function(){function t(e,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Yr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Mu(this.verbose),this.persistedDataManager=new Yw,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,f){if(e)e(c,f);else{if(n.lastMatchFound===c)return;n.lastMatchFound=c,n.setHeaderMessage(ke.lastMatch(c),zn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,f){r&&r(c,f)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new hs(this.getScanRegionId(),h3(this.config,this.verbose))},t.prototype.pause=function(e){(Hn(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,r=function(){var n=document.getElementById(e.elementId);n&&(n.innerHTML="",e.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,i){if(!e.html5Qrcode){n();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(c){if(!e.html5Qrcode){n();return}e.html5Qrcode.clear(),r(),n()}).catch(function(c){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",c),i(c)}):(e.html5Qrcode.clear(),r(),n())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=En.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!En.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=En.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=En.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:En.SCAN_DEFAULT_FPS,rememberLastUsedCamera:En.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:En.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",e.appendChild(r),Yr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),c=this.getDashboardId();i.id=c,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",e.appendChild(r);var n=new Zw;n.renderInto(r);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",r.appendChild(i)},t.prototype.createSection=function(e){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",e.appendChild(r)},t.prototype.createCameraListUi=function(e,r,n){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(ke.cameraPermissionRequesting());var c=function(){n||i.createPermissionButton(e,r)};hs.getCameras().then(function(f){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),f&&f.length>0?(e.removeChild(r),i.renderCameraSelection(f)):(i.setHeaderMessage(ke.noCameraFound(),zn.STATUS_WARNING),c())}).catch(function(f){i.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:c(),i.setHeaderMessage(f,zn.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,r){var n=this,i=In.createElement("button",this.getCameraPermissionButtonId());i.innerText=ke.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,n.createCameraListUi(e,r,i)}),r.appendChild(i)},t.prototype.createPermissionsUi=function(e,r){var n=this;if(Yr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Dg.hasPermissions().then(function(i){i?n.createCameraListUi(e,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,r))}).catch(function(i){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,r)});return}this.createPermissionButton(e,r)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");e.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=Yr.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var i=document.createElement("div");i.style.textAlign="center",n.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,i),this.renderFileScanUi(r)},t.prototype.renderFileScanUi=function(e){var r=Yr.isFileScanType(this.currentScanType),n=this,i=function(c){if(!n.html5Qrcode)throw"html5Qrcode not defined";Yr.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(ke.loadingImage()),n.html5Qrcode.scanFileV2(c,!0).then(function(f){n.resetHeaderMessage(),n.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){n.setHeaderMessage(f,zn.STATUS_WARNING),n.qrCodeErrorCallback(f,Tu.createFrom(f))}))};this.fileSelectionUi=Jw.create(e,r,i)},t.prototype.renderCameraSelection=function(e){var r=this,n=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var c=tv.create(i,!1),f=function(J){var Y=J.zoomFeature();if(Y.isSupported()){c.setOnCameraZoomValueChangeCallback(function(se){Y.apply(se)});var V=1;r.config.defaultZoomValueIfSupported&&(V=r.config.defaultZoomValueIfSupported),V=Mw(V,Y.min(),Y.max()),c.setValues(Y.min(),Y.max(),V,Y.step()),c.show()}},p=ev.create(i,e),x=document.createElement("span"),m=In.createElement("button",Vt.CAMERA_START_BUTTON_ID);m.innerText=ke.scanButtonStartScanningText(),x.appendChild(m);var E=In.createElement("button",Vt.CAMERA_STOP_BUTTON_ID);E.innerText=ke.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,x.appendChild(E);var D,T=function(J){if(!J.torchFeature().isSupported()){D&&D.hide();return}D?D.updateTorchCapability(J.torchFeature()):D=Kw.create(x,J.torchFeature(),{display:"none",marginLeft:"5px"},function(Y){n.setHeaderMessage(Y,zn.STATUS_WARNING)}),D.show()};i.appendChild(x);var N=function(J){J||(m.style.display="none"),m.innerText=ke.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,J&&(m.style.display="inline-block")};if(m.addEventListener("click",function(J){m.innerText=ke.scanButtonScanningStarting(),p.disable(),m.disabled=!0,m.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var Y=p.getValue();n.persistedDataManager.setLastUsedCameraId(Y),n.html5Qrcode.start(Y,f3(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(V){E.disabled=!1,E.style.display="inline-block",N(!1);var se=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&T(se),r.config.showZoomSliderIfSupported===!0&&f(se)}).catch(function(V){n.showHideScanTypeSwapLink(!0),p.enable(),N(!0),n.setHeaderMessage(V,zn.STATUS_WARNING)})}),p.hasSingleItem()&&m.click(),E.addEventListener("click",function(J){if(!n.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,n.html5Qrcode.stop().then(function(Y){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),p.enable(),m.disabled=!1,E.style.display="none",m.style.display="inline-block",D&&(D.reset(),D.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(Y){E.disabled=!1,n.setHeaderMessage(Y,zn.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var H=n.persistedDataManager.getLastUsedCameraId();p.hasValue(H)?(p.setValue(H),m.click()):n.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,r=ke.textIfCameraScanSelected(),n=ke.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var f=In.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=Yr.isCameraScanType(this.currentScanType)?r:n,f.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Yr.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),f.innerText=n,e.currentScanType=Mr.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),f.innerText=r,e.currentScanType=Mr.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),c.appendChild(f),i.appendChild(c)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){Dg.hasPermissions().then(function(n){if(n){var i=document.getElementById(r.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,r){r||(r=zn.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",r){case zn.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case zn.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case zn.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=zw,this.cameraScanImage.alt=ke.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Gw,this.fileScanImage.alt=ke.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Vt.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Vt.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();var g3=["qrReader"];function m3(t,e){if(t&1&&(L(0,"td"),G(1),P()),t&2){let r=de(2).$implicit;io("rowspan",r.zone.length),$(),xt(r.locationname)}}function y3(t,e){if(t&1&&(L(0,"tr"),Ue(1,m3,2,2,"td",1),L(2,"td"),G(3),P(),L(4,"td"),G(5),P(),L(6,"td"),G(7),P(),L(8,"td"),G(9),P(),L(10,"td"),G(11),P()()),t&2){let r=e.$implicit,n=e.index;$(),ne("ngIf",n===0),$(2),xt(r.zonename),$(2),xt(r.lastcheckin),$(2),xt(r.lastcheckout),$(2),xt(r.timespent),$(2),xt(r.lastuser)}}function C3(t,e){if(t&1&&(Nh(0),Ue(1,y3,12,6,"tr",6),Oh()),t&2){let r=e.$implicit;$(),ne("ngForOf",r.zone)}}function x3(t,e){if(t&1&&(L(0,"div")(1,"h2"),G(2,"Your Locations"),P(),L(3,"table")(4,"thead")(5,"tr")(6,"th"),G(7,"Location Name"),P(),L(8,"th"),G(9,"Zone Name"),P(),L(10,"th"),G(11,"Last Check-In"),P(),L(12,"th"),G(13,"Last Check-Out"),P(),L(14,"th"),G(15,"Time Spent"),P(),L(16,"th"),G(17,"Last User"),P()()(),L(18,"tbody"),Ue(19,C3,2,1,"ng-container",6),P()()()),t&2){let r=de();$(19),ne("ngForOf",r.assignedLocations)}}function w3(t,e){if(t&1&&(L(0,"div",7),G(1),P()),t&2){let r=de();$(),xt(r.scanMessage)}}var nv=(()=>{let e=class e{constructor(n,i,c){this.route=n,this.clientService=i,this.userService=c,this.assignedLocations=[],this.scanMessage=""}ngOnInit(){this.route.paramMap.pipe(Ft(n=>{let i=this.route.snapshot.paramMap.get("id");return this.userService.getNewUserInfo(i)}),Ft(n=>(this.user=n,this.clientService.getClient(n.clientid)))).subscribe(n=>{this.client=n,this.assignedLocations=n.location.filter(i=>this.user?.assignedlocations.includes(i._id)||i.zone.some(c=>this.user?.assignedzones.includes(c._id))),this.assignedLocations.forEach(i=>{i.zone=i.zone.filter(c=>this.user?.assignedzones.includes(c._id))})})}ngOnDestroy(){}startScan(){let n=new hs("qr-reader");n.start({facingMode:"environment"},{fps:60,qrbox:250},i=>Ss(this,null,function*(){let c=i;if(!(!this.client||!this.client.location))for(let f of this.client.location){let p=f.zone.find(D=>D._id===c);if(!p)continue;let x=new Date,m=x.toISOString(),E=`${this.user?.firstname} ${this.user?.lastname}`;this.determineZoneOperation(p,m,E,x),this.stopScanner(n);try{let D=yield xd(this.clientService.updateClient(this.client._id,this.client));console.log("Client update successful",D)}catch(D){console.error("Error updating client",D)}break}}),i=>{}).catch(i=>{console.error(`Unable to start QR Code scanner: ${i}`)})}determineZoneOperation(n,i,c,f){let p=n.lastcheckin?new Date(n.lastcheckin):null,x=n.lastcheckout?new Date(n.lastcheckout):null;p&&x&&p<x?(this.clearPreviousSession(n),this.performCheckIn(n,i,c,f)):p&&(!x||p>x)?n.lastuser===c||!n.lastuser?this.performCheckOut(n,i,c,f):console.error("Different user trying to check out. Operation not allowed."):!p&&!x&&this.performCheckIn(n,i,c,f)}performCheckIn(n,i,c,f){this.clearPreviousSession(n),n.lastcheckin=i,n.lastuser=c,n.lastcheckout="",this.updateScanMessage(n.zonename,"Checked In",f)}clearPreviousSession(n){n.lastcheckin="",n.lastcheckout="",n.timespent=""}performCheckOut(n,i,c,f){n.lastcheckout=i;let p=new Date(n.lastcheckin),x=f.getTime()-p.getTime();n.timespent=this.formatTimeSpent(x),n.lastuser=c,this.updateScanMessage(n.zonename,"Checked Out",f)}stopScanner(n){n.stop().catch(i=>console.error("Error stopping scanner:",i))}formatTimeSpent(n){let i=Math.floor(n/1e3),c=Math.floor(i/3600);i%=3600;let f=Math.floor(i/60),p=i%60;return`${c}h ${f}m ${p}s`}updateScanMessage(n,i,c){let f=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",second:"numeric"}).format(c);this.scanMessage=`${n} ${i} at ${f}`}};e.\u0275fac=function(i){return new(i||e)(Q(Kt),Q(jn),Q(fs))},e.\u0275cmp=yt({type:e,selectors:[["app-employeedashboard"]],viewQuery:function(i,c){if(i&1&&zy(g3,5),i&2){let f;kh(f=Bh())&&(c.qrReaderElement=f.first)}},standalone:!0,features:[wt],decls:9,vars:4,consts:[[1,"container"],[4,"ngIf"],["class","scan-message",4,"ngIf"],["id","qr-reader",2,"width","500px","height","500px"],["qrReader",""],[1,"scan-btn",3,"click"],[4,"ngFor","ngForOf"],[1,"scan-message"]],template:function(i,c){i&1&&(L(0,"div",0)(1,"h1"),G(2),P(),Ue(3,x3,20,1,"div",1)(4,w3,2,1,"div",2),vn(5,"div",3,4),L(7,"button",5),fe("click",function(){return c.startScan()}),G(8,"Scan QR Code"),P()()),i&2&&($(2),Zo("Welcome, ",c.user==null?null:c.user.firstname," ",c.user==null?null:c.user.lastname,""),$(),ne("ngIf",c.assignedLocations.length>0),$(),ne("ngIf",c.scanMessage))},dependencies:[$t,Ii,Dr,Tr],styles:["div[_ngcontent-%COMP%]{padding:15px;display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center}h1[_ngcontent-%COMP%]{font-size:1.8em;margin-bottom:20px}h2[_ngcontent-%COMP%]{font-size:1.4em;margin-bottom:15px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:5px}.scan-message[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:15px;margin:20px 0;border-radius:5px;text-align:center;font-size:1em}#qr-reader[_ngcontent-%COMP%]{width:100%;height:auto;max-width:300px;margin:20px 0}button[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;padding:15px 30px;font-size:1em;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#c0392b}div.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;justify-content:space-between}button.scan-btn[_ngcontent-%COMP%]{position:fixed;left:50%;bottom:20px;transform:translate(-50%);padding:15px 30px;font-size:1em;background-color:#e74c3c;color:#fff;border:none;border-radius:5px;cursor:pointer}button.scan-btn[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]});let t=e;return t})();var rv=[{path:"",redirectTo:"landing",pathMatch:"full"},{path:"landing",component:Dw},{path:"clients",component:Fx},{path:"clients/new",component:ww},{path:"clients/edit/:id",component:vw},{path:"clients/:id",component:Ew},{path:"superuser-dashboard",redirectTo:"clients",pathMatch:"full"},{path:"client/:id",component:bw},{path:"employee/:id",component:nv}];var iv={providers:[Tx(rv),HC(),NC(OC())]};var ov=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=yt({type:e,selectors:[["app-root"]],standalone:!0,features:[wt],decls:1,vars:0,template:function(i,c){i&1&&vn(0,"router-outlet")},dependencies:[$t,Xp],encapsulation:2});let t=e;return t})();jC(ov,iv).catch(t=>console.error(t));
